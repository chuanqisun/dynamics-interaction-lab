(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{57:function(e,t,n){"use strict";n.r(t);var l,a,o=n(30),s=n(0),i=n(27),r=n.n(i),c=n(33),m=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},u={titleWidth:160,shellHeight:48,shellDividerSideMargin:8,shellDividerVerticalMargin:16,dividerStrokeWidth:1},p=function(e){function t(t){var n=e.call(this,t)||this;return n.updateDimensions=function(){n.reflowItems()},n.reflowItems=function(){for(var e,t,l={dynamicsDisplayStack:n.props.dynamicsDisplayStack.slice(),systemDisplayStack:n.props.systemDisplayStack.slice(),dynamicsOverflowStack:[],systemOverflowStack:[],customOverflowStack:n.props.customOverflowStack.slice()};n.canReduce(l)&&n.getRemainingSpace(l)<0;)l.dynamicsDisplayStack.length?(e=[l.dynamicsDisplayStack,[]],l.dynamicsOverflowStack=e[0],l.dynamicsDisplayStack=e[1]):(t=[l.systemDisplayStack,[]],l.systemOverflowStack=t[0],l.systemDisplayStack=t[1]);n.setState(l)},n.canReduce=function(e){return e.dynamicsDisplayStack.length+e.systemDisplayStack.length>0},n.editable=function(e){return e&&(e.contentEditable=!0)&&(e.spellcheck=!1)},n.getRemainingSpace=function(e){var t=u.shellHeight,n=u.titleWidth,l=u.shellHeight,a=u.shellHeight*e.dynamicsDisplayStack.length,o=1!==e.customOverflowStack.length||e.dynamicsOverflowStack.length||e.systemOverflowStack.length?0:u.shellHeight,s=e.customOverflowStack.length+e.dynamicsOverflowStack.length+e.systemOverflowStack.length>1?u.shellHeight:0,i=e.systemDisplayStack.length?2*u.shellDividerSideMargin+u.dividerStrokeWidth:0,r=u.shellHeight*e.systemDisplayStack.length,c=u.shellHeight;return window.innerWidth-(t+n+l+a+o+s+i+r+c)},n.getOverflowItems=function(e){return e.customOverflowStack.concat(e.dynamicsOverflowStack,e.systemOverflowStack)},n.toggleOverflowMenu=function(){n.setState({showOverflowMenu:!n.state.showOverflowMenu})},n.state={showOverflowMenu:!1,dynamicsDisplayStack:n.props.dynamicsDisplayStack.slice(),systemDisplayStack:n.props.systemDisplayStack.slice(),dynamicsOverflowStack:[],systemOverflowStack:[],customOverflowStack:n.props.customOverflowStack.slice()},n}return m(t,e),t.prototype.componentDidMount=function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions)},t.prototype.componentDidUpdate=function(e){e.customOverflowStack!==this.props.customOverflowStack&&this.updateDimensions()},t.prototype.render=function(){return s.createElement(f,null,s.createElement("button",{className:"shell-icon-button shell-icon-button--waffle"},c.a.WaffleOffice365),s.createElement("div",{className:"shell-title",ref:this.editable},"Sales"),s.createElement("button",{className:"shell-icon-button"},c.a.Search),this.state.dynamicsDisplayStack.map(function(e){return s.createElement("button",{key:e.label,className:"shell-icon-button"},e.icon)}),this.getOverflowItems(this.state).length>1?s.createElement("button",{onClick:this.toggleOverflowMenu,className:"shell-icon-button shell-icon-button--more"},c.a.More,this.state.showOverflowMenu?s.createElement("div",{className:"overflow-menu"},this.state.dynamicsOverflowStack.concat(this.state.customOverflowStack).map(function(e){return s.createElement("div",{key:e.label,className:"menu-row"},s.createElement("span",{className:"menu-row__icon"},e.icon),s.createElement("span",{className:"menu-row__text"},e.label))}),this.state.systemOverflowStack.length?s.createElement("div",{className:"menu-divider"}):null,this.state.systemOverflowStack.map(function(e){return s.createElement("div",{key:e.label,className:"menu-row"},s.createElement("span",{className:"menu-row__icon"},e.icon),s.createElement("span",{className:"menu-row__text"},e.label))})):null):this.getOverflowItems(this.state).length>0?s.createElement("button",{className:"shell-icon-button"},this.state.customOverflowStack[0].icon):null,this.state.systemDisplayStack.length?s.createElement("div",{className:"shell-divider"}):null,this.state.systemDisplayStack.map(function(e){return s.createElement("button",{key:e.label,className:"shell-icon-button"},e.icon)}),s.createElement("button",{className:"shell-icon-button shell-icon-button--avatar"},s.createElement("img",{className:"avatar",alt:"your avatar",src:this.props.avatarImgUrl})))},t}(s.Component),f=r.a.header(a||(a=h(["\n  color: white;\n  display: flex;\n  align-items: center;\n  height: ","px;\n  background-color: #002050;\n\n  .overflow-menu {\n    background-color: white;\n    color: black;\n    font-family: var(--ff-segoe-ui);\n    position: absolute;\n    top: ","px;\n    right: 0;\n    box-shadow: 0 3.2px 7.2px 0 rgba(0,0,0,.132), 0 0.6px 1.8px 0 rgba(0,0,0,.108);\n  }\n\n  .menu-row__text {\n    white-space: nowrap;\n  }\n\n  .menu-row {\n    display: flex;\n    margin: 16px 16px;\n    align-items: center;\n  }\n\n  .menu-row__icon {\n    font-family: var(--ff-mdl2);\n    flex: 0 0 16px;\n    margin-right: 16px;\n  }\n\n  .menu-divider {\n    height: 1px;\n    background-color: rgba(0,0,0,0.25);\n  }\n\n  .shell-divider {\n    align-self: stretch;\n    margin: ","px ","px;\n    width: ","px;\n    flex: 0 0 auto;\n    background-color: rgba(255,255,255,0.55);\n  }\n\n  .shell-title {\n    flex: 1 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    font-weight: 600;\n  }\n\n  .shell-icon-button {\n    background-color: transparent;\n    flex: 0 0 auto;\n    color: white;\n    border: none;\n    font-size: 16px;\n    font-family: var(--ff-mdl2);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: ","px;\n    width: ","px;\n  }\n\n  .shell-icon-button--avatar {\n    height: ","px;\n    width: ","px;\n    box-sizing: border-box;\n\n    .avatar {\n      border-radius: 50%;\n      height: calc(0.6*","px);\n      width: calc(0.6*","px);\n      box-sizing: border-box;\n    }\n  }\n\n  .shell-icon-button--more {\n    position: relative;\n  }\n"],["\n  color: white;\n  display: flex;\n  align-items: center;\n  height: ","px;\n  background-color: #002050;\n\n  .overflow-menu {\n    background-color: white;\n    color: black;\n    font-family: var(--ff-segoe-ui);\n    position: absolute;\n    top: ","px;\n    right: 0;\n    box-shadow: 0 3.2px 7.2px 0 rgba(0,0,0,.132), 0 0.6px 1.8px 0 rgba(0,0,0,.108);\n  }\n\n  .menu-row__text {\n    white-space: nowrap;\n  }\n\n  .menu-row {\n    display: flex;\n    margin: 16px 16px;\n    align-items: center;\n  }\n\n  .menu-row__icon {\n    font-family: var(--ff-mdl2);\n    flex: 0 0 16px;\n    margin-right: 16px;\n  }\n\n  .menu-divider {\n    height: 1px;\n    background-color: rgba(0,0,0,0.25);\n  }\n\n  .shell-divider {\n    align-self: stretch;\n    margin: ","px ","px;\n    width: ","px;\n    flex: 0 0 auto;\n    background-color: rgba(255,255,255,0.55);\n  }\n\n  .shell-title {\n    flex: 1 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    font-weight: 600;\n  }\n\n  .shell-icon-button {\n    background-color: transparent;\n    flex: 0 0 auto;\n    color: white;\n    border: none;\n    font-size: 16px;\n    font-family: var(--ff-mdl2);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: ","px;\n    width: ","px;\n  }\n\n  .shell-icon-button--avatar {\n    height: ","px;\n    width: ","px;\n    box-sizing: border-box;\n\n    .avatar {\n      border-radius: 50%;\n      height: calc(0.6*","px);\n      width: calc(0.6*","px);\n      box-sizing: border-box;\n    }\n  }\n\n  .shell-icon-button--more {\n    position: relative;\n  }\n"])),u.shellHeight,u.shellHeight,u.shellDividerVerticalMargin,u.shellDividerSideMargin,u.dividerStrokeWidth,u.shellHeight,u.shellHeight,u.shellHeight,u.shellHeight,u.shellHeight,u.shellHeight);n.d(t,"AppShellDemo",function(){return v});var d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function l(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)}}(),w=[{icon:c.a.TBX,label:"Task flow"},{icon:c.a.ToolTip,label:"Relationship Assistant"},{icon:c.a.Add,label:"Create"}],g=[{icon:c.a.Settings,label:"Settings"},{icon:c.a.Help,label:"Help"}],v=function(e){function t(t){var n=e.call(this,t)||this;return n.addCustomItem=function(){var e=n.state.customOverflowStack.concat([{icon:c.a.Emoji2,label:"Custom "+n.state.customOverflowStack.length}]);n.setState({customOverflowStack:e})},n.removeCustomItem=function(){var e=n.state.customOverflowStack.slice();e.pop(),n.setState({customOverflowStack:e})},n.state={customOverflowStack:[{icon:c.a.Emoji2,label:"Custom 0"}]},n}return d(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement("section",null,o.createElement("h2",{className:"lab-demo-h2"},"Sample"),o.createElement(p,{avatarImgUrl:"https://api.adorable.io/avatars/285/abott@adorable.png",dynamicsDisplayStack:w,systemDisplayStack:g,customOverflowStack:this.state.customOverflowStack})),o.createElement("section",null,o.createElement("h2",{className:"lab-demo-h2"},"Usage"),o.createElement("section",{style:{marginTop:"16px"}},o.createElement("span",null,"Custom actions: "),o.createElement("button",{onClick:this.removeCustomItem},"-"),o.createElement("span",null," ",this.state.customOverflowStack.length," "),o.createElement("button",{onClick:this.addCustomItem},"+")),o.createElement("section",null,o.createElement("h3",null,"Design notes"),o.createElement("ul",null,o.createElement("li",null,"This prototype only shows browser behavior. Shim experience is out of scope"),o.createElement("li",null,"When viewport narrows, Dynamics actions (task flow, relationship assistance, create) collapse first, then System buttons (help, settings) next"),o.createElement("li",null,"Custom actions are always collapsed except when there is only one"),o.createElement("li",null,"The System buttons are either all collapsed or all expanded"),o.createElement("li",null,"The Dynamics actions are either all collapsed or all expanded")))))},t}(o.Component);t.default=v}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hcHAtc2hlbGwvYXBwLXNoZWxsLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hcHAtc2hlbGwvYXBwLXNoZWxsLmRlbW8udHN4Il0sIm5hbWVzIjpbImNvbnN0YW50cyIsInRpdGxlV2lkdGgiLCJzaGVsbEhlaWdodCIsInNoZWxsRGl2aWRlclNpZGVNYXJnaW4iLCJzaGVsbERpdmlkZXJWZXJ0aWNhbE1hcmdpbiIsImRpdmlkZXJTdHJva2VXaWR0aCIsImFwcF9zaGVsbF9BcHBTaGVsbCIsIl9zdXBlciIsIkFwcFNoZWxsIiwicHJvcHMiLCJfdGhpcyIsImNhbGwiLCJ0aGlzIiwidXBkYXRlRGltZW5zaW9ucyIsInJlZmxvd0l0ZW1zIiwicGxhbiIsImR5bmFtaWNzRGlzcGxheVN0YWNrIiwic2xpY2UiLCJzeXN0ZW1EaXNwbGF5U3RhY2siLCJkeW5hbWljc092ZXJmbG93U3RhY2siLCJzeXN0ZW1PdmVyZmxvd1N0YWNrIiwiY3VzdG9tT3ZlcmZsb3dTdGFjayIsImNhblJlZHVjZSIsImdldFJlbWFpbmluZ1NwYWNlIiwibGVuZ3RoIiwiX2EiLCJfYiIsInNldFN0YXRlIiwiZWRpdGFibGUiLCJlIiwiY29udGVudEVkaXRhYmxlIiwic3BlbGxjaGVjayIsIndhZmZsZSIsInNlYXJjaCIsImR5bmFtaWNzQWN0aW9ucyIsImN1c3RvbUFjdGlvbiIsIm92ZXJmbG93TWVudSIsImRpdmlkZXIiLCJzeXN0ZW1BY3Rpb25zIiwibWUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZ2V0T3ZlcmZsb3dJdGVtcyIsImN1cnJlbnRTdGF0ZSIsImNvbmNhdCIsInRvZ2dsZU92ZXJmbG93TWVudSIsInNob3dPdmVyZmxvd01lbnUiLCJzdGF0ZSIsIl9fZXh0ZW5kcyIsInByb3RvdHlwZSIsImNvbXBvbmVudERpZE1vdW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInJlbmRlciIsImV4dGVybmFsX1JlYWN0XyIsIlN0eWxlZEhlYWRlciIsImNsYXNzTmFtZSIsImZ1bGxfbWRsMiIsIldhZmZsZU9mZmljZTM2NSIsInJlZiIsIlNlYXJjaCIsIm1hcCIsIml0ZW0iLCJrZXkiLCJsYWJlbCIsImljb24iLCJvbkNsaWNrIiwiTW9yZSIsImFsdCIsInNyYyIsImF2YXRhckltZ1VybCIsImV4dGVybmFsX3N0eWxlZF9kZWZhdWx0IiwiYSIsImhlYWRlciIsInRlbXBsYXRlT2JqZWN0XzEiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsIlRCWCIsIlRvb2xUaXAiLCJBZGQiLCJTZXR0aW5ncyIsIkhlbHAiLCJhcHBfc2hlbGxfZGVtb19BcHBTaGVsbERlbW8iLCJBcHBTaGVsbERlbW8iLCJhZGRDdXN0b21JdGVtIiwibmV3U3RhY2siLCJFbW9qaTIiLCJyZW1vdmVDdXN0b21JdGVtIiwicG9wIiwiYXBwX3NoZWxsX2RlbW9fZXh0ZW5kcyIsIlJlYWN0Iiwic3R5bGUiLCJtYXJnaW5Ub3AiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sIm1hcHBpbmdzIjoic2lCQU1NQSxFQUFZLENBQ2hCQyxXQUFZLElBQ1pDLFlBQWEsR0FDYkMsdUJBQXdCLEVBQ3hCQywyQkFBNEIsR0FDNUJDLG1CQUFvQixHQWdDdEJDLEVBQUEsU0FBQUMsR0FDRSxTQUFBQyxFQUFZQyxHQUFaLElBQUFDLEVBQ0VILEVBQUFJLEtBQUFDLEtBQU1ILElBQU1HLFlBWWRGLEVBQUFHLGlCQUFtQixXQUNqQkgsRUFBS0ksZUFHUEosRUFBQUksWUFBYyxXQVNaLFlBUk1DLEVBQW1CLENBQ3ZCQyxxQkFBMEJOLEVBQUtELE1BQU1PLHFCQUFvQkMsUUFDekRDLG1CQUF3QlIsRUFBS0QsTUFBTVMsbUJBQWtCRCxRQUNyREUsc0JBQXVCLEdBQ3ZCQyxvQkFBcUIsR0FDckJDLG9CQUF5QlgsRUFBS0QsTUFBTVksb0JBQW1CSixTQUds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WnBDN0UsRUFBS3FDLE1BQVEsQ0FDWDFCLG9CQUFxQixDQUFDLENBQUMrQyxLQUFNUixFQUFBLEVBQVM0QixPQUFRckIsTUFBTyxnQkF5QzNELE9BOUNrQ3dCLEVBQUFOLEVBQUE5RSxHQW1CaEM4RSxFQUFBcEMsVUFBQU8sT0FBQSxXQUNFLE9BQU9vQyxFQUFBLGNBQUNBLEVBQUEsU0FBYyxLQUN0QkEsRUFBQSw2QkFDRUEsRUFBQSxvQkFBSWpDLFVBQVUsZUFBYSxVQUMzQmlDLEVBQUEsY0FBQ3RGLEVBQVEsQ0FBQ21FLGFBQWEseURBQXlEekQscUJBQXNCQSxFQUFzQkUsbUJBQW9CQSxFQUFvQkcsb0JBQXFCVCxLQUFLbUMsTUFBTTFCLHVCQUV0TXVFLEVBQUEsNkJBQ0VBLEVBQUEsb0JBQUlqQyxVQUFVLGVBQWEsU0FDM0JpQyxFQUFBLHlCQUFTQyxNQUFPLENBQUNDLFVBQVcsU0FDMUJGLEVBQUEsOENBQ0FBLEVBQUEsd0JBQVF2QixRQUFTekQsS0FBSzZFLGtCQUFnQixLQUN0Q0csRUFBQSw4QkFBUWhGLEtBQUttQyxNQUFNMUIsb0JBQW9CRyxZQUN2Q29FLEVBQUEsd0JBQVF2QixRQUFTekQsS0FBSzBFLGVBQWEsTUFFckNNLEVBQUEsNkJBQ0VBLEVBQUEsd0NBQ0FBLEVBQUEsd0JBQ0VBLEVBQUEsdUdBQ0FBLEVBQUEsMEtBQ0FBLEVBQUEsNkZBQ0FBLEVBQUEsdUZBQ0FBLEVBQUEsOEZBTVZQLEVBOUNBLENBQWtDTyxFQUFBLFdBZ0RuQkcsRUFBQSIsImZpbGUiOiIxMi45OTJkNzc4MzJmMDc2YTNhNWFlOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XHJcbmltcG9ydCB7RnVsbE1kbDJ9IGZyb20gJy4uLy4uL3N0eWxlcy9pY29uL2Z1bGwtbWRsMic7XHJcblxyXG5cclxuLy8gVG9kbywgbW92ZSB0byB0aGUgcmlnaHQgcGxhY2VcclxuY29uc3QgY29uc3RhbnRzID0ge1xyXG4gIHRpdGxlV2lkdGg6IDE2MCxcclxuICBzaGVsbEhlaWdodDogNDgsXHJcbiAgc2hlbGxEaXZpZGVyU2lkZU1hcmdpbjogOCxcclxuICBzaGVsbERpdmlkZXJWZXJ0aWNhbE1hcmdpbjogMTYsXHJcbiAgZGl2aWRlclN0cm9rZVdpZHRoOiAxLFxyXG59O1xyXG5cclxuaW50ZXJmYWNlIEl0ZW0ge1xyXG4gIGxhYmVsOiBzdHJpbmc7XHJcbiAgaWNvbjogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVmbG93UGxhbiB7XHJcbiAgZHluYW1pY3NEaXNwbGF5U3RhY2s6IEl0ZW1bXTtcclxuICBzeXN0ZW1EaXNwbGF5U3RhY2s6IEl0ZW1bXTtcclxuICBkeW5hbWljc092ZXJmbG93U3RhY2s6IEl0ZW1bXTtcclxuICBzeXN0ZW1PdmVyZmxvd1N0YWNrOiBJdGVtW107XHJcbiAgY3VzdG9tT3ZlcmZsb3dTdGFjazogSXRlbVtdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG9wTmF2U3RhdGUge1xyXG4gIHNob3dPdmVyZmxvd01lbnU6IGJvb2xlYW4sXHJcbiAgZHluYW1pY3NEaXNwbGF5U3RhY2s6IEl0ZW1bXTtcclxuICBzeXN0ZW1EaXNwbGF5U3RhY2s6IEl0ZW1bXTtcclxuICBkeW5hbWljc092ZXJmbG93U3RhY2s6IEl0ZW1bXTtcclxuICBzeXN0ZW1PdmVyZmxvd1N0YWNrOiBJdGVtW107XHJcbiAgY3VzdG9tT3ZlcmZsb3dTdGFjazogSXRlbVtdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG9wTmF2UHJvcHMge1xyXG4gIGF2YXRhckltZ1VybDogc3RyaW5nO1xyXG4gIGR5bmFtaWNzRGlzcGxheVN0YWNrOiBJdGVtW107XHJcbiAgc3lzdGVtRGlzcGxheVN0YWNrOiBJdGVtW107XHJcbiAgY3VzdG9tT3ZlcmZsb3dTdGFjazogSXRlbVtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwU2hlbGwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VG9wTmF2UHJvcHMsIFRvcE5hdlN0YXRlPiB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IFRvcE5hdlByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgc2hvd092ZXJmbG93TWVudTogZmFsc2UsXHJcbiAgICAgIGR5bmFtaWNzRGlzcGxheVN0YWNrOiBbLi4udGhpcy5wcm9wcy5keW5hbWljc0Rpc3BsYXlTdGFja10sXHJcbiAgICAgIHN5c3RlbURpc3BsYXlTdGFjazogWy4uLnRoaXMucHJvcHMuc3lzdGVtRGlzcGxheVN0YWNrXSxcclxuICAgICAgZHluYW1pY3NPdmVyZmxvd1N0YWNrOiBbXSxcclxuICAgICAgc3lzdGVtT3ZlcmZsb3dTdGFjazogW10sXHJcbiAgICAgIGN1c3RvbU92ZXJmbG93U3RhY2s6IFsuLi50aGlzLnByb3BzLmN1c3RvbU92ZXJmbG93U3RhY2tdLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnJlZmxvd0l0ZW1zKCk7XHJcbiAgfVxyXG5cclxuICByZWZsb3dJdGVtcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHBsYW46IFJlZmxvd1BsYW4gPSB7XHJcbiAgICAgIGR5bmFtaWNzRGlzcGxheVN0YWNrOiBbLi4udGhpcy5wcm9wcy5keW5hbWljc0Rpc3BsYXlTdGFja10sXHJcbiAgICAgIHN5c3RlbURpc3BsYXlTdGFjazogWy4uLnRoaXMucHJvcHMuc3lzdGVtRGlzcGxheVN0YWNrXSxcclxuICAgICAgZHluYW1pY3NPdmVyZmxvd1N0YWNrOiBbXSxcclxuICAgICAgc3lzdGVtT3ZlcmZsb3dTdGFjazogW10sXHJcbiAgICAgIGN1c3RvbU92ZXJmbG93U3RhY2s6IFsuLi50aGlzLnByb3BzLmN1c3RvbU92ZXJmbG93U3RhY2tdLFxyXG4gICAgfVxyXG5cclxuICAgIHdoaWxlICh0aGlzLmNhblJlZHVjZShwbGFuKSAmJiB0aGlzLmdldFJlbWFpbmluZ1NwYWNlKHBsYW4pIDwgMCkge1xyXG4gICAgICBpZiAocGxhbi5keW5hbWljc0Rpc3BsYXlTdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAvLyAxLiByZWZsb3cgZHluYW1pY3MgYWN0aW9uc1xyXG4gICAgICAgIFtwbGFuLmR5bmFtaWNzT3ZlcmZsb3dTdGFjaywgcGxhbi5keW5hbWljc0Rpc3BsYXlTdGFja10gPSBbcGxhbi5keW5hbWljc0Rpc3BsYXlTdGFjaywgW11dO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIDIuIHJlZmxvdyBzeXN0ZW0gYWN0aW9uc1xyXG4gICAgICAgIFtwbGFuLnN5c3RlbU92ZXJmbG93U3RhY2ssIHBsYW4uc3lzdGVtRGlzcGxheVN0YWNrXSA9IFtwbGFuLnN5c3RlbURpc3BsYXlTdGFjaywgW11dO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuc2V0U3RhdGUocGxhbik7XHJcbiAgfVxyXG5cclxuICBjYW5SZWR1Y2UgPSAocGxhbjogUmVmbG93UGxhbikgPT4ge1xyXG4gICAgcmV0dXJuIHBsYW4uZHluYW1pY3NEaXNwbGF5U3RhY2subGVuZ3RoICsgcGxhbi5zeXN0ZW1EaXNwbGF5U3RhY2subGVuZ3RoID4gMDtcclxuICB9XHJcblxyXG4gIGVkaXRhYmxlID0gKGU6IGFueSkgPT4gZSAmJiAoZS5jb250ZW50RWRpdGFibGU9dHJ1ZSkgJiYgKGUuc3BlbGxjaGVjaz1mYWxzZSk7XHJcblxyXG4gIGdldFJlbWFpbmluZ1NwYWNlID0gKHBsYW46IFJlZmxvd1BsYW4pID0+IHtcclxuICAgIGNvbnN0IHdhZmZsZSA9IGNvbnN0YW50cy5zaGVsbEhlaWdodDtcclxuICAgIGNvbnN0IHRpdGxlV2lkdGggPSBjb25zdGFudHMudGl0bGVXaWR0aDtcclxuICAgIGNvbnN0IHNlYXJjaCA9IGNvbnN0YW50cy5zaGVsbEhlaWdodDtcclxuICAgIGNvbnN0IGR5bmFtaWNzQWN0aW9ucyA9IGNvbnN0YW50cy5zaGVsbEhlaWdodCAqIHBsYW4uZHluYW1pY3NEaXNwbGF5U3RhY2subGVuZ3RoO1xyXG4gICAgY29uc3QgY3VzdG9tQWN0aW9uID0gKHBsYW4uY3VzdG9tT3ZlcmZsb3dTdGFjay5sZW5ndGggPT09IDEgJiYgIXBsYW4uZHluYW1pY3NPdmVyZmxvd1N0YWNrLmxlbmd0aCAmJiAhcGxhbi5zeXN0ZW1PdmVyZmxvd1N0YWNrLmxlbmd0aCkgPyBjb25zdGFudHMuc2hlbGxIZWlnaHQgOiAwO1xyXG4gICAgY29uc3Qgb3ZlcmZsb3dNZW51ID0gKHBsYW4uY3VzdG9tT3ZlcmZsb3dTdGFjay5sZW5ndGggKyBwbGFuLmR5bmFtaWNzT3ZlcmZsb3dTdGFjay5sZW5ndGggKyBwbGFuLnN5c3RlbU92ZXJmbG93U3RhY2subGVuZ3RoID4gMSkgPyBjb25zdGFudHMuc2hlbGxIZWlnaHQgOiAwO1xyXG4gICAgY29uc3QgZGl2aWRlciA9IHBsYW4uc3lzdGVtRGlzcGxheVN0YWNrLmxlbmd0aCA/IGNvbnN0YW50cy5zaGVsbERpdmlkZXJTaWRlTWFyZ2luICogMiArIGNvbnN0YW50cy5kaXZpZGVyU3Ryb2tlV2lkdGggOiAwO1xyXG4gICAgY29uc3Qgc3lzdGVtQWN0aW9ucyA9IGNvbnN0YW50cy5zaGVsbEhlaWdodCAqIHBsYW4uc3lzdGVtRGlzcGxheVN0YWNrLmxlbmd0aDtcclxuICAgIGNvbnN0IG1lID0gY29uc3RhbnRzLnNoZWxsSGVpZ2h0O1xyXG5cclxuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAtICh3YWZmbGUgKyB0aXRsZVdpZHRoICsgc2VhcmNoICsgZHluYW1pY3NBY3Rpb25zICsgY3VzdG9tQWN0aW9uICsgb3ZlcmZsb3dNZW51ICsgZGl2aWRlciArIHN5c3RlbUFjdGlvbnMgKyBtZSk7XHJcbiAgfVxyXG5cclxuICBnZXRPdmVyZmxvd0l0ZW1zID0gKGN1cnJlbnRTdGF0ZTogVG9wTmF2U3RhdGUpID0+IFsuLi5jdXJyZW50U3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFjaywgLi4uY3VycmVudFN0YXRlLmR5bmFtaWNzT3ZlcmZsb3dTdGFjaywgLi4uY3VycmVudFN0YXRlLnN5c3RlbU92ZXJmbG93U3RhY2tdO1xyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVEaW1lbnNpb25zKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVEaW1lbnNpb25zKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFRvcE5hdlByb3BzKSB7XHJcbiAgICBpZiAocHJldlByb3BzLmN1c3RvbU92ZXJmbG93U3RhY2sgIT09IHRoaXMucHJvcHMuY3VzdG9tT3ZlcmZsb3dTdGFjaykge1xyXG4gICAgICB0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZU92ZXJmbG93TWVudSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dPdmVyZmxvd01lbnU6ICF0aGlzLnN0YXRlLnNob3dPdmVyZmxvd01lbnV9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxTdHlsZWRIZWFkZXI+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzaGVsbC1pY29uLWJ1dHRvbiBzaGVsbC1pY29uLWJ1dHRvbi0td2FmZmxlXCI+e0Z1bGxNZGwyLldhZmZsZU9mZmljZTM2NX08L2J1dHRvbj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoZWxsLXRpdGxlXCIgcmVmPXt0aGlzLmVkaXRhYmxlfT5TYWxlczwvZGl2PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2hlbGwtaWNvbi1idXR0b25cIj57RnVsbE1kbDIuU2VhcmNofTwvYnV0dG9uPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmR5bmFtaWNzRGlzcGxheVN0YWNrLm1hcChpdGVtID0+IFxyXG4gICAgICAgICg8YnV0dG9uIGtleT17aXRlbS5sYWJlbH0gY2xhc3NOYW1lPVwic2hlbGwtaWNvbi1idXR0b25cIj5cclxuICAgICAgICB7aXRlbS5pY29ufVxyXG4gICAgICAgIDwvYnV0dG9uPilcclxuICAgICAgICApfVxyXG4gICAgICAgIHt0aGlzLmdldE92ZXJmbG93SXRlbXModGhpcy5zdGF0ZSkubGVuZ3RoID4gMSA/IFxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy50b2dnbGVPdmVyZmxvd01lbnV9IGNsYXNzTmFtZT1cInNoZWxsLWljb24tYnV0dG9uIHNoZWxsLWljb24tYnV0dG9uLS1tb3JlXCI+XHJcbiAgICAgICAgICB7RnVsbE1kbDIuTW9yZX1cclxuICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3dPdmVyZmxvd01lbnUgP1xyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy1tZW51XCI+XHJcbiAgICAgICAgICAgIHtbLi4udGhpcy5zdGF0ZS5keW5hbWljc092ZXJmbG93U3RhY2ssIC4uLnRoaXMuc3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFja10ubWFwKGl0ZW0gPT4gXHJcbiAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmxhYmVsfSBjbGFzc05hbWU9XCJtZW51LXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lbnUtcm93X19pY29uXCI+e2l0ZW0uaWNvbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWVudS1yb3dfX3RleHRcIj57aXRlbS5sYWJlbH08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2Pil9XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN5c3RlbU92ZXJmbG93U3RhY2subGVuZ3RoID8gPGRpdiBjbGFzc05hbWU9XCJtZW51LWRpdmlkZXJcIj48L2Rpdj4gOiBudWxsfVxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5zeXN0ZW1PdmVyZmxvd1N0YWNrLm1hcChpdGVtID0+IFxyXG4gICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5sYWJlbH0gY2xhc3NOYW1lPVwibWVudS1yb3dcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZW51LXJvd19faWNvblwiPntpdGVtLmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lbnUtcm93X190ZXh0XCI+e2l0ZW0ubGFiZWx9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj4pfVxyXG4gICAgICAgICAgPC9kaXY+IDogbnVsbH1cclxuICAgICAgICA8L2J1dHRvbj4gOiB0aGlzLmdldE92ZXJmbG93SXRlbXModGhpcy5zdGF0ZSkubGVuZ3RoID4gMCA/XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzaGVsbC1pY29uLWJ1dHRvblwiPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbU92ZXJmbG93U3RhY2tbMF0uaWNvbn1cclxuICAgICAgICA8L2J1dHRvbj4gOiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLnN5c3RlbURpc3BsYXlTdGFjay5sZW5ndGggPyA8ZGl2IGNsYXNzTmFtZT1cInNoZWxsLWRpdmlkZXJcIj48L2Rpdj4gOiBudWxsfVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLnN5c3RlbURpc3BsYXlTdGFjay5tYXAoaXRlbSA9PiBcclxuICAgICAgICAoPGJ1dHRvbiBrZXk9e2l0ZW0ubGFiZWx9IGNsYXNzTmFtZT1cInNoZWxsLWljb24tYnV0dG9uXCI+XHJcbiAgICAgICAge2l0ZW0uaWNvbn1cclxuICAgICAgICA8L2J1dHRvbj4pXHJcbiAgICAgICAgKX1cclxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNoZWxsLWljb24tYnV0dG9uIHNoZWxsLWljb24tYnV0dG9uLS1hdmF0YXJcIj5cclxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiYXZhdGFyXCIgYWx0PVwieW91ciBhdmF0YXJcIiBzcmM9e3RoaXMucHJvcHMuYXZhdGFySW1nVXJsfT48L2ltZz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9TdHlsZWRIZWFkZXI+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmNvbnN0IFN0eWxlZEhlYWRlciA9IHN0eWxlZC5oZWFkZXJgXHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBoZWlnaHQ6ICR7Y29uc3RhbnRzLnNoZWxsSGVpZ2h0fXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDIwNTA7XHJcblxyXG4gIC5vdmVyZmxvdy1tZW51IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLXNlZ29lLXVpKTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogJHtjb25zdGFudHMuc2hlbGxIZWlnaHR9cHg7XHJcbiAgICByaWdodDogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgMy4ycHggNy4ycHggMCByZ2JhKDAsMCwwLC4xMzIpLCAwIDAuNnB4IDEuOHB4IDAgcmdiYSgwLDAsMCwuMTA4KTtcclxuICB9XHJcblxyXG4gIC5tZW51LXJvd19fdGV4dCB7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIH1cclxuXHJcbiAgLm1lbnUtcm93IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBtYXJnaW46IDE2cHggMTZweDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAubWVudS1yb3dfX2ljb24ge1xyXG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLW1kbDIpO1xyXG4gICAgZmxleDogMCAwIDE2cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XHJcbiAgfVxyXG5cclxuICAubWVudS1kaXZpZGVyIHtcclxuICAgIGhlaWdodDogMXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjI1KTtcclxuICB9XHJcblxyXG4gIC5zaGVsbC1kaXZpZGVyIHtcclxuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XHJcbiAgICBtYXJnaW46ICR7Y29uc3RhbnRzLnNoZWxsRGl2aWRlclZlcnRpY2FsTWFyZ2lufXB4ICR7Y29uc3RhbnRzLnNoZWxsRGl2aWRlclNpZGVNYXJnaW59cHg7XHJcbiAgICB3aWR0aDogJHtjb25zdGFudHMuZGl2aWRlclN0cm9rZVdpZHRofXB4O1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNTUpO1xyXG4gIH1cclxuXHJcbiAgLnNoZWxsLXRpdGxlIHtcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfVxyXG5cclxuICAuc2hlbGwtaWNvbi1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mZi1tZGwyKTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6ICR7Y29uc3RhbnRzLnNoZWxsSGVpZ2h0fXB4O1xyXG4gICAgd2lkdGg6ICR7Y29uc3RhbnRzLnNoZWxsSGVpZ2h0fXB4O1xyXG4gIH1cclxuXHJcbiAgLnNoZWxsLWljb24tYnV0dG9uLS1hdmF0YXIge1xyXG4gICAgaGVpZ2h0OiAke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weDtcclxuICAgIHdpZHRoOiAke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcblxyXG4gICAgLmF2YXRhciB7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgaGVpZ2h0OiBjYWxjKDAuNioke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weCk7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDAuNioke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weCk7XHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2hlbGwtaWNvbi1idXR0b24tLW1vcmUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIH1cclxuYDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdSZWFjdCc7XHJcbmltcG9ydCB7QXBwU2hlbGx9IGZyb20gJy4vYXBwLXNoZWxsJztcclxuaW1wb3J0IHtGdWxsTWRsMn0gZnJvbSAnLi4vLi4vc3R5bGVzL2ljb24vZnVsbC1tZGwyJztcclxuXHJcbmNvbnN0IGR5bmFtaWNzRGlzcGxheVN0YWNrID0gW3tpY29uOiBGdWxsTWRsMi5UQlgsIGxhYmVsOiBcIlRhc2sgZmxvd1wifSwge2ljb246IEZ1bGxNZGwyLlRvb2xUaXAsIGxhYmVsOiBcIlJlbGF0aW9uc2hpcCBBc3Npc3RhbnRcIn0sIHtpY29uOiBGdWxsTWRsMi5BZGQsIGxhYmVsOiBcIkNyZWF0ZVwifV07XHJcbmNvbnN0IHN5c3RlbURpc3BsYXlTdGFjayA9IFt7aWNvbjogRnVsbE1kbDIuU2V0dGluZ3MsIGxhYmVsOiBcIlNldHRpbmdzXCJ9LCB7aWNvbjogRnVsbE1kbDIuSGVscCwgbGFiZWw6IFwiSGVscFwifV07XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwU2hlbGxEZW1vIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PiB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGN1c3RvbU92ZXJmbG93U3RhY2s6IFt7aWNvbjogRnVsbE1kbDIuRW1vamkyLCBsYWJlbDogXCJDdXN0b20gMFwifV0sXHJcbiAgICB9XHJcbiAgfVxyXG4gIGFkZEN1c3RvbUl0ZW0gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBuZXdTdGFjayA9IFsuLi50aGlzLnN0YXRlLmN1c3RvbU92ZXJmbG93U3RhY2ssIHtpY29uOiBGdWxsTWRsMi5FbW9qaTIsIGxhYmVsOiBgQ3VzdG9tICR7dGhpcy5zdGF0ZS5jdXN0b21PdmVyZmxvd1N0YWNrLmxlbmd0aH1gfV07XHJcbiAgICB0aGlzLnNldFN0YXRlKHtjdXN0b21PdmVyZmxvd1N0YWNrOiBuZXdTdGFja30pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ3VzdG9tSXRlbSA9ICgpID0+IHtcclxuICAgIGNvbnN0IG5ld1N0YWNrID0gWy4uLnRoaXMuc3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFja107XHJcbiAgICBuZXdTdGFjay5wb3AoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe2N1c3RvbU92ZXJmbG93U3RhY2s6IG5ld1N0YWNrfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgPHNlY3Rpb24+XHJcbiAgICAgIDxoMiBjbGFzc05hbWU9XCJsYWItZGVtby1oMlwiPlNhbXBsZTwvaDI+XHJcbiAgICAgIDxBcHBTaGVsbCBhdmF0YXJJbWdVcmw9XCJodHRwczovL2FwaS5hZG9yYWJsZS5pby9hdmF0YXJzLzI4NS9hYm90dEBhZG9yYWJsZS5wbmdcIiBkeW5hbWljc0Rpc3BsYXlTdGFjaz17ZHluYW1pY3NEaXNwbGF5U3RhY2t9IHN5c3RlbURpc3BsYXlTdGFjaz17c3lzdGVtRGlzcGxheVN0YWNrfSBjdXN0b21PdmVyZmxvd1N0YWNrPXt0aGlzLnN0YXRlLmN1c3RvbU92ZXJmbG93U3RhY2t9PjwvQXBwU2hlbGw+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgICA8c2VjdGlvbj5cclxuICAgICAgPGgyIGNsYXNzTmFtZT1cImxhYi1kZW1vLWgyXCI+VXNhZ2U8L2gyPlxyXG4gICAgICA8c2VjdGlvbiBzdHlsZT17e21hcmdpblRvcDogXCIxNnB4XCJ9fT5cclxuICAgICAgICA8c3Bhbj5DdXN0b20gYWN0aW9uczogPC9zcGFuPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5yZW1vdmVDdXN0b21JdGVtfT4tPC9idXR0b24+XHJcbiAgICAgICAgPHNwYW4+IHt0aGlzLnN0YXRlLmN1c3RvbU92ZXJmbG93U3RhY2subGVuZ3RofSA8L3NwYW4+XHJcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmFkZEN1c3RvbUl0ZW19Pis8L2J1dHRvbj5cclxuICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICA8c2VjdGlvbj5cclxuICAgICAgICA8aDM+RGVzaWduIG5vdGVzPC9oMz5cclxuICAgICAgICA8dWw+XHJcbiAgICAgICAgICA8bGk+VGhpcyBwcm90b3R5cGUgb25seSBzaG93cyBicm93c2VyIGJlaGF2aW9yLiBTaGltIGV4cGVyaWVuY2UgaXMgb3V0IG9mIHNjb3BlPC9saT5cclxuICAgICAgICAgIDxsaT5XaGVuIHZpZXdwb3J0IG5hcnJvd3MsIER5bmFtaWNzIGFjdGlvbnMgKHRhc2sgZmxvdywgcmVsYXRpb25zaGlwIGFzc2lzdGFuY2UsIGNyZWF0ZSkgY29sbGFwc2UgZmlyc3QsIHRoZW4gU3lzdGVtIGJ1dHRvbnMgKGhlbHAsIHNldHRpbmdzKSBuZXh0PC9saT5cclxuICAgICAgICAgIDxsaT5DdXN0b20gYWN0aW9ucyBhcmUgYWx3YXlzIGNvbGxhcHNlZCBleGNlcHQgd2hlbiB0aGVyZSBpcyBvbmx5IG9uZTwvbGk+XHJcbiAgICAgICAgICA8bGk+VGhlIFN5c3RlbSBidXR0b25zIGFyZSBlaXRoZXIgYWxsIGNvbGxhcHNlZCBvciBhbGwgZXhwYW5kZWQ8L2xpPlxyXG4gICAgICAgICAgPGxpPlRoZSBEeW5hbWljcyBhY3Rpb25zIGFyZSBlaXRoZXIgYWxsIGNvbGxhcHNlZCBvciBhbGwgZXhwYW5kZWQ8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvc2VjdGlvbj5cclxuICAgIDwvc2VjdGlvbj5cclxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBTaGVsbERlbW87Il0sInNvdXJjZVJvb3QiOiIifQ==