!function(e){function t(t){for(var n,o,a=t[0],i=t[1],s=0,l=[];s<a.length;s++)o=a[s],r[o]&&l.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={3:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=a);var i,s=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({}[e]||e)+"."+{0:"586a262fca3cceb7ccfb",1:"99a4c81c5251d5a78783",2:"dc97ddb7caa31580a794",4:"b60e281ebbe33bc41307",5:"7aa3d74b6760d8e2b009",6:"7758d5134b559a6dac66",7:"9dc81e5559376070cf92",8:"7bbe57cea31f7a789557",9:"d28f4989260db3d14462",10:"b0b4af1baf4813e07164",11:"bc03560341da57f58bf4",12:"2941b43ac1afb7b972c3",13:"eb2fc32d7f8d8f1236f8"}[e]+".js"}(e),i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");i.type=o,i.request=a,n[1](i)}r[e]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:c})},12e4);c.onerror=c.onload=i,s.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=i;o(o.s=12)}([function(e,t){e.exports=React},function(e,t,n){e.exports=n(24)()},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,u=[],f=n(15);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(v(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(v(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function d(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function y(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return b(t,e.attrs),d(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function v(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;n=c||(c=y(t)),r=x.bind(null,n,i,!1),o=x.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&p(h(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function x(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t,n){"use strict";var r=n(2),o=n.n(r),a=n(3),i=n.n(a);function s(e){return"/"===e.charAt(0)}function c(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&s(e),a=t&&s(t),i=o||a;if(e&&s(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l=void 0;if(r.length){var u=r[r.length-1];l="."===u||".."===u||""===u}else l=!1;for(var f=0,p=r.length;p>=0;p--){var h=r[p];"."===h?c(r,p):".."===h?(c(r,p),f++):f&&(c(r,p),f--)}if(!i)for(;f--;f)r.unshift("..");!i||""===r[0]||r[0]&&s(r[0])||r.unshift("");var d=r.join("/");return l&&"/"!==d.substr(-1)&&(d+="/"),d};"function"==typeof Symbol&&Symbol.iterator;var u=function(e){return"/"===e.charAt(0)?e:"/"+e},f=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},p=function(e,t){return f(e,t)?e.substr(t.length):e},h=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},d=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=m({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=l(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},b=function(){var e=null,t=[];return{setPrompt:function(t){return o()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,a):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}},v=!("undefined"==typeof window||!window.document||!window.document.createElement),g=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},w=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},x=function(e,t){return t(window.confirm(e))},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){try{return window.history.state||{}}catch(e){return{}}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(v,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e.forceRefresh,c=void 0!==s&&s,l=e.getUserConfirmation,m=void 0===l?x:l,k=e.keyLength,R=void 0===k?6:k,S=e.basename?h(u(e.basename)):"",C=function(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname+a.search+a.hash;return o()(!S||f(i,S),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+S+'".'),S&&(i=p(i,S)),y(i,r,n)},T=function(){return Math.random().toString(36).substr(2,R)},A=b(),P=function(e){E(Y,e),Y.length=n.length,A.notifyListeners(Y.location,Y.action)},U=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(C(e.state))},L=function(){N(C(j()))},_=!1,N=function(e){_?(_=!1,P()):A.confirmTransitionTo(e,"POP",m,function(t){t?P({action:"POP",location:e}):I(e)})},I=function(e){var t=Y.location,n=B.indexOf(t.key);-1===n&&(n=0);var r=B.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(_=!0,D(o))},M=C(j()),B=[M.key],z=function(e){return S+d(e)},D=function(e){n.go(e)},F=0,q=function(e){1===(F+=e)?(g(window,"popstate",U),a&&g(window,"hashchange",L)):0===F&&(w(window,"popstate",U),a&&w(window,"hashchange",L))},$=!1,Y={length:n.length,action:"POP",location:M,createHref:z,push:function(e,t){o()(!("object"===(void 0===e?"undefined":O(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=y(e,t,T(),Y.location);A.confirmTransitionTo(a,"PUSH",m,function(e){if(e){var t=z(a),i=a.key,s=a.state;if(r)if(n.pushState({key:i,state:s},null,t),c)window.location.href=t;else{var l=B.indexOf(Y.location.key),u=B.slice(0,-1===l?0:l+1);u.push(a.key),B=u,P({action:"PUSH",location:a})}else o()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){o()(!("object"===(void 0===e?"undefined":O(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=y(e,t,T(),Y.location);A.confirmTransitionTo(a,"REPLACE",m,function(e){if(e){var t=z(a),i=a.key,s=a.state;if(r)if(n.replaceState({key:i,state:s},null,t),c)window.location.replace(t);else{var l=B.indexOf(Y.location.key);-1!==l&&(B[l]=a.key),P({action:"REPLACE",location:a})}else o()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:D,goBack:function(){return D(-1)},goForward:function(){return D(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=A.setPrompt(e);return $||(q(1),$=!0),function(){return $&&($=!1,q(-1)),t()}},listen:function(e){var t=A.appendListener(e);return q(1),function(){q(-1),t()}}};return Y};Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign;n.d(t,"a",function(){return k}),n.d(t,"b",function(){return y})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),s=n(1),c=n.n(s),l=n(7),u=n(3),f=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props.history.location.pathname)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;f()(null==n||1===o.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){i()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?o.a.Children.only(e):null},t}(o.a.Component);d.propTypes={history:c.a.object.isRequired,children:c.a.node},d.contextTypes={router:c.a.object},d.childContextTypes={router:c.a.object.isRequired};var m=d;function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.history=Object(l.a)(r.props),y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return o.a.createElement(m,{history:this.history,children:this.props.children})},t}(o.a.Component);b.propTypes={basename:c.a.string,forceRefresh:c.a.bool,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node};var v=b,g=n(11),w=n(29);n(20),n(22);n.d(t,"b",function(){return j}),n.d(t,"a",function(){return R});var x,O=(x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=Object(r.lazy)(function(){return n.e(11).then(n.bind(null,45))}),j=[{type:"style",name:"Color",route:"/demos/color",component:Object(r.lazy)(function(){return n.e(8).then(n.bind(null,46))})},{type:"style",name:"Depth",route:"/demos/depth",component:Object(r.lazy)(function(){return n.e(9).then(n.bind(null,47))})},{type:"style",name:"Icon",route:"/demos/icon",component:Object(r.lazy)(function(){return Promise.all([n.e(2),n.e(13)]).then(n.bind(null,48))})},{type:"style",name:"Typography",route:"/demos/typography",component:Object(r.lazy)(function(){return n.e(5).then(n.bind(null,49))})},{type:"component",name:"App shell",route:"/demos/app-shell",component:Object(r.lazy)(function(){return Promise.all([n.e(2),n.e(12)]).then(n.bind(null,56))})},{type:"component",name:"Button",route:"/demos/button",component:Object(r.lazy)(function(){return n.e(6).then(n.bind(null,50))})},{type:"component",name:"Form header",route:"/demos/form-header",component:Object(r.lazy)(function(){return n.e(10).then(n.bind(null,55))})},{type:"component",name:"Text field",route:"/demos/text-field",component:Object(r.lazy)(function(){return n.e(4).then(n.bind(null,51))})},{type:"component",name:"Toggle",route:"/demos/toggle",component:Object(r.lazy)(function(){return n.e(7).then(n.bind(null,52))})}],k=[{series:"markov-chain",baseRoute:"/experiments/markov-chain",description:"Business process flow improvements",started:"2018-12-05",iterations:[{subRoute:"alpha",component:Object(r.lazy)(function(){return n.e(0).then(n.bind(null,53))})},{subRoute:"bravo",component:Object(r.lazy)(function(){return n.e(1).then(n.bind(null,54))})}]},{series:"nova-scotia",baseRoute:"/experiments/nova-scotia",description:"App shell overflow studies",started:"2018-11-01",iterations:[{subRoute:"alpha",component:Object(r.lazy)(function(){return n.e(0).then(n.bind(null,53))})},{subRoute:"bravo",component:Object(r.lazy)(function(){return n.e(1).then(n.bind(null,54))})}]}],R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.render=function(){return r.createElement(v,null,r.createElement(r.Fragment,null,r.createElement(g.a,{exact:!0,path:"/",component:function(){return r.createElement("main",null,r.createElement("h1",{className:"lab-h1"},"Dynamics Interaction Lab"),r.createElement("div",{className:"lab-s50"}),r.createElement("h2",{className:"lab-h2"},"Demos"),r.createElement("div",{className:"lab-s50"}),r.createElement("section",{className:"lab-section"},r.createElement("h3",{className:"lab-h3"},"Styles"),j.filter(function(e){return"style"===e.type}).map(function(e){return r.createElement(w.a,{key:e.route,className:"lab-link lab-link--horizontal-list",activeClassName:"lab-link--active",to:e.route},e.name)}),r.createElement("br",null),r.createElement("h3",{className:"lab-h3"},"Components"),j.filter(function(e){return"component"===e.type}).map(function(e){return r.createElement(w.a,{key:e.route,className:"lab-link lab-link--horizontal-list",activeClassName:"lab-link--active",to:e.route},e.name)}),r.createElement("div",{className:"lab-s100"})),r.createElement("h2",{className:"lab-h2"},"Experiments"),r.createElement("div",{className:"lab-s50"}),r.createElement("section",{className:"lab-section"},k.map(function(e){return r.createElement("div",{title:e.started+": "+e.description,key:e.series},r.createElement("h3",{className:"lab-h3"},e.series),e.iterations.map(function(t){return r.createElement(w.a,{target:"_blank",key:t.subRoute,className:"lab-link lab-link--horizontal-list",activeClassName:"lab-link--active",to:e.baseRoute+"/"+t.subRoute},t.subRoute)}))})))}}),r.createElement(g.a,{path:"/demos",component:function(){return r.createElement(r.Suspense,{fallback:"loading..."},r.createElement(E,null))}}),k.map(function(e){return e.iterations.map(function(t){return r.createElement(g.a,{key:t.subRoute,path:e.baseRoute+"/"+t.subRoute,component:function(){return r.createElement(r.Suspense,{fallback:"loading..."},r.createElement(t.component,null))}})})}),j.map(function(e){return r.createElement(g.a,{key:e.route,path:"/embed"+e.route,component:function(){return r.createElement(r.Suspense,{fallback:"loading..."},r.createElement(e.component,null))}})})))},t}(r.Component)},function(e,t){e.exports=ReactDOM},function(e,t,n){var r=n(26);e.exports=h,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,i=0,s="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var f=n[0],p=n[1],h=n.index;if(s+=e.slice(i,h),i=h+f.length,p)s+=p[1];else{var d=e[i],m=n[2],y=n[3],b=n[4],v=n[5],g=n[6],w=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=d&&d!==m,O="+"===g||"*"===g,E="?"===g||"*"===g,j=n[2]||u,k=b||v;r.push({name:y||a++,prefix:m||"",delimiter:j,optional:E,repeat:O,partial:x,asterisk:!!w,pattern:k?l(k):w?".*":"[^"+c(j)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var a="",s=n||{},c=(o||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var f,p=s[u.name];if(null==p){if(u.optional){u.partial&&(a+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(f=c(p[h]),!t[l].test(f))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===h?u.prefix:u.delimiter)+f}}else{if(f=u.asterisk?encodeURI(p).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(p),!t[l].test(f))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+f+'"');a+=u.prefix+f}}else a+=u}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,a=!1!==n.end,i="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)i+=c(l);else{var p=c(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+p+h+")*"),i+=h=l.optional?l.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var d=c(n.delimiter||"/"),m=i.slice(-d.length)===d;return o||(i=(m?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=a?"$":o&&m?"":"(?="+d+"|$)",u(new RegExp("^"+i,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(h(e[o],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return p(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(4),o=n.n(r),a=n(3),i=n.n(a),s=n(0),c=n.n(s),l=n(1),u=n.n(l),f=n(10),p=n.n(f),h={},d=0,m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,a=r.exact,i=void 0!==a&&a,s=r.strict,c=void 0!==s&&s,l=r.sensitive;if(null==o)return n;var u=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=h[n]||(h[n]={});if(r[e])return r[e];var o=[],a={re:p()(e,o,t),keys:o};return d<1e4&&(r[e]=a,d++),a}(o,{end:i,strict:c,sensitive:void 0!==l&&l}),f=u.re,m=u.keys,y=f.exec(e);if(!y)return null;var b=y[0],v=y.slice(1),g=e===b;return i&&!g?null:{path:o,url:"/"===o&&""===b?"/":b,isExact:g,params:m.reduce(function(e,t,n){return e[t.name]=v[n],e},{})}},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){return 0===c.a.Children.count(e)},g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props,r.context.router)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:y({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,a=e.strict,s=e.exact,c=e.sensitive;if(n)return n;i()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,u=(r||l.location).pathname;return m(u,{path:o,strict:a,exact:s,sensitive:c},l.match)},t.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!v(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!v(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){o()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,o=t.render,a=this.context.router,i=a.history,s=a.route,l=a.staticContext,u={match:e,location:this.props.location||s.location,history:i,staticContext:l};return r?e?c.a.createElement(r,u):null:o?e?o(u):null:"function"==typeof n?n(u):n&&!v(n)?c.a.Children.only(n):null},t}(c.a.Component);g.propTypes={computedMatch:u.a.object,path:u.a.string,exact:u.a.bool,strict:u.a.bool,sensitive:u.a.bool,component:u.a.func,render:u.a.func,children:u.a.oneOfType([u.a.func,u.a.node]),location:u.a.object},g.contextTypes={router:u.a.shape({history:u.a.object.isRequired,route:u.a.object.isRequired,staticContext:u.a.object})},g.childContextTypes={router:u.a.object.isRequired};var w=g;t.a=w},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(9),a=(n(13),n(16),n(8));o.render(r.createElement(a.a,null),document.getElementById("app"))},function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,"@font-face {\r\n  font-family: 'Segoe UI';\r\n  src: local('Segoe UI'),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/normal/latest.woff2') format(\"woff2\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/normal/latest.woff') format(\"woff\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/normal/latest.ttf') format(\"ttf\");\r\n  font-weight: 400;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Segoe UI';\r\n  src: local('Segoe UI Light'),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Light/latest.woff2') format(\"woff2\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Light/latest.woff') format(\"woff\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Light/latest.ttf') format(\"ttf\");\r\n  font-weight: 100;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Segoe UI';\r\n  src: local('Segoe UI Semilight'),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Semilight/latest.woff2') format(\"woff2\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Semilight/latest.woff') format(\"woff\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Semilight/latest.ttf') format(\"ttf\");\r\n  font-weight: 200;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Segoe UI';\r\n  src: local('Segoe UI Semibold'),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Semibold/latest.woff2') format(\"woff2\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Semibold/latest.woff') format(\"woff\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Semibold/latest.ttf') format(\"ttf\");\r\n  font-weight: 600;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Segoe UI';\r\n  src: local('Segoe UI Bold'),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Bold/latest.woff2') format(\"woff2\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Bold/latest.woff') format(\"woff\"),url('//c.s-microsoft.com/static/fonts/segoe-ui/west-european/Bold/latest.ttf') format(\"ttf\");\r\n  font-weight: 700;\r\n  font-display: swap;\r\n}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r=n(17);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(18);(e.exports=n(5)(!1)).push([e.i,"@font-face {\r\n  font-family: 'Full MDL2 Assets';\r\n  src: url("+r(n(19))+");\r\n}\r\n\r\n.mdl2 {\r\n  font-family: 'Full MDL2 Assets';\r\n}",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){e.exports=n.p+"d60299c9ff1e17e025b610b8aee57673.woff2"},function(e,t,n){var r=n(21);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,"/* property naming convention \r\n * --<component>-[<subcomponent>]-[<variant>|<mode>]-[fg|bg|border]-[rest|hover|focus|pressed|disabled]\r\n*/\r\n\r\nbody {\r\n    /* Button */\r\n    --btn-font: var(--fw-semibold) var(--scale-14)/var(--scale-20) var(--ff-segoe-ui);\r\n    --btn-height: 2rem;\r\n    --btn-letter-spacing: var(--ls-p-05);\r\n    --btn-padding-side: 1.25rem;\r\n    --btn-primary-bg-rest: var(--color-primary);\r\n    --btn-primary-fg-rest:  var(--color-primary-contrast);\r\n    --btn-primary-bg-hover: white;\r\n    --btn-primary-fg-hover: var(--color-grey-190);\r\n    --btn-secondary-bg-rest: white;\r\n    --btn-secondary-fg-rest: var(--color-grey-190);\r\n    --btn-secondary-bg-hover: var(--color-primary);\r\n    --btn-secondary-fg-hover: var(--color-primary-contrast);\r\n    --btn-border-radius: var(--border-radius);\r\n    --btn-shadow-hover: var(--depth-2);\r\n    --btn-shadow-rest: var(--depth-1);\r\n\r\n    /* Text field */\r\n    --tf-border-rest: var(--border-width) solid var(--color-grey-130);\r\n    --tf-border-hover: var(--border-width) solid var(--color-primary);\r\n    --tf-fg: var(--color-grey-190);\r\n    --tf-font: var(--fw-normal) var(--scale-14)/var(--scale-20) var(--ff-segoe-ui);\r\n    --tf-letter-spacing: var(--ls-p-05);\r\n\r\n    /* Toggle */\r\n    --tg-track-width: 42px;\r\n    --tg-track-height: 20px;\r\n    --tg-track-gutter: 5px;\r\n    --tg-track-label-gutter: 8px;\r\n    --tg-knob-translate: 22px;\r\n    --tg-knob-diameter: calc(var(--tg-track-height) - 2 * var(--tg-track-gutter));\r\n    --tg-label-font: var(--fw-semibold) var(--scale-14)/var(--scale-20) var(--ff-segoe-ui);\r\n    --tg-label-letter-spacing: var(--ls-p-05);\r\n    --tg-transition-duration: var(--t-200);\r\n    --tg-off-track-border-rest: var(--color-grey-160);\r\n    --tg-off-track-border-hover: var(--color-primary);\r\n    --tg-off-track-bg-rest: white;\r\n    --tg-off-knob-bg: var(--color-grey-160);\r\n    --tg-on-track-border-rest: transparent;\r\n    --tg-on-track-border-hover: transparent;\r\n    --tg-on-track-bg-rest: var(--color-primary);\r\n    --tg-on-knob-bg: white;\r\n\r\n    /*\r\n     * DANGER ZONE\r\n     * \r\n     * Below are raw styles.\r\n     * Always use the styles above first.\r\n     * Use the styles below only as an escape hatch.\r\n     * If none of the styles above meets your goal,\r\n     * ask yourself if you are breaking the design system.\r\n    */\r\n\r\n    /* Color */\r\n    --color-grey-10: #F8F8F9;\r\n    --color-grey-20: #F1F2F4;\r\n    --color-grey-30: #E8EAEC;\r\n    --color-grey-40: #D8DADE;\r\n    --color-grey-50: #CED0D4;\r\n    --color-grey-60: #C6C8CC;\r\n    --color-grey-90: #A4A6AC;\r\n    --color-grey-130: #6E6F77;\r\n    --color-grey-150: #3A3C42;\r\n    --color-grey-160: #31333A;\r\n    --color-grey-190: #1F2126;\r\n\r\n    /* Depth */\r\n    --depth-1: 0px 0px 1.8px rgba(0, 0, 0, 0.12), 0px 3.2px 3.6px rgba(0, 0, 0, 0.1);\r\n    --depth-2: 0px 1.2px 3.6px rgba(0, 0, 0, 0.12), 0px 6.4px 7.2px rgba(0, 0, 0, 0.1);\r\n    --depth-3: 0px 2.4px 7.2px rgba(0, 0, 0, 0.08), 0px 12.8px 28.8px rgba(0, 0, 0, 0.12);\r\n    --depth-4: 0px 4.8px 14.4px rgba(0, 0, 0, 0.08), 0px 25.6px 57.6px rgba(0, 0, 0, 0.12);\r\n\r\n    /* Font weights */\r\n    --fw-normal: 400;\r\n    --fw-semibold: 600;\r\n\r\n    /* Font families */\r\n    --ff-segoe-ui: 'Segoe UI',Segoe,Tahoma,Arial,Verdana,sans-serif;\r\n    --ff-mdl2: 'Full MDL2 Assets';\r\n\r\n    /* Geometry */\r\n    --border-radius: 2px;\r\n    --border-width: 1px;\r\n\r\n    /* Letter spacing */\r\n    --ls-p-002: 0.02em;\r\n    --ls-p-0005: 0.005em;\r\n    --ls-m-0006: -0.006em;\r\n\r\n    /* Scale */\r\n    --scale-12: .75rem;\r\n    --scale-14: .875rem;\r\n    --scale-16: 1rem;\r\n    --scale-20: 1.25rem;\r\n    --scale-24: 1.5rem;\r\n    --scale-28: 1.75rem;\r\n    --scale-34: 2.125rem;\r\n    --scale-40: 2.5rem;\r\n    --scale-48: 3rem;\r\n    --scale-60: 3.75rem;\r\n\r\n    /* Timing */\r\n    --t-200: 200ms;\r\n}\r\n\r\nbody[data-theme=\"digital-blue\"] {\r\n    --color-primary: #2266E3;\r\n    --color-primary-contrast: white;\r\n}\r\n",""])},function(e,t,n){var r=n(23);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(5)(!1)).push([e.i,":root {\r\n  --lab-link-rest-color: #777;\r\n  --lab-link-active-color: #2266E3;\r\n  --page-side-padding: 1rem;\r\n  --left-nav-width: 10rem;\r\n}\r\n\r\n.lab-demo-browser {\r\n  display: flex;\r\n}\r\n\r\n.lab-demo-browser__nav {\r\n  flex: 0 0 auto;\r\n  height: 100vh;\r\n  overflow-y: auto;\r\n  width: var(--left-nav-width);\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 1rem var(--page-side-padding);\r\n  border-right: 1px solid #DDD;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.lab-demo-browser__content {\r\n  flex: 1 1 auto;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.lab-link {\r\n  text-decoration: none;\r\n  color: var(--lab-link-rest-color);\r\n}\r\n\r\n.lab-link--active {\r\n  color: var(--lab-link-active-color);\r\n  font-weight: 600;\r\n}\r\n\r\n.lab-link--horizontal-list:hover {\r\n  color: var(--lab-link-active-color);\r\n}\r\n\r\n.lab-link--horizontal-list + .lab-link--horizontal-list::before {\r\n  content: '\\A0\\B7\\A0';\r\n}\r\n\r\n\r\n.lab-link--vertical-list.lab-link--active::before {\r\n  content: '\\25B8';\r\n  line-height: 0;\r\n}\r\n\r\n.lab-link--vertical-list:hover::before {\r\n  content: '\\25B8';\r\n  line-height: 0;\r\n}\r\n\r\n.lab-h1 {\r\n  font-size: 2rem;\r\n  margin: 0;\r\n  color: #2266E3;\r\n  padding: 0 var(--page-side-padding);\r\n  font-weight: 300;\r\n}\r\n\r\n.lab-h2 {\r\n  margin: 0;\r\n  color: #EEE;\r\n  background-color: #222;\r\n  display: inline-block;\r\n  font-size: 0.75rem;\r\n  font-weight: 400;\r\n  text-transform: uppercase;\r\n  padding: 0 var(--page-side-padding);\r\n}\r\n\r\n.lab-h3 {\r\n  display: inline;\r\n  margin-right: 0.5em;\r\n  font-size: 1rem;\r\n}\r\n\r\n.lab-section {\r\n  padding: 0 var(--page-side-padding);\r\n}\r\n\r\n/* spacer */\r\n.lab-s50 {\r\n  height: .5rem;\r\n}\r\n.lab-s100 {\r\n  height: 1rem;\r\n}",""])},function(e,t,n){"use strict";var r=n(25);function o(){}e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){e.exports=styled},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(11),c=n(3),l=n.n(c),u=n(7),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!h(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,a=n.to;o?t.replace(a):t.push(a)}},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);l()(this.context.router,"You should not use <Link> outside a <Router>"),l()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,i="string"==typeof t?Object(u.b)(t,null,null,a.location):t,s=a.createHref(i);return o.a.createElement("a",f({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(o.a.Component);d.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},d.defaultProps={replace:!1},d.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired};var m=d,y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var v=function(e){var t=e.to,n=e.exact,r=e.strict,a=e.location,i=e.activeClassName,c=e.className,l=e.activeStyle,u=e.style,f=e.isActive,p=e["aria-current"],h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),d="object"===(void 0===t?"undefined":b(t))?t.pathname:t,v=d&&d.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(s.a,{path:v,exact:n,strict:r,location:a,children:function(e){var n=e.location,r=e.match,a=!!(f?f(r,n):r);return o.a.createElement(m,y({to:t,className:a?[c,i].filter(function(e){return e}).join(" "):c,style:a?y({},u,l):u,"aria-current":a&&p||null},h))}})};v.propTypes={to:m.propTypes.to,exact:i.a.bool,strict:i.a.bool,location:i.a.object,activeClassName:i.a.string,className:i.a.string,activeStyle:i.a.object,style:i.a.object,isActive:i.a.func,"aria-current":i.a.oneOf(["page","step","location","date","time","true"])},v.defaultProps={activeClassName:"active","aria-current":"page"};t.a=v}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2FybmluZy93YXJuaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ZhbHVlLWVxdWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL1BhdGhVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGlzdG9yeS9lcy9Mb2NhdGlvblV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL0RPTVV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2NyZWF0ZUJyb3dzZXJIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2NyZWF0ZUhhc2hIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzL2NyZWF0ZU1lbW9yeUhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hpc3RvcnkvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9lcy9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vZXMvUm91dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzL0Jyb3dzZXJSb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAudHN4Iiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhdGgtdG8tcmVnZXhwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvZXMvbWF0Y2hQYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvZXMvUm91dGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vZXMvUm91dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3R5cG9ncmFwaHkvc2Vnb2UtdWkuY3NzPzFkNzciLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy90eXBvZ3JhcGh5L3NlZ29lLXVpLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaWNvbi9mdWxsLW1kbDIuY3NzPzM1NDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9pY29uL2Z1bGwtbWRsMi5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL3VybC9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9pY29uL0Z1bGxNREwyLndvZmYyIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvZmx1ZW50LWZvci1keW5hbWljcy5jc3M/ZTI0NSIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL2ZsdWVudC1mb3ItZHluYW1pY3MuY3NzIiwid2VicGFjazovLy8uL3NyYy9hcHAvaW50ZXJhY3Rpb24tbGFiLmNzcz8yYjBhIiwid2VicGFjazovLy8uL3NyYy9hcHAvaW50ZXJhY3Rpb24tbGFiLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wYXRoLXRvLXJlZ2V4cC9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdHlsZWRcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9lcy9MaW5rLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzL05hdkxpbmsuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiaW5zdGFsbGVkTW9kdWxlcyIsIjMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJlIiwicHJvbWlzZXMiLCJpbnN0YWxsZWRDaHVua0RhdGEiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvblNjcmlwdENvbXBsZXRlIiwiaGVhZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInRpbWVvdXQiLCJuYyIsInNldEF0dHJpYnV0ZSIsInNyYyIsInAiLCIwIiwiMSIsIjIiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCIxMCIsIjExIiwiMTIiLCIxMyIsImpzb25wU2NyaXB0U3JjIiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiY2h1bmsiLCJlcnJvclR5cGUiLCJ0eXBlIiwicmVhbFNyYyIsInRhcmdldCIsImVycm9yIiwiRXJyb3IiLCJyZXF1ZXN0IiwidW5kZWZpbmVkIiwic2V0VGltZW91dCIsImFwcGVuZENoaWxkIiwiYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsIm9lIiwiZXJyIiwiY29uc29sZSIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJzIiwiUmVhY3QiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJhIiwiYiIsImYiLCJhcmdzIiwiYXJnSW5kZXgiLCJyZXBsYWNlIiwiZnJhbWVzVG9Qb3AiLCJ3YXJuaW5nIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImlkIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInBhcmVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50Iiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsIm5vbmNlIiwiZ2V0Tm9uY2UiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJkZWZhdWx0Iiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJpc0Fic29sdXRlIiwicGF0aG5hbWUiLCJjaGFyQXQiLCJzcGxpY2VPbmUiLCJrIiwicG9wIiwicmVzb2x2ZV9wYXRobmFtZSIsInRvIiwiZnJvbSIsInRvUGFydHMiLCJzcGxpdCIsImZyb21QYXJ0cyIsImlzVG9BYnMiLCJpc0Zyb21BYnMiLCJtdXN0RW5kQWJzIiwiaGFzVHJhaWxpbmdTbGFzaCIsImxhc3QiLCJ1cCIsInVuc2hpZnQiLCJzdWJzdHIiLCJpdGVyYXRvciIsImFkZExlYWRpbmdTbGFzaCIsInBhdGgiLCJoYXNCYXNlbmFtZSIsInByZWZpeCIsIlJlZ0V4cCIsInRlc3QiLCJzdHJpcEJhc2VuYW1lIiwic3RyaXBUcmFpbGluZ1NsYXNoIiwiY3JlYXRlUGF0aCIsImxvY2F0aW9uIiwic2VhcmNoIiwiaGFzaCIsIl9leHRlbmRzIiwiYXNzaWduIiwiTG9jYXRpb25VdGlsc19jcmVhdGVMb2NhdGlvbiIsInN0YXRlIiwiY3VycmVudExvY2F0aW9uIiwiaGFzaEluZGV4Iiwic2VhcmNoSW5kZXgiLCJwYXJzZVBhdGgiLCJkZWNvZGVVUkkiLCJVUklFcnJvciIsImVzX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwicHJvbXB0IiwibGlzdGVuZXJzIiwic2V0UHJvbXB0IiwibmV4dFByb21wdCIsImJyb3dzZXJfZGVmYXVsdCIsImNvbmZpcm1UcmFuc2l0aW9uVG8iLCJhY3Rpb24iLCJnZXRVc2VyQ29uZmlybWF0aW9uIiwiY2FsbGJhY2siLCJhcHBlbmRMaXN0ZW5lciIsImlzQWN0aXZlIiwibGlzdGVuZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJfbGVuIiwiQXJyYXkiLCJfa2V5IiwiY2FuVXNlRE9NIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5vZGUiLCJhdHRhY2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsImdldENvbmZpcm1hdGlvbiIsIm1lc3NhZ2UiLCJjb25maXJtIiwiY3JlYXRlQnJvd3Nlckhpc3RvcnlfdHlwZW9mIiwiY29uc3RydWN0b3IiLCJjcmVhdGVCcm93c2VySGlzdG9yeV9leHRlbmRzIiwiZ2V0SGlzdG9yeVN0YXRlIiwiaGlzdG9yeSIsImVzX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IiwicHJvcHMiLCJpbnZhcmlhbnRfYnJvd3Nlcl9kZWZhdWx0IiwidWEiLCJnbG9iYWxIaXN0b3J5IiwiY2FuVXNlSGlzdG9yeSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm5lZWRzSGFzaENoYW5nZUxpc3RlbmVyIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsIl9wcm9wcyRrZXlMZW5ndGgiLCJrZXlMZW5ndGgiLCJiYXNlbmFtZSIsImdldERPTUxvY2F0aW9uIiwiaGlzdG9yeVN0YXRlIiwiX3JlZiIsIl93aW5kb3ckbG9jYXRpb24iLCJjcmVhdGVLZXkiLCJNYXRoIiwicmFuZG9tIiwidHJhbnNpdGlvbk1hbmFnZXIiLCJzZXRTdGF0ZSIsIm5leHRTdGF0ZSIsImhhbmRsZVBvcFN0YXRlIiwiaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCIsImhhbmRsZVBvcCIsImhhbmRsZUhhc2hDaGFuZ2UiLCJmb3JjZU5leHRQb3AiLCJvayIsInJldmVydFBvcCIsImZyb21Mb2NhdGlvbiIsInRvTG9jYXRpb24iLCJ0b0luZGV4IiwiYWxsS2V5cyIsImZyb21JbmRleCIsImRlbHRhIiwiZ28iLCJpbml0aWFsTG9jYXRpb24iLCJjcmVhdGVIcmVmIiwibGlzdGVuZXJDb3VudCIsImNoZWNrRE9NTGlzdGVuZXJzIiwiaXNCbG9ja2VkIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJibG9jayIsInVuYmxvY2siLCJsaXN0ZW4iLCJ1bmxpc3RlbiIsIl9fd2VicGFja19leHBvcnRzX18iLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIlJvdXRlcl9Sb3V0ZXIiLCJfUmVhY3QkQ29tcG9uZW50IiwiUm91dGVyIiwiX3RlbXAiLCJfdGhpcyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJtYXRjaCIsImNvbXB1dGVNYXRjaCIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHMiLCJnZXRDaGlsZENvbnRleHQiLCJyb3V0ZXIiLCJjb250ZXh0Iiwicm91dGUiLCJ1cmwiLCJwYXJhbXMiLCJpc0V4YWN0IiwiY29tcG9uZW50V2lsbE1vdW50IiwiX3RoaXMyIiwiX3Byb3BzIiwiY2hpbGRyZW4iLCJleHRlcm5hbF9SZWFjdF9kZWZhdWx0IiwiQ2hpbGRyZW4iLCJjb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJ3YXJuaW5nX2RlZmF1bHQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbmRlciIsIm9ubHkiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJwcm9wX3R5cGVzX2RlZmF1bHQiLCJpc1JlcXVpcmVkIiwiY29udGV4dFR5cGVzIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJyZWFjdF9yb3V0ZXJfZG9tX2VzX1JvdXRlciIsIkJyb3dzZXJSb3V0ZXJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIkJyb3dzZXJSb3V0ZXJfQnJvd3NlclJvdXRlciIsIkJyb3dzZXJSb3V0ZXIiLCJCcm93c2VyUm91dGVyX2NsYXNzQ2FsbENoZWNrIiwiZXMiLCJCcm93c2VyUm91dGVyX2luaGVyaXRzIiwic3RyaW5nIiwiYm9vbCIsImZ1bmMiLCJudW1iZXIiLCJlc19Ccm93c2VyUm91dGVyIiwiRGVtb0Jyb3dzZXIiLCJleHRlcm5hbF9SZWFjdF8iLCJ0aGVuIiwiZGVtb3MiLCJjb21wb25lbnQiLCJleHBlcmltZW50cyIsInNlcmllcyIsImJhc2VSb3V0ZSIsImRlc2NyaXB0aW9uIiwic3RhcnRlZCIsIml0ZXJhdGlvbnMiLCJzdWJSb3V0ZSIsImFwcF9BcHAiLCJfc3VwZXIiLCJBcHAiLCJfX2V4dGVuZHMiLCJSb3V0ZSIsImV4YWN0IiwiY2xhc3NOYW1lIiwiZGVtbyIsIk5hdkxpbmsiLCJhY3RpdmVDbGFzc05hbWUiLCJleHBlcmltZW50IiwidGl0bGUiLCJpdGVyYXRpb24iLCJmYWxsYmFjayIsIlJlYWN0RE9NIiwiaXNhcnJheSIsInBhdGhUb1JlZ2V4cCIsInBhcnNlIiwiY29tcGlsZSIsInN0ciIsInRva2Vuc1RvRnVuY3Rpb24iLCJ0b2tlbnNUb1JlZ0V4cCIsIlBBVEhfUkVHRVhQIiwicmVzIiwidG9rZW5zIiwiZGVmYXVsdERlbGltaXRlciIsImRlbGltaXRlciIsImV4ZWMiLCJlc2NhcGVkIiwib2Zmc2V0IiwibmV4dCIsImNhcHR1cmUiLCJncm91cCIsIm1vZGlmaWVyIiwiYXN0ZXJpc2siLCJwYXJ0aWFsIiwicmVwZWF0Iiwib3B0aW9uYWwiLCJwYXR0ZXJuIiwiZXNjYXBlR3JvdXAiLCJlc2NhcGVTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnRQcmV0dHkiLCJlbmNvZGVVUkkiLCJjaGFyQ29kZUF0IiwidG9VcHBlckNhc2UiLCJtYXRjaGVzIiwib3B0cyIsImVuY29kZSIsInByZXR0eSIsInRva2VuIiwic2VnbWVudCIsImF0dGFjaEtleXMiLCJyZSIsImZsYWdzIiwic2Vuc2l0aXZlIiwic3RyaWN0IiwiZW5kIiwiZW5kc1dpdGhEZWxpbWl0ZXIiLCJncm91cHMiLCJyZWdleHBUb1JlZ2V4cCIsImFycmF5VG9SZWdleHAiLCJzdHJpbmdUb1JlZ2V4cCIsInBhdHRlcm5DYWNoZSIsImNhY2hlQ291bnQiLCJlc19tYXRjaFBhdGgiLCJfb3B0aW9ucyIsIl9vcHRpb25zJGV4YWN0IiwiX29wdGlvbnMkc3RyaWN0IiwiX29wdGlvbnMkc2Vuc2l0aXZlIiwiX2NvbXBpbGVQYXRoIiwiY2FjaGVLZXkiLCJjYWNoZSIsImNvbXBpbGVkUGF0dGVybiIsInBhdGhfdG9fcmVnZXhwX2RlZmF1bHQiLCJtYXRjaFBhdGhfY29tcGlsZVBhdGgiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJSb3V0ZV9pc0VtcHR5Q2hpbGRyZW4iLCJSb3V0ZV9Sb3V0ZSIsImNvbXB1dGVkTWF0Y2giLCJuZXh0Q29udGV4dCIsIl9jb250ZXh0JHJvdXRlciIsInN0YXRpY0NvbnRleHQiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImVzX1JvdXRlIiwicmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2FwcF9hcHBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsImdldEVsZW1lbnRCeUlkIiwiaG1yIiwibG9jYWxzIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwiZXNjYXBlIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJlbXB0eUZ1bmN0aW9uIiwic2hpbSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsImFycmF5Iiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwib2JqZWN0T2YiLCJvbmVPZiIsImNoZWNrUHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiaXNBcnJheSIsImFyciIsInN0eWxlZCIsImlzTW9kaWZpZWRFdmVudCIsIm1ldGFLZXkiLCJhbHRLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJMaW5rX0xpbmsiLCJMaW5rIiwiaGFuZGxlQ2xpY2siLCJvbkNsaWNrIiwiZGVmYXVsdFByZXZlbnRlZCIsImJ1dHRvbiIsInByZXZlbnREZWZhdWx0IiwiX3RoaXMkcHJvcHMiLCJpbm5lclJlZiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsInJlZiIsImRlZmF1bHRQcm9wcyIsImVzX0xpbmsiLCJOYXZMaW5rX2V4dGVuZHMiLCJfdHlwZW9mIiwiTmF2TGlua19OYXZMaW5rIiwiYWN0aXZlU3R5bGUiLCJnZXRJc0FjdGl2ZSIsImFyaWFDdXJyZW50IiwicmVzdCIsIk5hdkxpbmtfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJlc2NhcGVkUGF0aCIsIl9yZWYyIiwiYXJpYS1jdXJyZW50Il0sIm1hcHBpbmdzIjoiYUFDQSxTQUFBQSxFQUFBQyxHQVFBLElBUEEsSUFNQUMsRUFBQUMsRUFOQUMsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdBS0FLLEVBQUEsRUFBQUMsRUFBQSxHQUNRRCxFQUFBRixFQUFBSSxPQUFvQkYsSUFDNUJILEVBQUFDLEVBQUFFLEdBQ0FHLEVBQUFOLElBQ0FJLEVBQUFHLEtBQUFELEVBQUFOLEdBQUEsSUFFQU0sRUFBQU4sR0FBQSxFQUVBLElBQUFELEtBQUFHLEVBQ0FNLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFULEVBQUFILEtBQ0FhLEVBQUFiLEdBQUFHLEVBQUFILElBS0EsSUFGQWMsS0FBQWYsR0FFQU0sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxJQUFBVyxFQUFBLEdBS0FULEVBQUEsQ0FDQVUsRUFBQSxHQVdBLFNBQUFDLEVBQUFsQixHQUdBLEdBQUFnQixFQUFBaEIsR0FDQSxPQUFBZ0IsRUFB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K0csR0FFQSxPQUFhb0IsRUFBQTNSLEVBQUt2RSxjQUFldWhCLEVBQU1DLEVBQVEsQ0FDL0NoVixLQUNBdU0sVUFBQXhKLEVBQUEsQ0FBQXdKLEVBQUFHLEdBQUFyTixPQUFBLFNBQUEzTixHQUNBLE9BQUFBLElBQ1NpSSxLQUFBLEtBQUE0UyxFQUNUdlEsTUFBQStHLEVBQTBCaVMsRUFBUSxHQUFHaFosRUFBQW1aLEdBQUFuWixFQUNyQzBaLGVBQUEzUyxHQUFBc1MsR0FBQSxNQUNPQyxRQUtQSixFQUFPOUssVUFBQSxDQUNQcEssR0FBTStVLEVBQUkzSyxVQUFBcEssR0FDVnNNLE1BQVNqQyxFQUFBdFMsRUFBU2tULEtBQ2xCdUUsT0FBVW5GLEVBQUF0UyxFQUFTa1QsS0FDbkIxSixTQUFZOEksRUFBQXRTLEVBQVNiLE9BQ3JCd1YsZ0JBQW1CckMsRUFBQXRTLEVBQVNpVCxPQUM1QnVCLFVBQWFsQyxFQUFBdFMsRUFBU2lULE9BQ3RCbUssWUFBZTlLLEVBQUF0UyxFQUFTYixPQUN4QjhFLE1BQVNxTyxFQUFBdFMsRUFBU2IsT0FDbEI2TCxTQUFZc0gsRUFBQXRTLEVBQVNtVCxLQUNyQndLLGVBQWtCckwsRUFBQXRTLEVBQVN5YixNQUFBLGtEQUczQjBCLEVBQU9KLGFBQUEsQ0FDUHBJLGdCQUFBLFNBQ0FnSixlQUFBLFFBR2VqTyxFQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcblxuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHR9O1xuXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQzOiAwXG4gXHR9O1xuXG5cblxuIFx0Ly8gc2NyaXB0IHBhdGggZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIGpzb25wU2NyaXB0U3JjKGNodW5rSWQpIHtcbiBcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyAoe31bY2h1bmtJZF18fGNodW5rSWQpICsgXCIuXCIgKyB7XCIwXCI6XCI1ODZhMjYyZmNhM2NjZWI3Y2NmYlwiLFwiMVwiOlwiOTlhNGM4MWM1MjUxZDVhNzg3ODNcIixcIjJcIjpcImRjOTdkZGI3Y2FhMzE1ODBhNzk0XCIsXCI0XCI6XCJiNjBlMjgxZWJiZTMzYmM0MTMwN1wiLFwiNVwiOlwiN2FhM2Q3NGI2NzYwZDhlMmIwMDlcIixcIjZcIjpcIjc3NThkNTEzNGI1NTlhNmRhYzY2XCIsXCI3XCI6XCI5ZGM4MWU1NTU5Mzc2MDcwY2Y5MlwiLFwiOFwiOlwiN2JiZTU3Y2VhMzFmN2E3ODk1NTdcIixcIjlcIjpcImQyOGY0OTg5MjYwZGIzZDE0NDYyXCIsXCIxMFwiOlwiYjBiNGFmMWJhZjQ4MTNlMDcxNjRcIixcIjExXCI6XCJiYzAzNTYwMzQxZGE1N2Y1OGJmNFwiLFwiMTJcIjpcIjI5NDFiNDNhYzFhZmI3Yjk3MmMzXCIsXCIxM1wiOlwiZWIyZmMzMmQ3ZjhkOGYxMjM2ZjhcIn1bY2h1bmtJZF0gKyBcIi5qc1wiXG4gXHR9XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuIFx0Ly8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuIFx0Ly8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSBmdW5jdGlvbiByZXF1aXJlRW5zdXJlKGNodW5rSWQpIHtcbiBcdFx0dmFyIHByb21pc2VzID0gW107XG5cblxuIFx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cbiBcdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuXG4gXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cbiBcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcbiBcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdKTtcbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuIFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF07XG4gXHRcdFx0XHR9KTtcbiBcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdID0gcHJvbWlzZSk7XG5cbiBcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcbiBcdFx0XHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiBcdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiBcdFx0XHRcdHZhciBvblNjcmlwdENvbXBsZXRlO1xuXG4gXHRcdFx0XHRzY3JpcHQuY2hhcnNldCA9ICd1dGYtOCc7XG4gXHRcdFx0XHRzY3JpcHQudGltZW91dCA9IDEyMDtcbiBcdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG4gXHRcdFx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHNjcmlwdC5zcmMgPSBqc29ucFNjcmlwdFNyYyhjaHVua0lkKTtcblxuIFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0XHRcdGlmKGNodW5rKSB7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbiBcdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcignTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKScpO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IudHlwZSA9IGVycm9yVHlwZTtcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuIFx0XHRcdFx0XHRcdFx0Y2h1bmtbMV0oZXJyb3IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH07XG4gXHRcdFx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiBcdFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSh7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSk7XG4gXHRcdFx0XHR9LCAxMjAwMDApO1xuIFx0XHRcdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZTtcbiBcdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiBcdH07XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcblxuIFx0Ly8gb24gZXJyb3IgZnVuY3Rpb24gZm9yIGFzeW5jIGxvYWRpbmdcbiBcdF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XG4gICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG4gICAgfVxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcbiAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoKHgpIHt9XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIF9fREVWX18gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChfX0RFVl9fKSB7XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9XG5cbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHByaW50V2FybmluZy5hcHBseShudWxsLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsImZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aG5hbWUpIHtcbiAgcmV0dXJuIHBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfVxuXG4gIGxpc3QucG9wKCk7XG59XG5cbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgYmFzZWQgaGVhdmlseSBvbiBub2RlJ3MgdXJsLnBhcnNlXG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVBhdGhuYW1lOyIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gdmFsdWVFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChpdGVtLCBiW2luZGV4XSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgYVR5cGUgPSB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSk7XG4gIHZhciBiVHlwZSA9IHR5cGVvZiBiID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihiKTtcblxuICBpZiAoYVR5cGUgIT09IGJUeXBlKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGFUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhVmFsdWUgPSBhLnZhbHVlT2YoKTtcbiAgICB2YXIgYlZhbHVlID0gYi52YWx1ZU9mKCk7XG5cbiAgICBpZiAoYVZhbHVlICE9PSBhIHx8IGJWYWx1ZSAhPT0gYikgcmV0dXJuIHZhbHVlRXF1YWwoYVZhbHVlLCBiVmFsdWUpO1xuXG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG5cbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbHVlRXF1YWw7IiwiZXhwb3J0IHZhciBhZGRMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59O1xuXG5leHBvcnQgdmFyIGhhc0Jhc2VuYW1lID0gZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn07XG5cbmV4cG9ydCB2YXIgc3RyaXBCYXNlbmFtZSA9IGZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBzdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxuZXhwb3J0IHZhciBwYXJzZVBhdGggPSBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBwYXRoIHx8ICcvJztcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cihoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgY3JlYXRlUGF0aCA9IGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuXG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59OyIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgeyBwYXJzZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7XG5cbmV4cG9ydCB2YXIgY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxuZXhwb3J0IHZhciBsb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiB2YWx1ZUVxdWFsKGEuc3RhdGUsIGIuc3RhdGUpO1xufTsiLCJpbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcblxudmFyIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKSB7XG4gIHZhciBwcm9tcHQgPSBudWxsO1xuXG4gIHZhciBzZXRQcm9tcHQgPSBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xuICAgIHdhcm5pbmcocHJvbXB0ID09IG51bGwsICdBIGhpc3Rvcnkgc3VwcG9ydHMgb25seSBvbmUgcHJvbXB0IGF0IGEgdGltZScpO1xuXG4gICAgcHJvbXB0ID0gbmV4dFByb21wdDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvbXB0ID09PSBuZXh0UHJvbXB0KSBwcm9tcHQgPSBudWxsO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNvbmZpcm1UcmFuc2l0aW9uVG8gPSBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETzogSWYgYW5vdGhlciB0cmFuc2l0aW9uIHN0YXJ0cyB3aGlsZSB3ZSdyZSBzdGlsbCBjb25maXJtaW5nXG4gICAgLy8gdGhlIHByZXZpb3VzIG9uZSwgd2UgbWF5IGVuZCB1cCBpbiBhIHdlaXJkIHN0YXRlLiBGaWd1cmUgb3V0IHRoZVxuICAgIC8vIGJlc3Qgd2F5IHRvIGhhbmRsZSB0aGlzLlxuICAgIGlmIChwcm9tcHQgIT0gbnVsbCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHR5cGVvZiBwcm9tcHQgPT09ICdmdW5jdGlvbicgPyBwcm9tcHQobG9jYXRpb24sIGFjdGlvbikgOiBwcm9tcHQ7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGdldFVzZXJDb25maXJtYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKHJlc3VsdCwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdBIGhpc3RvcnkgbmVlZHMgYSBnZXRVc2VyQ29uZmlybWF0aW9uIGZ1bmN0aW9uIGluIG9yZGVyIHRvIHVzZSBhIHByb21wdCBtZXNzYWdlJyk7XG5cbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGZyb20gYSB0cmFuc2l0aW9uIGhvb2sgdG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLlxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICB2YXIgYXBwZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBhcHBlbmRMaXN0ZW5lcihmbikge1xuICAgIHZhciBpc0FjdGl2ZSA9IHRydWU7XG5cbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgICAgIGlmIChpc0FjdGl2ZSkgZm4uYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbm90aWZ5TGlzdGVuZXJzID0gZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcbiAgICBjb25maXJtVHJhbnNpdGlvblRvOiBjb25maXJtVHJhbnNpdGlvblRvLFxuICAgIGFwcGVuZExpc3RlbmVyOiBhcHBlbmRMaXN0ZW5lcixcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXI7IiwiZXhwb3J0IHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5leHBvcnQgdmFyIGFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5hZGRFdmVudExpc3RlbmVyID8gbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbmV4cG9ydCB2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxuZXhwb3J0IHZhciBnZXRDb25maXJtYXRpb24gPSBmdW5jdGlvbiBnZXRDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcbn07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuZXhwb3J0IHZhciBzdXBwb3J0c0hpc3RvcnkgPSBmdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xuZXhwb3J0IHZhciBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlID0gZnVuY3Rpb24gc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqL1xuZXhwb3J0IHZhciBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZ2l2ZW4gcG9wc3RhdGUgZXZlbnQgaXMgYW4gZXh0cmFuZW91cyBXZWJLaXQgZXZlbnQuXG4gKiBBY2NvdW50cyBmb3IgdGhlIGZhY3QgdGhhdCBDaHJvbWUgb24gaU9TIGZpcmVzIHJlYWwgcG9wc3RhdGUgZXZlbnRzXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cbiAqL1xuZXhwb3J0IHZhciBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufTsiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYXRpb24gfSBmcm9tICcuL0xvY2F0aW9uVXRpbHMnO1xuaW1wb3J0IHsgYWRkTGVhZGluZ1NsYXNoLCBzdHJpcFRyYWlsaW5nU2xhc2gsIGhhc0Jhc2VuYW1lLCBzdHJpcEJhc2VuYW1lLCBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgY2FuVXNlRE9NLCBhZGRFdmVudExpc3RlbmVyLCByZW1vdmVFdmVudExpc3RlbmVyLCBnZXRDb25maXJtYXRpb24sIHN1cHBvcnRzSGlzdG9yeSwgc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSwgaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCB9IGZyb20gJy4vRE9NVXRpbHMnO1xuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgZ2V0SGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG52YXIgY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICBpbnZhcmlhbnQoY2FuVXNlRE9NLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJyk7XG5cbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSBzdXBwb3J0c0hpc3RvcnkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gIXN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKTtcblxuICB2YXIgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IHByb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IHByb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB1bmRlZmluZWQgPyBnZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG5cbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICB2YXIgZ2V0RE9NTG9jYXRpb24gPSBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuXG5cbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcblxuICAgIHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJyk7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSBzdHJpcEJhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKTtcblxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlUG9wU3RhdGUgPSBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpKSByZXR1cm47XG5cbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlSGFzaENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIHZhciBoYW5kbGVQb3AgPSBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcblxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmV2ZXJ0UG9wID0gZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgIC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuXG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgdmFyIG5leHRLZXlzID0gYWxsS2V5cy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuXG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24gZ28obikge1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICB2YXIgY2hlY2tET01MaXN0ZW5lcnMgPSBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICB2YXIgYmxvY2sgPSBmdW5jdGlvbiBibG9jaygpIHtcbiAgICB2YXIgcHJvbXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVCcm93c2VySGlzdG9yeTsiLCJ2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCB7IGNyZWF0ZUxvY2F0aW9uLCBsb2NhdGlvbnNBcmVFcXVhbCB9IGZyb20gJy4vTG9jYXRpb25VdGlscyc7XG5pbXBvcnQgeyBhZGRMZWFkaW5nU2xhc2gsIHN0cmlwTGVhZGluZ1NsYXNoLCBzdHJpcFRyYWlsaW5nU2xhc2gsIGhhc0Jhc2VuYW1lLCBzdHJpcEJhc2VuYW1lLCBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgY2FuVXNlRE9NLCBhZGRFdmVudExpc3RlbmVyLCByZW1vdmVFdmVudExpc3RlbmVyLCBnZXRDb25maXJtYXRpb24sIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoIH0gZnJvbSAnLi9ET01VdGlscyc7XG5cbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XG5cbnZhciBIYXNoUGF0aENvZGVycyA9IHtcbiAgaGFzaGJhbmc6IHtcbiAgICBlbmNvZGVQYXRoOiBmdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aCA6ICchLycgKyBzdHJpcExlYWRpbmdTbGFzaChwYXRoKTtcbiAgICB9LFxuICAgIGRlY29kZVBhdGg6IGZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG4gICAgfVxuICB9LFxuICBub3NsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogc3RyaXBMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH0sXG4gIHNsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9XG59O1xuXG52YXIgZ2V0SGFzaFBhdGggPSBmdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxuICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuICB2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICB2YXIgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBoYXNoSW5kZXggPT09IC0xID8gJycgOiBocmVmLnN1YnN0cmluZyhoYXNoSW5kZXggKyAxKTtcbn07XG5cbnZhciBwdXNoSGFzaFBhdGggPSBmdW5jdGlvbiBwdXNoSGFzaFBhdGgocGF0aCkge1xuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xufTtcblxudmFyIHJlcGxhY2VIYXNoUGF0aCA9IGZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHZhciBoYXNoSW5kZXggPSB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJyk7XG5cbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2UoMCwgaGFzaEluZGV4ID49IDAgPyBoYXNoSW5kZXggOiAwKSArICcjJyArIHBhdGgpO1xufTtcblxudmFyIGNyZWF0ZUhhc2hIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgaW52YXJpYW50KGNhblVzZURPTSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Hb1dpdGhvdXRSZWxvYWQgPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xuXG4gIHZhciBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGhhc2hUeXBlID0gcHJvcHMuaGFzaFR5cGUsXG4gICAgICBoYXNoVHlwZSA9IF9wcm9wcyRoYXNoVHlwZSA9PT0gdW5kZWZpbmVkID8gJ3NsYXNoJyA6IF9wcm9wcyRoYXNoVHlwZTtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIHZhciBfSGFzaFBhdGhDb2RlcnMkaGFzaFQgPSBIYXNoUGF0aENvZGVyc1toYXNoVHlwZV0sXG4gICAgICBlbmNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmVuY29kZVBhdGgsXG4gICAgICBkZWNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmRlY29kZVBhdGg7XG5cblxuICB2YXIgZ2V0RE9NTG9jYXRpb24gPSBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbigpIHtcbiAgICB2YXIgcGF0aCA9IGRlY29kZVBhdGgoZ2V0SGFzaFBhdGgoKSk7XG5cbiAgICB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG5cbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24ocGF0aCk7XG4gIH07XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICB2YXIgaWdub3JlUGF0aCA9IG51bGw7XG5cbiAgdmFyIGhhbmRsZUhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuXG4gICAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSB7XG4gICAgICAvLyBFbnN1cmUgd2UgYWx3YXlzIGhhdmUgYSBwcm9wZXJseS1lbmNvZGVkIGhhc2guXG4gICAgICByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICAgICAgdmFyIHByZXZMb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG5cbiAgICAgIGlmICghZm9yY2VOZXh0UG9wICYmIGxvY2F0aW9uc0FyZUVxdWFsKHByZXZMb2NhdGlvbiwgbG9jYXRpb24pKSByZXR1cm47IC8vIEEgaGFzaGNoYW5nZSBkb2Vzbid0IGFsd2F5cyA9PSBsb2NhdGlvbiBjaGFuZ2UuXG5cbiAgICAgIGlmIChpZ25vcmVQYXRoID09PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBJZ25vcmUgdGhpcyBjaGFuZ2U7IHdlIGFscmVhZHkgc2V0U3RhdGUgaW4gcHVzaC9yZXBsYWNlLlxuXG4gICAgICBpZ25vcmVQYXRoID0gbnVsbDtcblxuICAgICAgaGFuZGxlUG9wKGxvY2F0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBwYXRocyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBwYXRocyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKHRvTG9jYXRpb24pKTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChmcm9tTG9jYXRpb24pKTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRW5zdXJlIHRoZSBoYXNoIGlzIGVuY29kZWQgcHJvcGVybHkgYmVmb3JlIGRvaW5nIGFueXRoaW5nIGVsc2UuXG4gIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcblxuICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gIHZhciBhbGxQYXRocyA9IFtjcmVhdGVQYXRoKGluaXRpYWxMb2NhdGlvbildO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gJyMnICsgZW5jb2RlUGF0aChiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pKTtcbiAgfTtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBQVVNILCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICBwdXNoSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuXG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGhpc3RvcnkubG9jYXRpb24pKTtcbiAgICAgICAgdmFyIG5leHRQYXRocyA9IGFsbFBhdGhzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgbmV4dFBhdGhzLnB1c2gocGF0aCk7XG4gICAgICAgIGFsbFBhdGhzID0gbmV4dFBhdGhzO1xuXG4gICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdIYXNoIGhpc3RvcnkgY2Fubm90IFBVU0ggdGhlIHNhbWUgcGF0aDsgYSBuZXcgZW50cnkgd2lsbCBub3QgYmUgYWRkZWQgdG8gdGhlIGhpc3Rvcnkgc3RhY2snKTtcblxuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFJFUExBQ0UsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5pbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuXG4gICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsUGF0aHNbcHJldkluZGV4XSA9IHBhdGg7XG5cbiAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgd2FybmluZyhjYW5Hb1dpdGhvdXRSZWxvYWQsICdIYXNoIGhpc3RvcnkgZ28obikgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZCBpbiB0aGlzIGJyb3dzZXInKTtcblxuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICB2YXIgY2hlY2tET01MaXN0ZW5lcnMgPSBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUhhc2hIaXN0b3J5OyIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5pbXBvcnQgeyBjcmVhdGVQYXRoIH0gZnJvbSAnLi9QYXRoVXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYXRpb24gfSBmcm9tICcuL0xvY2F0aW9uVXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInO1xuXG52YXIgY2xhbXAgPSBmdW5jdGlvbiBjbGFtcChuLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCBsb3dlckJvdW5kKSwgdXBwZXJCb3VuZCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHN0b3JlcyBsb2NhdGlvbnMgaW4gbWVtb3J5LlxuICovXG52YXIgY3JlYXRlTWVtb3J5SGlzdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBnZXRVc2VyQ29uZmlybWF0aW9uID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIF9wcm9wcyRpbml0aWFsRW50cmllcyA9IHByb3BzLmluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPT09IHVuZGVmaW5lZCA/IFsnLyddIDogX3Byb3BzJGluaXRpYWxFbnRyaWVzLFxuICAgICAgX3Byb3BzJGluaXRpYWxJbmRleCA9IHByb3BzLmluaXRpYWxJbmRleCxcbiAgICAgIGluaXRpYWxJbmRleCA9IF9wcm9wcyRpbml0aWFsSW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBfcHJvcHMkaW5pdGlhbEluZGV4LFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IHByb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHVuZGVmaW5lZCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuXG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgaW5kZXggPSBjbGFtcChpbml0aWFsSW5kZXgsIDAsIGluaXRpYWxFbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB2YXIgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJyA/IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGNyZWF0ZUtleSgpKSA6IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGVudHJ5LmtleSB8fCBjcmVhdGVLZXkoKSk7XG4gIH0pO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGNyZWF0ZVBhdGg7XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgd2FybmluZyghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIHByZXZJbmRleCA9IGhpc3RvcnkuaW5kZXg7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gcHJldkluZGV4ICsgMTtcblxuICAgICAgdmFyIG5leHRFbnRyaWVzID0gaGlzdG9yeS5lbnRyaWVzLnNsaWNlKDApO1xuICAgICAgaWYgKG5leHRFbnRyaWVzLmxlbmd0aCA+IG5leHRJbmRleCkge1xuICAgICAgICBuZXh0RW50cmllcy5zcGxpY2UobmV4dEluZGV4LCBuZXh0RW50cmllcy5sZW5ndGggLSBuZXh0SW5kZXgsIGxvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnB1c2gobG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGVudHJpZXM6IG5leHRFbnRyaWVzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICB3YXJuaW5nKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICBoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5pbmRleF0gPSBsb2NhdGlvbjtcblxuICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gY2xhbXAoaGlzdG9yeS5pbmRleCArIG4sIDAsIGhpc3RvcnkuZW50cmllcy5sZW5ndGggLSAxKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICB2YXIgbG9jYXRpb24gPSBoaXN0b3J5LmVudHJpZXNbbmV4dEluZGV4XTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAob2spIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBpbmRleDogbmV4dEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWltaWMgdGhlIGJlaGF2aW9yIG9mIERPTSBoaXN0b3JpZXMgYnlcbiAgICAgICAgLy8gY2F1c2luZyBhIHJlbmRlciBhZnRlciBhIGNhbmNlbGxlZCBQT1AuXG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBjYW5HbyA9IGZ1bmN0aW9uIGNhbkdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gaGlzdG9yeS5pbmRleCArIG47XG4gICAgcmV0dXJuIG5leHRJbmRleCA+PSAwICYmIG5leHRJbmRleCA8IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG4gIH07XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZW50cmllcy5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogZW50cmllc1tpbmRleF0sXG4gICAgaW5kZXg6IGluZGV4LFxuICAgIGVudHJpZXM6IGVudHJpZXMsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNhbkdvOiBjYW5HbyxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU1lbW9yeUhpc3Rvcnk7IiwiaW1wb3J0IF9jcmVhdGVCcm93c2VySGlzdG9yeSBmcm9tICcuL2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcbmV4cG9ydCB7IF9jcmVhdGVCcm93c2VySGlzdG9yeSBhcyBjcmVhdGVCcm93c2VySGlzdG9yeSB9O1xuaW1wb3J0IF9jcmVhdGVIYXNoSGlzdG9yeSBmcm9tICcuL2NyZWF0ZUhhc2hIaXN0b3J5JztcbmV4cG9ydCB7IF9jcmVhdGVIYXNoSGlzdG9yeSBhcyBjcmVhdGVIYXNoSGlzdG9yeSB9O1xuaW1wb3J0IF9jcmVhdGVNZW1vcnlIaXN0b3J5IGZyb20gJy4vY3JlYXRlTWVtb3J5SGlzdG9yeSc7XG5leHBvcnQgeyBfY3JlYXRlTWVtb3J5SGlzdG9yeSBhcyBjcmVhdGVNZW1vcnlIaXN0b3J5IH07XG5cbmV4cG9ydCB7IGNyZWF0ZUxvY2F0aW9uLCBsb2NhdGlvbnNBcmVFcXVhbCB9IGZyb20gJy4vTG9jYXRpb25VdGlscyc7XG5leHBvcnQgeyBwYXJzZVBhdGgsIGNyZWF0ZVBhdGggfSBmcm9tICcuL1BhdGhVdGlscyc7IiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5pbXBvcnQgd2FybmluZyBmcm9tIFwid2FybmluZ1wiO1xuaW1wb3J0IGludmFyaWFudCBmcm9tIFwiaW52YXJpYW50XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIHB1dHRpbmcgaGlzdG9yeSBvbiBjb250ZXh0LlxuICovXG5cbnZhciBSb3V0ZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSb3V0ZXIoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3V0ZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgbWF0Y2g6IF90aGlzLmNvbXB1dGVNYXRjaChfdGhpcy5wcm9wcy5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lKVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgUm91dGVyLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdXRlcjogX2V4dGVuZHMoe30sIHRoaXMuY29udGV4dC5yb3V0ZXIsIHtcbiAgICAgICAgaGlzdG9yeTogdGhpcy5wcm9wcy5oaXN0b3J5LFxuICAgICAgICByb3V0ZToge1xuICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnByb3BzLmhpc3RvcnkubG9jYXRpb24sXG4gICAgICAgICAgbWF0Y2g6IHRoaXMuc3RhdGUubWF0Y2hcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9O1xuICB9O1xuXG4gIFJvdXRlci5wcm90b3R5cGUuY29tcHV0ZU1hdGNoID0gZnVuY3Rpb24gY29tcHV0ZU1hdGNoKHBhdGhuYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgdXJsOiBcIi9cIixcbiAgICAgIHBhcmFtczoge30sXG4gICAgICBpc0V4YWN0OiBwYXRobmFtZSA9PT0gXCIvXCJcbiAgICB9O1xuICB9O1xuXG4gIFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICBoaXN0b3J5ID0gX3Byb3BzLmhpc3Rvcnk7XG5cblxuICAgIGludmFyaWFudChjaGlsZHJlbiA9PSBudWxsIHx8IFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSA9PT0gMSwgXCJBIDxSb3V0ZXI+IG1heSBoYXZlIG9ubHkgb25lIGNoaWxkIGVsZW1lbnRcIik7XG5cbiAgICAvLyBEbyB0aGlzIGhlcmUgc28gd2UgY2FuIHNldFN0YXRlIHdoZW4gYSA8UmVkaXJlY3Q+IGNoYW5nZXMgdGhlXG4gICAgLy8gbG9jYXRpb24gaW4gY29tcG9uZW50V2lsbE1vdW50LiBUaGlzIGhhcHBlbnMgZS5nLiB3aGVuIGRvaW5nXG4gICAgLy8gc2VydmVyIHJlbmRlcmluZyB1c2luZyBhIDxTdGF0aWNSb3V0ZXI+LlxuICAgIHRoaXMudW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICBtYXRjaDogX3RoaXMyLmNvbXB1dGVNYXRjaChoaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB3YXJuaW5nKHRoaXMucHJvcHMuaGlzdG9yeSA9PT0gbmV4dFByb3BzLmhpc3RvcnksIFwiWW91IGNhbm5vdCBjaGFuZ2UgPFJvdXRlciBoaXN0b3J5PlwiKTtcbiAgfTtcblxuICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy51bmxpc3RlbigpO1xuICB9O1xuXG4gIFJvdXRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICByZXR1cm4gY2hpbGRyZW4gPyBSZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSA6IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFJvdXRlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUm91dGVyLnByb3BUeXBlcyA9IHtcbiAgaGlzdG9yeTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGVcbn07XG5Sb3V0ZXIuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5Sb3V0ZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlcjsiLCIvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0c1xuaW1wb3J0IFJvdXRlciBmcm9tIFwicmVhY3Qtcm91dGVyL2VzL1JvdXRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXI7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5pbXBvcnQgd2FybmluZyBmcm9tIFwid2FybmluZ1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3Nlckhpc3RvcnkgYXMgY3JlYXRlSGlzdG9yeSB9IGZyb20gXCJoaXN0b3J5XCI7XG5pbXBvcnQgUm91dGVyIGZyb20gXCIuL1JvdXRlclwiO1xuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBhIDxSb3V0ZXI+IHRoYXQgdXNlcyBIVE1MNSBoaXN0b3J5LlxuICovXG5cbnZhciBCcm93c2VyUm91dGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEJyb3dzZXJSb3V0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEJyb3dzZXJSb3V0ZXIoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcm93c2VyUm91dGVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShfdGhpcy5wcm9wcyksIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgQnJvd3NlclJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHdhcm5pbmcoIXRoaXMucHJvcHMuaGlzdG9yeSwgXCI8QnJvd3NlclJvdXRlcj4gaWdub3JlcyB0aGUgaGlzdG9yeSBwcm9wLiBUbyB1c2UgYSBjdXN0b20gaGlzdG9yeSwgXCIgKyBcInVzZSBgaW1wb3J0IHsgUm91dGVyIH1gIGluc3RlYWQgb2YgYGltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyIH1gLlwiKTtcbiAgfTtcblxuICBCcm93c2VyUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVyLCB7IGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSwgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW4gfSk7XG4gIH07XG5cbiAgcmV0dXJuIEJyb3dzZXJSb3V0ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkJyb3dzZXJSb3V0ZXIucHJvcFR5cGVzID0ge1xuICBiYXNlbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgZm9yY2VSZWZyZXNoOiBQcm9wVHlwZXMuYm9vbCxcbiAgZ2V0VXNlckNvbmZpcm1hdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gIGtleUxlbmd0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IEJyb3dzZXJSb3V0ZXI7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGxhenksIFN1c3BlbnNlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIsIE5hdkxpbmssIFJvdXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCAnLi4vc3R5bGVzL2ZsdWVudC1mb3ItZHluYW1pY3MuY3NzJztcclxuaW1wb3J0ICcuL2ludGVyYWN0aW9uLWxhYi5jc3MnO1xyXG5cclxuY29uc3QgRGVtb0Jyb3dzZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9kZW1vLWJyb3dzZXInKSk7XHJcblxyXG5leHBvcnQgY29uc3QgZGVtb3MgPSBbXHJcbiAgeyB0eXBlOiAnc3R5bGUnLCBuYW1lOiAnQ29sb3InLCByb3V0ZTogJy9kZW1vcy9jb2xvcicsIGNvbXBvbmVudDogbGF6eSgoKSA9PiBpbXBvcnQoJy4uL3N0eWxlcy9jb2xvci9jb2xvci5kZW1vJykpfSxcclxuICB7IHR5cGU6ICdzdHlsZScsIG5hbWU6ICdEZXB0aCcsIHJvdXRlOiAnL2RlbW9zL2RlcHRoJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vc3R5bGVzL2RlcHRoL2RlcHRoLmRlbW8nKSl9LFxyXG4gIHsgdHlwZTogJ3N0eWxlJywgbmFtZTogJ0ljb24nLCByb3V0ZTogJy9kZW1vcy9pY29uJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vc3R5bGVzL2ljb24vaWNvbi5kZW1vJykpfSxcclxuICB7IHR5cGU6ICdzdHlsZScsIG5hbWU6ICdUeXBvZ3JhcGh5Jywgcm91dGU6ICcvZGVtb3MvdHlwb2dyYXBoeScsIGNvbXBvbmVudDogbGF6eSgoKSA9PiBpbXBvcnQoJy4uL3N0eWxlcy90eXBvZ3JhcGh5L3R5cG9ncmFwaHkuZGVtbycpKX0sXHJcbiAgeyB0eXBlOiAnY29tcG9uZW50JywgbmFtZTogJ0FwcCBzaGVsbCcsIHJvdXRlOiAnL2RlbW9zL2FwcC1zaGVsbCcsIGNvbXBvbmVudDogbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvYXBwLXNoZWxsL2FwcC1zaGVsbC5kZW1vJykpfSxcclxuICB7IHR5cGU6ICdjb21wb25lbnQnLCBuYW1lOiAnQnV0dG9uJywgcm91dGU6ICcvZGVtb3MvYnV0dG9uJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9idXR0b24vYnV0dG9uLmRlbW8nKSl9LFxyXG4gIHsgdHlwZTogJ2NvbXBvbmVudCcsIG5hbWU6ICdGb3JtIGhlYWRlcicsIHJvdXRlOiAnL2RlbW9zL2Zvcm0taGVhZGVyJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9mb3JtLWhlYWRlci9mb3JtLWhlYWRlci5kZW1vJykpfSxcclxuICB7IHR5cGU6ICdjb21wb25lbnQnLCBuYW1lOiAnVGV4dCBmaWVsZCcsIHJvdXRlOiAnL2RlbW9zL3RleHQtZmllbGQnLCBjb21wb25lbnQ6IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL3RleHQtZmllbGQvdGV4dC1maWVsZC5kZW1vJykpfSxcclxuICB7IHR5cGU6ICdjb21wb25lbnQnLCBuYW1lOiAnVG9nZ2xlJywgcm91dGU6ICcvZGVtb3MvdG9nZ2xlJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy90b2dnbGUvdG9nZ2xlLmRlbW8nKSl9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRzID0gW1xyXG4gIHsgc2VyaWVzOiAnbWFya292LWNoYWluJywgYmFzZVJvdXRlOiAnL2V4cGVyaW1lbnRzL21hcmtvdi1jaGFpbicsIGRlc2NyaXB0aW9uOiAnQnVzaW5lc3MgcHJvY2VzcyBmbG93IGltcHJvdmVtZW50cycsIHN0YXJ0ZWQ6ICcyMDE4LTEyLTA1JywgaXRlcmF0aW9uczogW1xyXG4gICAgeyBzdWJSb3V0ZTogJ2FscGhhJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vZXhwZXJpbWVudHMvbWFya292LWNoYWluL2FscGhhLmV4cCcpKX0sXHJcbiAgICB7IHN1YlJvdXRlOiAnYnJhdm8nLCBjb21wb25lbnQ6IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9leHBlcmltZW50cy9tYXJrb3YtY2hhaW4vYnJhdm8uZXhwJykpfSxcclxuICBdfSxcclxuICB7IHNlcmllczogJ25vdmEtc2NvdGlhJywgYmFzZVJvdXRlOiAnL2V4cGVyaW1lbnRzL25vdmEtc2NvdGlhJywgZGVzY3JpcHRpb246ICdBcHAgc2hlbGwgb3ZlcmZsb3cgc3R1ZGllcycsIHN0YXJ0ZWQ6ICcyMDE4LTExLTAxJywgaXRlcmF0aW9uczogW1xyXG4gICAgeyBzdWJSb3V0ZTogJ2FscGhhJywgY29tcG9uZW50OiBsYXp5KCgpID0+IGltcG9ydCgnLi4vZXhwZXJpbWVudHMvbWFya292LWNoYWluL2FscGhhLmV4cCcpKX0sXHJcbiAgICB7IHN1YlJvdXRlOiAnYnJhdm8nLCBjb21wb25lbnQ6IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9leHBlcmltZW50cy9tYXJrb3YtY2hhaW4vYnJhdm8uZXhwJykpfSxcclxuICBdfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+IHtcclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gPEJyb3dzZXJSb3V0ZXI+XHJcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9XCIvXCIgY29tcG9uZW50PXsoKSA9PiA8bWFpbj5cclxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImxhYi1oMVwiPkR5bmFtaWNzIEludGVyYWN0aW9uIExhYjwvaDE+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGFiLXM1MFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibGFiLWgyXCI+RGVtb3M8L2gyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYi1zNTBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwibGFiLXNlY3Rpb25cIj5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSdsYWItaDMnPlN0eWxlczwvaDM+e2RlbW9zLmZpbHRlcihkZW1vID0+IGRlbW8udHlwZT09PVwic3R5bGVcIikubWFwKGRlbW8gPT4gPE5hdkxpbmsga2V5PXtkZW1vLnJvdXRlfSBjbGFzc05hbWU9XCJsYWItbGluayBsYWItbGluay0taG9yaXpvbnRhbC1saXN0XCIgYWN0aXZlQ2xhc3NOYW1lPVwibGFiLWxpbmstLWFjdGl2ZVwiIHRvPXtkZW1vLnJvdXRlfT57ZGVtby5uYW1lfTwvTmF2TGluaz4pfVxyXG4gICAgICAgICAgICAgIDxici8+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0nbGFiLWgzJz5Db21wb25lbnRzPC9oMz57ZGVtb3MuZmlsdGVyKGRlbW8gPT4gZGVtby50eXBlPT09XCJjb21wb25lbnRcIikubWFwKGRlbW8gPT4gPE5hdkxpbmsga2V5PXtkZW1vLnJvdXRlfSBjbGFzc05hbWU9XCJsYWItbGluayBsYWItbGluay0taG9yaXpvbnRhbC1saXN0XCIgYWN0aXZlQ2xhc3NOYW1lPVwibGFiLWxpbmstLWFjdGl2ZVwiIHRvPXtkZW1vLnJvdXRlfT57ZGVtby5uYW1lfTwvTmF2TGluaz4pfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGFiLXMxMDBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibGFiLWgyXCI+RXhwZXJpbWVudHM8L2gyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYi1zNTBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwibGFiLXNlY3Rpb25cIj5cclxuICAgICAgICAgICAge2V4cGVyaW1lbnRzLm1hcChleHBlcmltZW50ID0+IDxkaXYgdGl0bGU9e2Ake2V4cGVyaW1lbnQuc3RhcnRlZH06ICR7ZXhwZXJpbWVudC5kZXNjcmlwdGlvbn1gfSBrZXk9e2V4cGVyaW1lbnQuc2VyaWVzfT5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSdsYWItaDMnPntleHBlcmltZW50LnNlcmllc308L2gzPlxyXG4gICAgICAgICAgICAgIHtleHBlcmltZW50Lml0ZXJhdGlvbnMubWFwKGl0ZXJhdGlvbiA9PiA8TmF2TGluayB0YXJnZXQ9XCJfYmxhbmtcIiBrZXk9e2l0ZXJhdGlvbi5zdWJSb3V0ZX0gY2xhc3NOYW1lPVwibGFiLWxpbmsgbGFiLWxpbmstLWhvcml6b250YWwtbGlzdFwiIGFjdGl2ZUNsYXNzTmFtZT1cImxhYi1saW5rLS1hY3RpdmVcIiB0bz17YCR7ZXhwZXJpbWVudC5iYXNlUm91dGV9LyR7aXRlcmF0aW9uLnN1YlJvdXRlfWB9PntpdGVyYXRpb24uc3ViUm91dGV9PC9OYXZMaW5rPil9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvc2VjdGlvbj5cclxuICAgICAgICAgIDwvbWFpbj59Lz5cclxuICAgICAgICAgIDxSb3V0ZSBwYXRoPVwiL2RlbW9zXCIgY29tcG9uZW50PXsoKSA9PiA8U3VzcGVuc2UgZmFsbGJhY2s9XCJsb2FkaW5nLi4uXCI+PERlbW9Ccm93c2VyLz48L1N1c3BlbnNlPn0vPlxyXG4gICAgICAgICAge2V4cGVyaW1lbnRzLm1hcChleHBlcmltZW50ID0+IGV4cGVyaW1lbnQuaXRlcmF0aW9ucy5tYXAoaXRlcmF0aW9uID0+IDxSb3V0ZSBrZXk9e2l0ZXJhdGlvbi5zdWJSb3V0ZX0gcGF0aD17YCR7ZXhwZXJpbWVudC5iYXNlUm91dGV9LyR7aXRlcmF0aW9uLnN1YlJvdXRlfWB9IGNvbXBvbmVudD17KCkgPT4gPFN1c3BlbnNlIGZhbGxiYWNrPVwibG9hZGluZy4uLlwiPjxpdGVyYXRpb24uY29tcG9uZW50Lz48L1N1c3BlbnNlPn0+PC9Sb3V0ZT4pKX1cclxuICAgICAgICAgIHtkZW1vcy5tYXAoZGVtbyA9PiA8Um91dGUga2V5PXtkZW1vLnJvdXRlfSBwYXRoPXtgL2VtYmVkJHtkZW1vLnJvdXRlfWB9IGNvbXBvbmVudD17KCkgPT4gPFN1c3BlbnNlIGZhbGxiYWNrPVwibG9hZGluZy4uLlwiPjxkZW1vLmNvbXBvbmVudC8+PC9TdXNwZW5zZT59PjwvUm91dGU+KX1cclxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgPC9Ccm93c2VyUm91dGVyPlxyXG4gIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007IiwidmFyIGlzYXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuLyoqXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gcGF0aFRvUmVnZXhwXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhcnNlXG5tb2R1bGUuZXhwb3J0cy5jb21waWxlID0gY29tcGlsZVxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9GdW5jdGlvbiA9IHRva2Vuc1RvRnVuY3Rpb25cbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvUmVnRXhwID0gdG9rZW5zVG9SZWdFeHBcblxuLyoqXG4gKiBUaGUgbWFpbiBwYXRoIG1hdGNoaW5nIHJlZ2V4cCB1dGlsaXR5LlxuICpcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbnZhciBQQVRIX1JFR0VYUCA9IG5ldyBSZWdFeHAoW1xuICAvLyBNYXRjaCBlc2NhcGVkIGNoYXJhY3RlcnMgdGhhdCB3b3VsZCBvdGhlcndpc2UgYXBwZWFyIGluIGZ1dHVyZSBtYXRjaGVzLlxuICAvLyBUaGlzIGFsbG93cyB0aGUgdXNlciB0byBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoYXQgd29uJ3QgdHJhbnNmb3JtLlxuICAnKFxcXFxcXFxcLiknLFxuICAvLyBNYXRjaCBFeHByZXNzLXN0eWxlIHBhcmFtZXRlcnMgYW5kIHVuLW5hbWVkIHBhcmFtZXRlcnMgd2l0aCBhIHByZWZpeFxuICAvLyBhbmQgb3B0aW9uYWwgc3VmZml4ZXMuIE1hdGNoZXMgYXBwZWFyIGFzOlxuICAvL1xuICAvLyBcIi86dGVzdChcXFxcZCspP1wiID0+IFtcIi9cIiwgXCJ0ZXN0XCIsIFwiXFxkK1wiLCB1bmRlZmluZWQsIFwiP1wiLCB1bmRlZmluZWRdXG4gIC8vIFwiL3JvdXRlKFxcXFxkKylcIiAgPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiXFxkK1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgLy8gXCIvKlwiICAgICAgICAgICAgPT4gW1wiL1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiKlwiXVxuICAnKFtcXFxcLy5dKT8oPzooPzpcXFxcOihcXFxcdyspKD86XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSk/fFxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpKFsrKj9dKT98KFxcXFwqKSknXG5dLmpvaW4oJ3wnKSwgJ2cnKVxuXG4vKipcbiAqIFBhcnNlIGEgc3RyaW5nIGZvciB0aGUgcmF3IHRva2Vucy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBzdHJcbiAqIEBwYXJhbSAge09iamVjdD19IG9wdGlvbnNcbiAqIEByZXR1cm4geyFBcnJheX1cbiAqL1xuZnVuY3Rpb24gcGFyc2UgKHN0ciwgb3B0aW9ucykge1xuICB2YXIgdG9rZW5zID0gW11cbiAgdmFyIGtleSA9IDBcbiAgdmFyIGluZGV4ID0gMFxuICB2YXIgcGF0aCA9ICcnXG4gIHZhciBkZWZhdWx0RGVsaW1pdGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmRlbGltaXRlciB8fCAnLydcbiAgdmFyIHJlc1xuXG4gIHdoaWxlICgocmVzID0gUEFUSF9SRUdFWFAuZXhlYyhzdHIpKSAhPSBudWxsKSB7XG4gICAgdmFyIG0gPSByZXNbMF1cbiAgICB2YXIgZXNjYXBlZCA9IHJlc1sxXVxuICAgIHZhciBvZmZzZXQgPSByZXMuaW5kZXhcbiAgICBwYXRoICs9IHN0ci5zbGljZShpbmRleCwgb2Zmc2V0KVxuICAgIGluZGV4ID0gb2Zmc2V0ICsgbS5sZW5ndGhcblxuICAgIC8vIElnbm9yZSBhbHJlYWR5IGVzY2FwZWQgc2VxdWVuY2VzLlxuICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICBwYXRoICs9IGVzY2FwZWRbMV1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgdmFyIG5leHQgPSBzdHJbaW5kZXhdXG4gICAgdmFyIHByZWZpeCA9IHJlc1syXVxuICAgIHZhciBuYW1lID0gcmVzWzNdXG4gICAgdmFyIGNhcHR1cmUgPSByZXNbNF1cbiAgICB2YXIgZ3JvdXAgPSByZXNbNV1cbiAgICB2YXIgbW9kaWZpZXIgPSByZXNbNl1cbiAgICB2YXIgYXN0ZXJpc2sgPSByZXNbN11cblxuICAgIC8vIFB1c2ggdGhlIGN1cnJlbnQgcGF0aCBvbnRvIHRoZSB0b2tlbnMuXG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIHRva2Vucy5wdXNoKHBhdGgpXG4gICAgICBwYXRoID0gJydcbiAgICB9XG5cbiAgICB2YXIgcGFydGlhbCA9IHByZWZpeCAhPSBudWxsICYmIG5leHQgIT0gbnVsbCAmJiBuZXh0ICE9PSBwcmVmaXhcbiAgICB2YXIgcmVwZWF0ID0gbW9kaWZpZXIgPT09ICcrJyB8fCBtb2RpZmllciA9PT0gJyonXG4gICAgdmFyIG9wdGlvbmFsID0gbW9kaWZpZXIgPT09ICc/JyB8fCBtb2RpZmllciA9PT0gJyonXG4gICAgdmFyIGRlbGltaXRlciA9IHJlc1syXSB8fCBkZWZhdWx0RGVsaW1pdGVyXG4gICAgdmFyIHBhdHRlcm4gPSBjYXB0dXJlIHx8IGdyb3VwXG5cbiAgICB0b2tlbnMucHVzaCh7XG4gICAgICBuYW1lOiBuYW1lIHx8IGtleSsrLFxuICAgICAgcHJlZml4OiBwcmVmaXggfHwgJycsXG4gICAgICBkZWxpbWl0ZXI6IGRlbGltaXRlcixcbiAgICAgIG9wdGlvbmFsOiBvcHRpb25hbCxcbiAgICAgIHJlcGVhdDogcmVwZWF0LFxuICAgICAgcGFydGlhbDogcGFydGlhbCxcbiAgICAgIGFzdGVyaXNrOiAhIWFzdGVyaXNrLFxuICAgICAgcGF0dGVybjogcGF0dGVybiA/IGVzY2FwZUdyb3VwKHBhdHRlcm4pIDogKGFzdGVyaXNrID8gJy4qJyA6ICdbXicgKyBlc2NhcGVTdHJpbmcoZGVsaW1pdGVyKSArICddKz8nKVxuICAgIH0pXG4gIH1cblxuICAvLyBNYXRjaCBhbnkgY2hhcmFjdGVycyBzdGlsbCByZW1haW5pbmcuXG4gIGlmIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcbiAgICBwYXRoICs9IHN0ci5zdWJzdHIoaW5kZXgpXG4gIH1cblxuICAvLyBJZiB0aGUgcGF0aCBleGlzdHMsIHB1c2ggaXQgb250byB0aGUgZW5kLlxuICBpZiAocGF0aCkge1xuICAgIHRva2Vucy5wdXNoKHBhdGgpXG4gIH1cblxuICByZXR1cm4gdG9rZW5zXG59XG5cbi8qKlxuICogQ29tcGlsZSBhIHN0cmluZyB0byBhIHRlbXBsYXRlIGZ1bmN0aW9uIGZvciB0aGUgcGF0aC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshZnVuY3Rpb24oT2JqZWN0PSwgT2JqZWN0PSl9XG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGUgKHN0ciwgb3B0aW9ucykge1xuICByZXR1cm4gdG9rZW5zVG9GdW5jdGlvbihwYXJzZShzdHIsIG9wdGlvbnMpKVxufVxuXG4vKipcbiAqIFByZXR0aWVyIGVuY29kaW5nIG9mIFVSSSBwYXRoIHNlZ21lbnRzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1tcXC8/I10vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG5cbi8qKlxuICogRW5jb2RlIHRoZSBhc3RlcmlzayBwYXJhbWV0ZXIuIFNpbWlsYXIgdG8gYHByZXR0eWAsIGJ1dCBhbGxvd3Mgc2xhc2hlcy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZUFzdGVyaXNrIChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG5cbi8qKlxuICogRXhwb3NlIGEgbWV0aG9kIGZvciB0cmFuc2Zvcm1pbmcgdG9rZW5zIGludG8gdGhlIHBhdGggZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvRnVuY3Rpb24gKHRva2Vucykge1xuICAvLyBDb21waWxlIGFsbCB0aGUgdG9rZW5zIGludG8gcmVnZXhwcy5cbiAgdmFyIG1hdGNoZXMgPSBuZXcgQXJyYXkodG9rZW5zLmxlbmd0aClcblxuICAvLyBDb21waWxlIGFsbCB0aGUgcGF0dGVybnMgYmVmb3JlIGNvbXBpbGF0aW9uLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0eXBlb2YgdG9rZW5zW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgbWF0Y2hlc1tpXSA9IG5ldyBSZWdFeHAoJ14oPzonICsgdG9rZW5zW2ldLnBhdHRlcm4gKyAnKSQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG4gICAgdmFyIHBhdGggPSAnJ1xuICAgIHZhciBkYXRhID0gb2JqIHx8IHt9XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzIHx8IHt9XG4gICAgdmFyIGVuY29kZSA9IG9wdGlvbnMucHJldHR5ID8gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IDogZW5jb2RlVVJJQ29tcG9uZW50XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhdGggKz0gdG9rZW5cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUgPSBkYXRhW3Rva2VuLm5hbWVdXG4gICAgICB2YXIgc2VnbWVudFxuXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAvLyBQcmVwZW5kIHBhcnRpYWwgc2VnbWVudCBwcmVmaXhlcy5cbiAgICAgICAgICBpZiAodG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgICAgcGF0aCArPSB0b2tlbi5wcmVmaXhcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gYmUgZGVmaW5lZCcpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzYXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICghdG9rZW4ucmVwZWF0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgcmVwZWF0LCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnYCcpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCBiZSBlbXB0eScpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHNlZ21lbnQgPSBlbmNvZGUodmFsdWVbal0pXG5cbiAgICAgICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYWxsIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIGAnICsgSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkgKyAnYCcpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGF0aCArPSAoaiA9PT0gMCA/IHRva2VuLnByZWZpeCA6IHRva2VuLmRlbGltaXRlcikgKyBzZWdtZW50XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBzZWdtZW50ID0gdG9rZW4uYXN0ZXJpc2sgPyBlbmNvZGVBc3Rlcmlzayh2YWx1ZSkgOiBlbmNvZGUodmFsdWUpXG5cbiAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIFwiJyArIHNlZ21lbnQgKyAnXCInKVxuICAgICAgfVxuXG4gICAgICBwYXRoICs9IHRva2VuLnByZWZpeCArIHNlZ21lbnRcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aFxuICB9XG59XG5cbi8qKlxuICogRXNjYXBlIGEgcmVndWxhciBleHByZXNzaW9uIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcgKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18XFwvXFxcXF0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEVzY2FwZSB0aGUgY2FwdHVyaW5nIGdyb3VwIGJ5IGVzY2FwaW5nIHNwZWNpYWwgY2hhcmFjdGVycyBhbmQgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGdyb3VwXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUdyb3VwIChncm91cCkge1xuICByZXR1cm4gZ3JvdXAucmVwbGFjZSgvKFs9ITokXFwvKCldKS9nLCAnXFxcXCQxJylcbn1cblxuLyoqXG4gKiBBdHRhY2ggdGhlIGtleXMgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHJlXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhdHRhY2hLZXlzIChyZSwga2V5cykge1xuICByZS5rZXlzID0ga2V5c1xuICByZXR1cm4gcmVcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGZsYWdzIGZvciBhIHJlZ2V4cCBmcm9tIHRoZSBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBmbGFncyAob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5zZW5zaXRpdmUgPyAnJyA6ICdpJ1xufVxuXG4vKipcbiAqIFB1bGwgb3V0IGtleXMgZnJvbSBhIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshUmVnRXhwfSBwYXRoXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiByZWdleHBUb1JlZ2V4cCAocGF0aCwga2V5cykge1xuICAvLyBVc2UgYSBuZWdhdGl2ZSBsb29rYWhlYWQgdG8gbWF0Y2ggb25seSBjYXB0dXJpbmcgZ3JvdXBzLlxuICB2YXIgZ3JvdXBzID0gcGF0aC5zb3VyY2UubWF0Y2goL1xcKCg/IVxcPykvZylcblxuICBpZiAoZ3JvdXBzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleXMucHVzaCh7XG4gICAgICAgIG5hbWU6IGksXG4gICAgICAgIHByZWZpeDogbnVsbCxcbiAgICAgICAgZGVsaW1pdGVyOiBudWxsLFxuICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICAgIHBhcnRpYWw6IGZhbHNlLFxuICAgICAgICBhc3RlcmlzazogZmFsc2UsXG4gICAgICAgIHBhdHRlcm46IG51bGxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocGF0aCwga2V5cylcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gYXJyYXkgaW50byBhIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBwYXRoXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhcnJheVRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHZhciBwYXJ0cyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgcGFydHMucHVzaChwYXRoVG9SZWdleHAocGF0aFtpXSwga2V5cywgb3B0aW9ucykuc291cmNlKVxuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJyg/OicgKyBwYXJ0cy5qb2luKCd8JykgKyAnKScsIGZsYWdzKG9wdGlvbnMpKVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKHJlZ2V4cCwga2V5cylcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBwYXRoIHJlZ2V4cCBmcm9tIHN0cmluZyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBwYXRoXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBzdHJpbmdUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICByZXR1cm4gdG9rZW5zVG9SZWdFeHAocGFyc2UocGF0aCwgb3B0aW9ucyksIGtleXMsIG9wdGlvbnMpXG59XG5cbi8qKlxuICogRXhwb3NlIGEgZnVuY3Rpb24gZm9yIHRha2luZyB0b2tlbnMgYW5kIHJldHVybmluZyBhIFJlZ0V4cC5cbiAqXG4gKiBAcGFyYW0gIHshQXJyYXl9ICAgICAgICAgIHRva2Vuc1xuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSBrZXlzXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvUmVnRXhwICh0b2tlbnMsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0XG4gIHZhciBlbmQgPSBvcHRpb25zLmVuZCAhPT0gZmFsc2VcbiAgdmFyIHJvdXRlID0gJydcblxuICAvLyBJdGVyYXRlIG92ZXIgdGhlIHRva2VucyBhbmQgY3JlYXRlIG91ciByZWdleHAgc3RyaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXVxuXG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJvdXRlICs9IGVzY2FwZVN0cmluZyh0b2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByZWZpeCA9IGVzY2FwZVN0cmluZyh0b2tlbi5wcmVmaXgpXG4gICAgICB2YXIgY2FwdHVyZSA9ICcoPzonICsgdG9rZW4ucGF0dGVybiArICcpJ1xuXG4gICAgICBrZXlzLnB1c2godG9rZW4pXG5cbiAgICAgIGlmICh0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgY2FwdHVyZSArPSAnKD86JyArIHByZWZpeCArIGNhcHR1cmUgKyAnKSonXG4gICAgICB9XG5cbiAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICBpZiAoIXRva2VuLnBhcnRpYWwpIHtcbiAgICAgICAgICBjYXB0dXJlID0gJyg/OicgKyBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJykpPydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpPydcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FwdHVyZSA9IHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSdcbiAgICAgIH1cblxuICAgICAgcm91dGUgKz0gY2FwdHVyZVxuICAgIH1cbiAgfVxuXG4gIHZhciBkZWxpbWl0ZXIgPSBlc2NhcGVTdHJpbmcob3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nKVxuICB2YXIgZW5kc1dpdGhEZWxpbWl0ZXIgPSByb3V0ZS5zbGljZSgtZGVsaW1pdGVyLmxlbmd0aCkgPT09IGRlbGltaXRlclxuXG4gIC8vIEluIG5vbi1zdHJpY3QgbW9kZSB3ZSBhbGxvdyBhIHNsYXNoIGF0IHRoZSBlbmQgb2YgbWF0Y2guIElmIHRoZSBwYXRoIHRvXG4gIC8vIG1hdGNoIGFscmVhZHkgZW5kcyB3aXRoIGEgc2xhc2gsIHdlIHJlbW92ZSBpdCBmb3IgY29uc2lzdGVuY3kuIFRoZSBzbGFzaFxuICAvLyBpcyB2YWxpZCBhdCB0aGUgZW5kIG9mIGEgcGF0aCBtYXRjaCwgbm90IGluIHRoZSBtaWRkbGUuIFRoaXMgaXMgaW1wb3J0YW50XG4gIC8vIGluIG5vbi1lbmRpbmcgbW9kZSwgd2hlcmUgXCIvdGVzdC9cIiBzaG91bGRuJ3QgbWF0Y2ggXCIvdGVzdC8vcm91dGVcIi5cbiAgaWYgKCFzdHJpY3QpIHtcbiAgICByb3V0ZSA9IChlbmRzV2l0aERlbGltaXRlciA/IHJvdXRlLnNsaWNlKDAsIC1kZWxpbWl0ZXIubGVuZ3RoKSA6IHJvdXRlKSArICcoPzonICsgZGVsaW1pdGVyICsgJyg/PSQpKT8nXG4gIH1cblxuICBpZiAoZW5kKSB7XG4gICAgcm91dGUgKz0gJyQnXG4gIH0gZWxzZSB7XG4gICAgLy8gSW4gbm9uLWVuZGluZyBtb2RlLCB3ZSBuZWVkIHRoZSBjYXB0dXJpbmcgZ3JvdXBzIHRvIG1hdGNoIGFzIG11Y2ggYXNcbiAgICAvLyBwb3NzaWJsZSBieSB1c2luZyBhIHBvc2l0aXZlIGxvb2thaGVhZCB0byB0aGUgZW5kIG9yIG5leHQgcGF0aCBzZWdtZW50LlxuICAgIHJvdXRlICs9IHN0cmljdCAmJiBlbmRzV2l0aERlbGltaXRlciA/ICcnIDogJyg/PScgKyBkZWxpbWl0ZXIgKyAnfCQpJ1xuICB9XG5cbiAgcmV0dXJuIGF0dGFjaEtleXMobmV3IFJlZ0V4cCgnXicgKyByb3V0ZSwgZmxhZ3Mob3B0aW9ucykpLCBrZXlzKVxufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSB0aGUgZ2l2ZW4gcGF0aCBzdHJpbmcsIHJldHVybmluZyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqXG4gKiBBbiBlbXB0eSBhcnJheSBjYW4gYmUgcGFzc2VkIGluIGZvciB0aGUga2V5cywgd2hpY2ggd2lsbCBob2xkIHRoZVxuICogcGxhY2Vob2xkZXIga2V5IGRlc2NyaXB0aW9ucy4gRm9yIGV4YW1wbGUsIHVzaW5nIGAvdXNlci86aWRgLCBga2V5c2Agd2lsbFxuICogY29udGFpbiBgW3sgbmFtZTogJ2lkJywgZGVsaW1pdGVyOiAnLycsIG9wdGlvbmFsOiBmYWxzZSwgcmVwZWF0OiBmYWxzZSB9XWAuXG4gKlxuICogQHBhcmFtICB7KHN0cmluZ3xSZWdFeHB8QXJyYXkpfSBwYXRoXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19ICAgICAgIGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gcGF0aFRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIGlmICghaXNhcnJheShrZXlzKSkge1xuICAgIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChrZXlzIHx8IG9wdGlvbnMpXG4gICAga2V5cyA9IFtdXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIGlmIChwYXRoIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIHJlZ2V4cFRvUmVnZXhwKHBhdGgsIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cykpXG4gIH1cblxuICBpZiAoaXNhcnJheShwYXRoKSkge1xuICAgIHJldHVybiBhcnJheVRvUmVnZXhwKC8qKiBAdHlwZSB7IUFycmF5fSAqLyAocGF0aCksIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cyksIG9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gc3RyaW5nVG9SZWdleHAoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbn1cbiIsImltcG9ydCBwYXRoVG9SZWdleHAgZnJvbSBcInBhdGgtdG8tcmVnZXhwXCI7XG5cbnZhciBwYXR0ZXJuQ2FjaGUgPSB7fTtcbnZhciBjYWNoZUxpbWl0ID0gMTAwMDA7XG52YXIgY2FjaGVDb3VudCA9IDA7XG5cbnZhciBjb21waWxlUGF0aCA9IGZ1bmN0aW9uIGNvbXBpbGVQYXRoKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgdmFyIGNhY2hlS2V5ID0gXCJcIiArIG9wdGlvbnMuZW5kICsgb3B0aW9ucy5zdHJpY3QgKyBvcHRpb25zLnNlbnNpdGl2ZTtcbiAgdmFyIGNhY2hlID0gcGF0dGVybkNhY2hlW2NhY2hlS2V5XSB8fCAocGF0dGVybkNhY2hlW2NhY2hlS2V5XSA9IHt9KTtcblxuICBpZiAoY2FjaGVbcGF0dGVybl0pIHJldHVybiBjYWNoZVtwYXR0ZXJuXTtcblxuICB2YXIga2V5cyA9IFtdO1xuICB2YXIgcmUgPSBwYXRoVG9SZWdleHAocGF0dGVybiwga2V5cywgb3B0aW9ucyk7XG4gIHZhciBjb21waWxlZFBhdHRlcm4gPSB7IHJlOiByZSwga2V5czoga2V5cyB9O1xuXG4gIGlmIChjYWNoZUNvdW50IDwgY2FjaGVMaW1pdCkge1xuICAgIGNhY2hlW3BhdHRlcm5dID0gY29tcGlsZWRQYXR0ZXJuO1xuICAgIGNhY2hlQ291bnQrKztcbiAgfVxuXG4gIHJldHVybiBjb21waWxlZFBhdHRlcm47XG59O1xuXG4vKipcbiAqIFB1YmxpYyBBUEkgZm9yIG1hdGNoaW5nIGEgVVJMIHBhdGhuYW1lIHRvIGEgcGF0aCBwYXR0ZXJuLlxuICovXG52YXIgbWF0Y2hQYXRoID0gZnVuY3Rpb24gbWF0Y2hQYXRoKHBhdGhuYW1lKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIHBhcmVudCA9IGFyZ3VtZW50c1syXTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIG9wdGlvbnMgPSB7IHBhdGg6IG9wdGlvbnMgfTtcblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgcGF0aCA9IF9vcHRpb25zLnBhdGgsXG4gICAgICBfb3B0aW9ucyRleGFjdCA9IF9vcHRpb25zLmV4YWN0LFxuICAgICAgZXhhY3QgPSBfb3B0aW9ucyRleGFjdCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyRleGFjdCxcbiAgICAgIF9vcHRpb25zJHN0cmljdCA9IF9vcHRpb25zLnN0cmljdCxcbiAgICAgIHN0cmljdCA9IF9vcHRpb25zJHN0cmljdCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyRzdHJpY3QsXG4gICAgICBfb3B0aW9ucyRzZW5zaXRpdmUgPSBfb3B0aW9ucy5zZW5zaXRpdmUsXG4gICAgICBzZW5zaXRpdmUgPSBfb3B0aW9ucyRzZW5zaXRpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX29wdGlvbnMkc2Vuc2l0aXZlO1xuXG5cbiAgaWYgKHBhdGggPT0gbnVsbCkgcmV0dXJuIHBhcmVudDtcblxuICB2YXIgX2NvbXBpbGVQYXRoID0gY29tcGlsZVBhdGgocGF0aCwgeyBlbmQ6IGV4YWN0LCBzdHJpY3Q6IHN0cmljdCwgc2Vuc2l0aXZlOiBzZW5zaXRpdmUgfSksXG4gICAgICByZSA9IF9jb21waWxlUGF0aC5yZSxcbiAgICAgIGtleXMgPSBfY29tcGlsZVBhdGgua2V5cztcblxuICB2YXIgbWF0Y2ggPSByZS5leGVjKHBhdGhuYW1lKTtcblxuICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcblxuICB2YXIgdXJsID0gbWF0Y2hbMF0sXG4gICAgICB2YWx1ZXMgPSBtYXRjaC5zbGljZSgxKTtcblxuICB2YXIgaXNFeGFjdCA9IHBhdGhuYW1lID09PSB1cmw7XG5cbiAgaWYgKGV4YWN0ICYmICFpc0V4YWN0KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4ge1xuICAgIHBhdGg6IHBhdGgsIC8vIHRoZSBwYXRoIHBhdHRlcm4gdXNlZCB0byBtYXRjaFxuICAgIHVybDogcGF0aCA9PT0gXCIvXCIgJiYgdXJsID09PSBcIlwiID8gXCIvXCIgOiB1cmwsIC8vIHRoZSBtYXRjaGVkIHBvcnRpb24gb2YgdGhlIFVSTFxuICAgIGlzRXhhY3Q6IGlzRXhhY3QsIC8vIHdoZXRoZXIgb3Igbm90IHdlIG1hdGNoZWQgZXhhY3RseVxuICAgIHBhcmFtczoga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGtleSwgaW5kZXgpIHtcbiAgICAgIG1lbW9ba2V5Lm5hbWVdID0gdmFsdWVzW2luZGV4XTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWF0Y2hQYXRoOyIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IHdhcm5pbmcgZnJvbSBcIndhcm5pbmdcIjtcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSBcImludmFyaWFudFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IG1hdGNoUGF0aCBmcm9tIFwiLi9tYXRjaFBhdGhcIjtcblxudmFyIGlzRW1wdHlDaGlsZHJlbiA9IGZ1bmN0aW9uIGlzRW1wdHlDaGlsZHJlbihjaGlsZHJlbikge1xuICByZXR1cm4gUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pID09PSAwO1xufTtcblxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgbWF0Y2hpbmcgYSBzaW5nbGUgcGF0aCBhbmQgcmVuZGVyaW5nLlxuICovXG5cbnZhciBSb3V0ZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSb3V0ZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUm91dGUoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3V0ZSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBtYXRjaDogX3RoaXMuY29tcHV0ZU1hdGNoKF90aGlzLnByb3BzLCBfdGhpcy5jb250ZXh0LnJvdXRlcilcbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIFJvdXRlLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdXRlcjogX2V4dGVuZHMoe30sIHRoaXMuY29udGV4dC5yb3V0ZXIsIHtcbiAgICAgICAgcm91dGU6IHtcbiAgICAgICAgICBsb2NhdGlvbjogdGhpcy5wcm9wcy5sb2NhdGlvbiB8fCB0aGlzLmNvbnRleHQucm91dGVyLnJvdXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG1hdGNoOiB0aGlzLnN0YXRlLm1hdGNoXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfTtcbiAgfTtcblxuICBSb3V0ZS5wcm90b3R5cGUuY29tcHV0ZU1hdGNoID0gZnVuY3Rpb24gY29tcHV0ZU1hdGNoKF9yZWYsIHJvdXRlcikge1xuICAgIHZhciBjb21wdXRlZE1hdGNoID0gX3JlZi5jb21wdXRlZE1hdGNoLFxuICAgICAgICBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG4gICAgICAgIHBhdGggPSBfcmVmLnBhdGgsXG4gICAgICAgIHN0cmljdCA9IF9yZWYuc3RyaWN0LFxuICAgICAgICBleGFjdCA9IF9yZWYuZXhhY3QsXG4gICAgICAgIHNlbnNpdGl2ZSA9IF9yZWYuc2Vuc2l0aXZlO1xuXG4gICAgaWYgKGNvbXB1dGVkTWF0Y2gpIHJldHVybiBjb21wdXRlZE1hdGNoOyAvLyA8U3dpdGNoPiBhbHJlYWR5IGNvbXB1dGVkIHRoZSBtYXRjaCBmb3IgdXNcblxuICAgIGludmFyaWFudChyb3V0ZXIsIFwiWW91IHNob3VsZCBub3QgdXNlIDxSb3V0ZT4gb3Igd2l0aFJvdXRlcigpIG91dHNpZGUgYSA8Um91dGVyPlwiKTtcblxuICAgIHZhciByb3V0ZSA9IHJvdXRlci5yb3V0ZTtcblxuICAgIHZhciBwYXRobmFtZSA9IChsb2NhdGlvbiB8fCByb3V0ZS5sb2NhdGlvbikucGF0aG5hbWU7XG5cbiAgICByZXR1cm4gbWF0Y2hQYXRoKHBhdGhuYW1lLCB7IHBhdGg6IHBhdGgsIHN0cmljdDogc3RyaWN0LCBleGFjdDogZXhhY3QsIHNlbnNpdGl2ZTogc2Vuc2l0aXZlIH0sIHJvdXRlLm1hdGNoKTtcbiAgfTtcblxuICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHdhcm5pbmcoISh0aGlzLnByb3BzLmNvbXBvbmVudCAmJiB0aGlzLnByb3BzLnJlbmRlciksIFwiWW91IHNob3VsZCBub3QgdXNlIDxSb3V0ZSBjb21wb25lbnQ+IGFuZCA8Um91dGUgcmVuZGVyPiBpbiB0aGUgc2FtZSByb3V0ZTsgPFJvdXRlIHJlbmRlcj4gd2lsbCBiZSBpZ25vcmVkXCIpO1xuXG4gICAgd2FybmluZyghKHRoaXMucHJvcHMuY29tcG9uZW50ICYmIHRoaXMucHJvcHMuY2hpbGRyZW4gJiYgIWlzRW1wdHlDaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuKSksIFwiWW91IHNob3VsZCBub3QgdXNlIDxSb3V0ZSBjb21wb25lbnQ+IGFuZCA8Um91dGUgY2hpbGRyZW4+IGluIHRoZSBzYW1lIHJvdXRlOyA8Um91dGUgY2hpbGRyZW4+IHdpbGwgYmUgaWdub3JlZFwiKTtcblxuICAgIHdhcm5pbmcoISh0aGlzLnByb3BzLnJlbmRlciAmJiB0aGlzLnByb3BzLmNoaWxkcmVuICYmICFpc0VtcHR5Q2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbikpLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGUgcmVuZGVyPiBhbmQgPFJvdXRlIGNoaWxkcmVuPiBpbiB0aGUgc2FtZSByb3V0ZTsgPFJvdXRlIGNoaWxkcmVuPiB3aWxsIGJlIGlnbm9yZWRcIik7XG4gIH07XG5cbiAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcywgbmV4dENvbnRleHQpIHtcbiAgICB3YXJuaW5nKCEobmV4dFByb3BzLmxvY2F0aW9uICYmICF0aGlzLnByb3BzLmxvY2F0aW9uKSwgJzxSb3V0ZT4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBpbml0aWFsbHkgdXNlZCBubyBcImxvY2F0aW9uXCIgcHJvcCBhbmQgdGhlbiBwcm92aWRlZCBvbmUgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKTtcblxuICAgIHdhcm5pbmcoISghbmV4dFByb3BzLmxvY2F0aW9uICYmIHRoaXMucHJvcHMubG9jYXRpb24pLCAnPFJvdXRlPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IHByb3ZpZGVkIGEgXCJsb2NhdGlvblwiIHByb3AgaW5pdGlhbGx5IGJ1dCBvbWl0dGVkIGl0IG9uIGEgc3Vic2VxdWVudCByZW5kZXIuJyk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG1hdGNoOiB0aGlzLmNvbXB1dGVNYXRjaChuZXh0UHJvcHMsIG5leHRDb250ZXh0LnJvdXRlcilcbiAgICB9KTtcbiAgfTtcblxuICBSb3V0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBtYXRjaCA9IHRoaXMuc3RhdGUubWF0Y2g7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICBjb21wb25lbnQgPSBfcHJvcHMuY29tcG9uZW50LFxuICAgICAgICByZW5kZXIgPSBfcHJvcHMucmVuZGVyO1xuICAgIHZhciBfY29udGV4dCRyb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyLFxuICAgICAgICBoaXN0b3J5ID0gX2NvbnRleHQkcm91dGVyLmhpc3RvcnksXG4gICAgICAgIHJvdXRlID0gX2NvbnRleHQkcm91dGVyLnJvdXRlLFxuICAgICAgICBzdGF0aWNDb250ZXh0ID0gX2NvbnRleHQkcm91dGVyLnN0YXRpY0NvbnRleHQ7XG5cbiAgICB2YXIgbG9jYXRpb24gPSB0aGlzLnByb3BzLmxvY2F0aW9uIHx8IHJvdXRlLmxvY2F0aW9uO1xuICAgIHZhciBwcm9wcyA9IHsgbWF0Y2g6IG1hdGNoLCBsb2NhdGlvbjogbG9jYXRpb24sIGhpc3Rvcnk6IGhpc3RvcnksIHN0YXRpY0NvbnRleHQ6IHN0YXRpY0NvbnRleHQgfTtcblxuICAgIGlmIChjb21wb25lbnQpIHJldHVybiBtYXRjaCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcykgOiBudWxsO1xuXG4gICAgaWYgKHJlbmRlcikgcmV0dXJuIG1hdGNoID8gcmVuZGVyKHByb3BzKSA6IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBjaGlsZHJlbihwcm9wcyk7XG5cbiAgICBpZiAoY2hpbGRyZW4gJiYgIWlzRW1wdHlDaGlsZHJlbihjaGlsZHJlbikpIHJldHVybiBSZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBSb3V0ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUm91dGUucHJvcFR5cGVzID0ge1xuICBjb21wdXRlZE1hdGNoOiBQcm9wVHlwZXMub2JqZWN0LCAvLyBwcml2YXRlLCBmcm9tIDxTd2l0Y2g+XG4gIHBhdGg6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGV4YWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgc3RyaWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgc2Vuc2l0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgY29tcG9uZW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgcmVuZGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLFxuICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdFxufTtcblJvdXRlLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGhpc3Rvcnk6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICByb3V0ZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHN0YXRpY0NvbnRleHQ6IFByb3BUeXBlcy5vYmplY3RcbiAgfSlcbn07XG5Sb3V0ZS5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgUm91dGU7IiwiLy8gV3JpdHRlbiBpbiB0aGlzIHJvdW5kIGFib3V0IHdheSBmb3IgYmFiZWwtdHJhbnNmb3JtLWltcG9ydHNcbmltcG9ydCBSb3V0ZSBmcm9tIFwicmVhY3Qtcm91dGVyL2VzL1JvdXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XHJcbmltcG9ydCAnLi9zdHlsZXMvdHlwb2dyYXBoeS9zZWdvZS11aS5jc3MnO1xyXG5pbXBvcnQgJy4vc3R5bGVzL2ljb24vZnVsbC1tZGwyLmNzcyc7XHJcblxyXG5pbXBvcnQge0FwcH0gZnJvbSAnLi9hcHAvYXBwJztcclxuXHJcblJlYWN0RE9NLnJlbmRlcihcclxuICAgIDxBcHAgLz4sXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKVxyXG4pO1xyXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zZWdvZS11aS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2Vnb2UtdWkuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zZWdvZS11aS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBmb250LWZhY2Uge1xcclxcbiAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSSc7XFxyXFxuICBzcmM6IGxvY2FsKCdTZWdvZSBVSScpLHVybCgnLy9jLnMtbWljcm9zb2Z0LmNvbS9zdGF0aWMvZm9udHMvc2Vnb2UtdWkvd2VzdC1ldXJvcGVhbi9ub3JtYWwvbGF0ZXN0LndvZmYyJykgZm9ybWF0KFxcXCJ3b2ZmMlxcXCIpLHVybCgnLy9jLnMtbWljcm9zb2Z0LmNvbS9zdGF0aWMvZm9udHMvc2Vnb2UtdWkvd2VzdC1ldXJvcGVhbi9ub3JtYWwvbGF0ZXN0LndvZmYnKSBmb3JtYXQoXFxcIndvZmZcXFwiKSx1cmwoJy8vYy5zLW1pY3Jvc29mdC5jb20vc3RhdGljL2ZvbnRzL3NlZ29lLXVpL3dlc3QtZXVyb3BlYW4vbm9ybWFsL2xhdGVzdC50dGYnKSBmb3JtYXQoXFxcInR0ZlxcXCIpO1xcclxcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXHJcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXHJcXG59XFxyXFxuXFxyXFxuQGZvbnQtZmFjZSB7XFxyXFxuICBmb250LWZhbWlseTogJ1NlZ29lIFVJJztcXHJcXG4gIHNyYzogbG9jYWwoJ1NlZ29lIFVJIExpZ2h0JyksdXJsKCcvL2Mucy1taWNyb3NvZnQuY29tL3N0YXRpYy9mb250cy9zZWdvZS11aS93ZXN0LWV1cm9wZWFuL0xpZ2h0L2xhdGVzdC53b2ZmMicpIGZvcm1hdChcXFwid29mZjJcXFwiKSx1cmwoJy8vYy5zLW1pY3Jvc29mdC5jb20vc3RhdGljL2ZvbnRzL3NlZ29lLXVpL3dlc3QtZXVyb3BlYW4vTGlnaHQvbGF0ZXN0LndvZmYnKSBmb3JtYXQoXFxcIndvZmZcXFwiKSx1cmwoJy8vYy5zLW1pY3Jvc29mdC5jb20vc3RhdGljL2ZvbnRzL3NlZ29lLXVpL3dlc3QtZXVyb3BlYW4vTGlnaHQvbGF0ZXN0LnR0ZicpIGZvcm1hdChcXFwidHRmXFxcIik7XFxyXFxuICBmb250LXdlaWdodDogMTAwO1xcclxcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcclxcbn1cXHJcXG5cXHJcXG5AZm9udC1mYWNlIHtcXHJcXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknO1xcclxcbiAgc3JjOiBsb2NhbCgnU2Vnb2UgVUkgU2VtaWxpZ2h0JyksdXJsKCcvL2Mucy1taWNyb3NvZnQuY29tL3N0YXRpYy9mb250cy9zZWdvZS11aS93ZXN0LWV1cm9wZWFuL1NlbWlsaWdodC9sYXRlc3Qud29mZjInKSBmb3JtYXQoXFxcIndvZmYyXFxcIiksdXJsKCcvL2Mucy1taWNyb3NvZnQuY29tL3N0YXRpYy9mb250cy9zZWdvZS11aS93ZXN0LWV1cm9wZWFuL1NlbWlsaWdodC9sYXRlc3Qud29mZicpIGZvcm1hdChcXFwid29mZlxcXCIpLHVybCgnLy9jLnMtbWljcm9zb2Z0LmNvbS9zdGF0aWMvZm9udHMvc2Vnb2UtdWkvd2VzdC1ldXJvcGVhbi9TZW1pbGlnaHQvbGF0ZXN0LnR0ZicpIGZvcm1hdChcXFwidHRmXFxcIik7XFxyXFxuICBmb250LXdlaWdodDogMjAwO1xcclxcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcclxcbn1cXHJcXG5cXHJcXG5AZm9udC1mYWNlIHtcXHJcXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknO1xcclxcbiAgc3JjOiBsb2NhbCgnU2Vnb2UgVUkgU2VtaWJvbGQnKSx1cmwoJy8vYy5zLW1pY3Jvc29mdC5jb20vc3RhdGljL2ZvbnRzL3NlZ29lLXVpL3dlc3QtZXVyb3BlYW4vU2VtaWJvbGQvbGF0ZXN0LndvZmYyJykgZm9ybWF0KFxcXCJ3b2ZmMlxcXCIpLHVybCgnLy9jLnMtbWljcm9zb2Z0LmNvbS9zdGF0aWMvZm9udHMvc2Vnb2UtdWkvd2VzdC1ldXJvcGVhbi9TZW1pYm9sZC9sYXRlc3Qud29mZicpIGZvcm1hdChcXFwid29mZlxcXCIpLHVybCgnLy9jLnMtbWljcm9zb2Z0LmNvbS9zdGF0aWMvZm9udHMvc2Vnb2UtdWkvd2VzdC1ldXJvcGVhbi9TZW1pYm9sZC9sYXRlc3QudHRmJykgZm9ybWF0KFxcXCJ0dGZcXFwiKTtcXHJcXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxyXFxufVxcclxcblxcclxcbkBmb250LWZhY2Uge1xcclxcbiAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSSc7XFxyXFxuICBzcmM6IGxvY2FsKCdTZWdvZSBVSSBCb2xkJyksdXJsKCcvL2Mucy1taWNyb3NvZnQuY29tL3N0YXRpYy9mb250cy9zZWdvZS11aS93ZXN0LWV1cm9wZWFuL0JvbGQvbGF0ZXN0LndvZmYyJykgZm9ybWF0KFxcXCJ3b2ZmMlxcXCIpLHVybCgnLy9jLnMtbWljcm9zb2Z0LmNvbS9zdGF0aWMvZm9udHMvc2Vnb2UtdWkvd2VzdC1ldXJvcGVhbi9Cb2xkL2xhdGVzdC53b2ZmJykgZm9ybWF0KFxcXCJ3b2ZmXFxcIiksdXJsKCcvL2Mucy1taWNyb3NvZnQuY29tL3N0YXRpYy9mb250cy9zZWdvZS11aS93ZXN0LWV1cm9wZWFuL0JvbGQvbGF0ZXN0LnR0ZicpIGZvcm1hdChcXFwidHRmXFxcIik7XFxyXFxuICBmb250LXdlaWdodDogNzAwO1xcclxcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcclxcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2Z1bGwtbWRsMi5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZnVsbC1tZGwyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZnVsbC1tZGwyLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsInZhciBlc2NhcGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL3VybC9lc2NhcGUuanNcIik7XG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBmb250LWZhY2Uge1xcclxcbiAgZm9udC1mYW1pbHk6ICdGdWxsIE1ETDIgQXNzZXRzJztcXHJcXG4gIHNyYzogdXJsKFwiICsgZXNjYXBlKHJlcXVpcmUoXCIuL0Z1bGxNREwyLndvZmYyXCIpKSArIFwiKTtcXHJcXG59XFxyXFxuXFxyXFxuLm1kbDIge1xcclxcbiAgZm9udC1mYW1pbHk6ICdGdWxsIE1ETDIgQXNzZXRzJztcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlc2NhcGUodXJsKSB7XG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB1cmxcbiAgICB9XG4gICAgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG4gICAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gICAgfVxuICAgIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICAgIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSkge1xuICAgICAgICByZXR1cm4gJ1wiJyArIHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpICsgJ1wiJ1xuICAgIH1cblxuICAgIHJldHVybiB1cmxcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQ2MDI5OWM5ZmYxZTE3ZTAyNWI2MTBiOGFlZTU3NjczLndvZmYyXCI7IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZmx1ZW50LWZvci1keW5hbWljcy5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZmx1ZW50LWZvci1keW5hbWljcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2ZsdWVudC1mb3ItZHluYW1pY3MuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiBwcm9wZXJ0eSBuYW1pbmcgY29udmVudGlvbiBcXHJcXG4gKiAtLTxjb21wb25lbnQ+LVs8c3ViY29tcG9uZW50Pl0tWzx2YXJpYW50Pnw8bW9kZT5dLVtmZ3xiZ3xib3JkZXJdLVtyZXN0fGhvdmVyfGZvY3VzfHByZXNzZWR8ZGlzYWJsZWRdXFxyXFxuKi9cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgLyogQnV0dG9uICovXFxyXFxuICAgIC0tYnRuLWZvbnQ6IHZhcigtLWZ3LXNlbWlib2xkKSB2YXIoLS1zY2FsZS0xNCkvdmFyKC0tc2NhbGUtMjApIHZhcigtLWZmLXNlZ29lLXVpKTtcXHJcXG4gICAgLS1idG4taGVpZ2h0OiAycmVtO1xcclxcbiAgICAtLWJ0bi1sZXR0ZXItc3BhY2luZzogdmFyKC0tbHMtcC0wNSk7XFxyXFxuICAgIC0tYnRuLXBhZGRpbmctc2lkZTogMS4yNXJlbTtcXHJcXG4gICAgLS1idG4tcHJpbWFyeS1iZy1yZXN0OiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcXHJcXG4gICAgLS1idG4tcHJpbWFyeS1mZy1yZXN0OiAgdmFyKC0tY29sb3ItcHJpbWFyeS1jb250cmFzdCk7XFxyXFxuICAgIC0tYnRuLXByaW1hcnktYmctaG92ZXI6IHdoaXRlO1xcclxcbiAgICAtLWJ0bi1wcmltYXJ5LWZnLWhvdmVyOiB2YXIoLS1jb2xvci1ncmV5LTE5MCk7XFxyXFxuICAgIC0tYnRuLXNlY29uZGFyeS1iZy1yZXN0OiB3aGl0ZTtcXHJcXG4gICAgLS1idG4tc2Vjb25kYXJ5LWZnLXJlc3Q6IHZhcigtLWNvbG9yLWdyZXktMTkwKTtcXHJcXG4gICAgLS1idG4tc2Vjb25kYXJ5LWJnLWhvdmVyOiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcXHJcXG4gICAgLS1idG4tc2Vjb25kYXJ5LWZnLWhvdmVyOiB2YXIoLS1jb2xvci1wcmltYXJ5LWNvbnRyYXN0KTtcXHJcXG4gICAgLS1idG4tYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XFxyXFxuICAgIC0tYnRuLXNoYWRvdy1ob3ZlcjogdmFyKC0tZGVwdGgtMik7XFxyXFxuICAgIC0tYnRuLXNoYWRvdy1yZXN0OiB2YXIoLS1kZXB0aC0xKTtcXHJcXG5cXHJcXG4gICAgLyogVGV4dCBmaWVsZCAqL1xcclxcbiAgICAtLXRmLWJvcmRlci1yZXN0OiB2YXIoLS1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWNvbG9yLWdyZXktMTMwKTtcXHJcXG4gICAgLS10Zi1ib3JkZXItaG92ZXI6IHZhcigtLWJvcmRlci13aWR0aCkgc29saWQgdmFyKC0tY29sb3ItcHJpbWFyeSk7XFxyXFxuICAgIC0tdGYtZmc6IHZhcigtLWNvbG9yLWdyZXktMTkwKTtcXHJcXG4gICAgLS10Zi1mb250OiB2YXIoLS1mdy1ub3JtYWwpIHZhcigtLXNjYWxlLTE0KS92YXIoLS1zY2FsZS0yMCkgdmFyKC0tZmYtc2Vnb2UtdWkpO1xcclxcbiAgICAtLXRmLWxldHRlci1zcGFjaW5nOiB2YXIoLS1scy1wLTA1KTtcXHJcXG5cXHJcXG4gICAgLyogVG9nZ2xlICovXFxyXFxuICAgIC0tdGctdHJhY2std2lkdGg6IDQycHg7XFxyXFxuICAgIC0tdGctdHJhY2staGVpZ2h0OiAyMHB4O1xcclxcbiAgICAtLXRnLXRyYWNrLWd1dHRlcjogNXB4O1xcclxcbiAgICAtLXRnLXRyYWNrLWxhYmVsLWd1dHRlcjogOHB4O1xcclxcbiAgICAtLXRnLWtub2ItdHJhbnNsYXRlOiAyMnB4O1xcclxcbiAgICAtLXRnLWtub2ItZGlhbWV0ZXI6IGNhbGModmFyKC0tdGctdHJhY2staGVpZ2h0KSAtIDIgKiB2YXIoLS10Zy10cmFjay1ndXR0ZXIpKTtcXHJcXG4gICAgLS10Zy1sYWJlbC1mb250OiB2YXIoLS1mdy1zZW1pYm9sZCkgdmFyKC0tc2NhbGUtMTQpL3ZhcigtLXNjYWxlLTIwKSB2YXIoLS1mZi1zZWdvZS11aSk7XFxyXFxuICAgIC0tdGctbGFiZWwtbGV0dGVyLXNwYWNpbmc6IHZhcigtLWxzLXAtMDUpO1xcclxcbiAgICAtLXRnLXRyYW5zaXRpb24tZHVyYXRpb246IHZhcigtLXQtMjAwKTtcXHJcXG4gICAgLS10Zy1vZmYtdHJhY2stYm9yZGVyLXJlc3Q6IHZhcigtLWNvbG9yLWdyZXktMTYwKTtcXHJcXG4gICAgLS10Zy1vZmYtdHJhY2stYm9yZGVyLWhvdmVyOiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcXHJcXG4gICAgLS10Zy1vZmYtdHJhY2stYmctcmVzdDogd2hpdGU7XFxyXFxuICAgIC0tdGctb2ZmLWtub2ItYmc6IHZhcigtLWNvbG9yLWdyZXktMTYwKTtcXHJcXG4gICAgLS10Zy1vbi10cmFjay1ib3JkZXItcmVzdDogdHJhbnNwYXJlbnQ7XFxyXFxuICAgIC0tdGctb24tdHJhY2stYm9yZGVyLWhvdmVyOiB0cmFuc3BhcmVudDtcXHJcXG4gICAgLS10Zy1vbi10cmFjay1iZy1yZXN0OiB2YXIoLS1jb2xvci1wcmltYXJ5KTtcXHJcXG4gICAgLS10Zy1vbi1rbm9iLWJnOiB3aGl0ZTtcXHJcXG5cXHJcXG4gICAgLypcXHJcXG4gICAgICogREFOR0VSIFpPTkVcXHJcXG4gICAgICogXFxyXFxuICAgICAqIEJlbG93IGFyZSByYXcgc3R5bGVzLlxcclxcbiAgICAgKiBBbHdheXMgdXNlIHRoZSBzdHlsZXMgYWJvdmUgZmlyc3QuXFxyXFxuICAgICAqIFVzZSB0aGUgc3R5bGVzIGJlbG93IG9ubHkgYXMgYW4gZXNjYXBlIGhhdGNoLlxcclxcbiAgICAgKiBJZiBub25lIG9mIHRoZSBzdHlsZXMgYWJvdmUgbWVldHMgeW91ciBnb2FsLFxcclxcbiAgICAgKiBhc2sgeW91cnNlbGYgaWYgeW91IGFyZSBicmVha2luZyB0aGUgZGVzaWduIHN5c3RlbS5cXHJcXG4gICAgKi9cXHJcXG5cXHJcXG4gICAgLyogQ29sb3IgKi9cXHJcXG4gICAgLS1jb2xvci1ncmV5LTEwOiAjRjhGOEY5O1xcclxcbiAgICAtLWNvbG9yLWdyZXktMjA6ICNGMUYyRjQ7XFxyXFxuICAgIC0tY29sb3ItZ3JleS0zMDogI0U4RUFFQztcXHJcXG4gICAgLS1jb2xvci1ncmV5LTQwOiAjRDhEQURFO1xcclxcbiAgICAtLWNvbG9yLWdyZXktNTA6ICNDRUQwRDQ7XFxyXFxuICAgIC0tY29sb3ItZ3JleS02MDogI0M2QzhDQztcXHJcXG4gICAgLS1jb2xvci1ncmV5LTkwOiAjQTRBNkFDO1xcclxcbiAgICAtLWNvbG9yLWdyZXktMTMwOiAjNkU2Rjc3O1xcclxcbiAgICAtLWNvbG9yLWdyZXktMTUwOiAjM0EzQzQyO1xcclxcbiAgICAtLWNvbG9yLWdyZXktMTYwOiAjMzEzMzNBO1xcclxcbiAgICAtLWNvbG9yLWdyZXktMTkwOiAjMUYyMTI2O1xcclxcblxcclxcbiAgICAvKiBEZXB0aCAqL1xcclxcbiAgICAtLWRlcHRoLTE6IDBweCAwcHggMS44cHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMHB4IDMuMnB4IDMuNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcXHJcXG4gICAgLS1kZXB0aC0yOiAwcHggMS4ycHggMy42cHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMHB4IDYuNHB4IDcuMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcXHJcXG4gICAgLS1kZXB0aC0zOiAwcHggMi40cHggNy4ycHggcmdiYSgwLCAwLCAwLCAwLjA4KSwgMHB4IDEyLjhweCAyOC44cHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcXHJcXG4gICAgLS1kZXB0aC00OiAwcHggNC44cHggMTQuNHB4IHJnYmEoMCwgMCwgMCwgMC4wOCksIDBweCAyNS42cHggNTcuNnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XFxyXFxuXFxyXFxuICAgIC8qIEZvbnQgd2VpZ2h0cyAqL1xcclxcbiAgICAtLWZ3LW5vcm1hbDogNDAwO1xcclxcbiAgICAtLWZ3LXNlbWlib2xkOiA2MDA7XFxyXFxuXFxyXFxuICAgIC8qIEZvbnQgZmFtaWxpZXMgKi9cXHJcXG4gICAgLS1mZi1zZWdvZS11aTogJ1NlZ29lIFVJJyxTZWdvZSxUYWhvbWEsQXJpYWwsVmVyZGFuYSxzYW5zLXNlcmlmO1xcclxcbiAgICAtLWZmLW1kbDI6ICdGdWxsIE1ETDIgQXNzZXRzJztcXHJcXG5cXHJcXG4gICAgLyogR2VvbWV0cnkgKi9cXHJcXG4gICAgLS1ib3JkZXItcmFkaXVzOiAycHg7XFxyXFxuICAgIC0tYm9yZGVyLXdpZHRoOiAxcHg7XFxyXFxuXFxyXFxuICAgIC8qIExldHRlciBzcGFjaW5nICovXFxyXFxuICAgIC0tbHMtcC0wMDI6IDAuMDJlbTtcXHJcXG4gICAgLS1scy1wLTAwMDU6IDAuMDA1ZW07XFxyXFxuICAgIC0tbHMtbS0wMDA2OiAtMC4wMDZlbTtcXHJcXG5cXHJcXG4gICAgLyogU2NhbGUgKi9cXHJcXG4gICAgLS1zY2FsZS0xMjogLjc1cmVtO1xcclxcbiAgICAtLXNjYWxlLTE0OiAuODc1cmVtO1xcclxcbiAgICAtLXNjYWxlLTE2OiAxcmVtO1xcclxcbiAgICAtLXNjYWxlLTIwOiAxLjI1cmVtO1xcclxcbiAgICAtLXNjYWxlLTI0OiAxLjVyZW07XFxyXFxuICAgIC0tc2NhbGUtMjg6IDEuNzVyZW07XFxyXFxuICAgIC0tc2NhbGUtMzQ6IDIuMTI1cmVtO1xcclxcbiAgICAtLXNjYWxlLTQwOiAyLjVyZW07XFxyXFxuICAgIC0tc2NhbGUtNDg6IDNyZW07XFxyXFxuICAgIC0tc2NhbGUtNjA6IDMuNzVyZW07XFxyXFxuXFxyXFxuICAgIC8qIFRpbWluZyAqL1xcclxcbiAgICAtLXQtMjAwOiAyMDBtcztcXHJcXG59XFxyXFxuXFxyXFxuYm9keVtkYXRhLXRoZW1lPVxcXCJkaWdpdGFsLWJsdWVcXFwiXSB7XFxyXFxuICAgIC0tY29sb3ItcHJpbWFyeTogIzIyNjZFMztcXHJcXG4gICAgLS1jb2xvci1wcmltYXJ5LWNvbnRyYXN0OiB3aGl0ZTtcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW50ZXJhY3Rpb24tbGFiLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbnRlcmFjdGlvbi1sYWIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbnRlcmFjdGlvbi1sYWIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxyXFxuICAtLWxhYi1saW5rLXJlc3QtY29sb3I6ICM3Nzc7XFxyXFxuICAtLWxhYi1saW5rLWFjdGl2ZS1jb2xvcjogIzIyNjZFMztcXHJcXG4gIC0tcGFnZS1zaWRlLXBhZGRpbmc6IDFyZW07XFxyXFxuICAtLWxlZnQtbmF2LXdpZHRoOiAxMHJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1kZW1vLWJyb3dzZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1kZW1vLWJyb3dzZXJfX25hdiB7XFxyXFxuICBmbGV4OiAwIDAgYXV0bztcXHJcXG4gIGhlaWdodDogMTAwdmg7XFxyXFxuICBvdmVyZmxvdy15OiBhdXRvO1xcclxcbiAgd2lkdGg6IHZhcigtLWxlZnQtbmF2LXdpZHRoKTtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgcGFkZGluZzogMXJlbSB2YXIoLS1wYWdlLXNpZGUtcGFkZGluZyk7XFxyXFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjREREO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1kZW1vLWJyb3dzZXJfX2NvbnRlbnQge1xcclxcbiAgZmxleDogMSAxIGF1dG87XFxyXFxuICBoZWlnaHQ6IDEwMHZoO1xcclxcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1saW5rIHtcXHJcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gIGNvbG9yOiB2YXIoLS1sYWItbGluay1yZXN0LWNvbG9yKTtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1saW5rLS1hY3RpdmUge1xcclxcbiAgY29sb3I6IHZhcigtLWxhYi1saW5rLWFjdGl2ZS1jb2xvcik7XFxyXFxuICBmb250LXdlaWdodDogNjAwO1xcclxcbn1cXHJcXG5cXHJcXG4ubGFiLWxpbmstLWhvcml6b250YWwtbGlzdDpob3ZlciB7XFxyXFxuICBjb2xvcjogdmFyKC0tbGFiLWxpbmstYWN0aXZlLWNvbG9yKTtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1saW5rLS1ob3Jpem9udGFsLWxpc3QgKyAubGFiLWxpbmstLWhvcml6b250YWwtbGlzdDo6YmVmb3JlIHtcXHJcXG4gIGNvbnRlbnQ6ICdcXFxcQTBcXFxcQjdcXFxcQTAnO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4ubGFiLWxpbmstLXZlcnRpY2FsLWxpc3QubGFiLWxpbmstLWFjdGl2ZTo6YmVmb3JlIHtcXHJcXG4gIGNvbnRlbnQ6ICdcXFxcMjVCOCc7XFxyXFxuICBsaW5lLWhlaWdodDogMDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1saW5rLS12ZXJ0aWNhbC1saXN0OmhvdmVyOjpiZWZvcmUge1xcclxcbiAgY29udGVudDogJ1xcXFwyNUI4JztcXHJcXG4gIGxpbmUtaGVpZ2h0OiAwO1xcclxcbn1cXHJcXG5cXHJcXG4ubGFiLWgxIHtcXHJcXG4gIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gIG1hcmdpbjogMDtcXHJcXG4gIGNvbG9yOiAjMjI2NkUzO1xcclxcbiAgcGFkZGluZzogMCB2YXIoLS1wYWdlLXNpZGUtcGFkZGluZyk7XFxyXFxuICBmb250LXdlaWdodDogMzAwO1xcclxcbn1cXHJcXG5cXHJcXG4ubGFiLWgyIHtcXHJcXG4gIG1hcmdpbjogMDtcXHJcXG4gIGNvbG9yOiAjRUVFO1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjtcXHJcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcXHJcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxyXFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcclxcbiAgcGFkZGluZzogMCB2YXIoLS1wYWdlLXNpZGUtcGFkZGluZyk7XFxyXFxufVxcclxcblxcclxcbi5sYWItaDMge1xcclxcbiAgZGlzcGxheTogaW5saW5lO1xcclxcbiAgbWFyZ2luLXJpZ2h0OiAwLjVlbTtcXHJcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYi1zZWN0aW9uIHtcXHJcXG4gIHBhZGRpbmc6IDAgdmFyKC0tcGFnZS1zaWRlLXBhZGRpbmcpO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBzcGFjZXIgKi9cXHJcXG4ubGFiLXM1MCB7XFxyXFxuICBoZWlnaHQ6IC41cmVtO1xcclxcbn1cXHJcXG4ubGFiLXMxMDAge1xcclxcbiAgaGVpZ2h0OiAxcmVtO1xcclxcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHN0eWxlZDsiLCJ2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IGludmFyaWFudCBmcm9tIFwiaW52YXJpYW50XCI7XG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvbiB9IGZyb20gXCJoaXN0b3J5XCI7XG5cbnZhciBpc01vZGlmaWVkRXZlbnQgPSBmdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpO1xufTtcblxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgcmVuZGVyaW5nIGEgaGlzdG9yeS1hd2FyZSA8YT4uXG4gKi9cblxudmFyIExpbmsgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTGluaywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGluaygpIHtcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmspO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbGljaykgX3RoaXMucHJvcHMub25DbGljayhldmVudCk7XG5cbiAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCAmJiAvLyBvbkNsaWNrIHByZXZlbnRlZCBkZWZhdWx0XG4gICAgICBldmVudC5idXR0b24gPT09IDAgJiYgLy8gaWdub3JlIGV2ZXJ5dGhpbmcgYnV0IGxlZnQgY2xpY2tzXG4gICAgICAhX3RoaXMucHJvcHMudGFyZ2V0ICYmIC8vIGxldCBicm93c2VyIGhhbmRsZSBcInRhcmdldD1fYmxhbmtcIiBldGMuXG4gICAgICAhaXNNb2RpZmllZEV2ZW50KGV2ZW50KSAvLyBpZ25vcmUgY2xpY2tzIHdpdGggbW9kaWZpZXIga2V5c1xuICAgICAgKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHZhciBoaXN0b3J5ID0gX3RoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeTtcbiAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgcmVwbGFjZSA9IF90aGlzJHByb3BzLnJlcGxhY2UsXG4gICAgICAgICAgICAgIHRvID0gX3RoaXMkcHJvcHMudG87XG5cblxuICAgICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2UodG8pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaXN0b3J5LnB1c2godG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgTGluay5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICByZXBsYWNlID0gX3Byb3BzLnJlcGxhY2UsXG4gICAgICAgIHRvID0gX3Byb3BzLnRvLFxuICAgICAgICBpbm5lclJlZiA9IF9wcm9wcy5pbm5lclJlZixcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbXCJyZXBsYWNlXCIsIFwidG9cIiwgXCJpbm5lclJlZlwiXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIGludmFyaWFudCh0aGlzLmNvbnRleHQucm91dGVyLCBcIllvdSBzaG91bGQgbm90IHVzZSA8TGluaz4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpO1xuXG4gICAgaW52YXJpYW50KHRvICE9PSB1bmRlZmluZWQsICdZb3UgbXVzdCBzcGVjaWZ5IHRoZSBcInRvXCIgcHJvcGVydHknKTtcblxuICAgIHZhciBoaXN0b3J5ID0gdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5O1xuXG4gICAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gY3JlYXRlTG9jYXRpb24odG8sIG51bGwsIG51bGwsIGhpc3RvcnkubG9jYXRpb24pIDogdG87XG5cbiAgICB2YXIgaHJlZiA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIF9leHRlbmRzKHt9LCBwcm9wcywgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLCBocmVmOiBocmVmLCByZWY6IGlubmVyUmVmIH0pKTtcbiAgfTtcblxuICByZXR1cm4gTGluaztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuTGluay5wcm9wVHlwZXMgPSB7XG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICB0YXJnZXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHJlcGxhY2U6IFByb3BUeXBlcy5ib29sLFxuICB0bzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLmlzUmVxdWlyZWQsXG4gIGlubmVyUmVmOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pXG59O1xuTGluay5kZWZhdWx0UHJvcHMgPSB7XG4gIHJlcGxhY2U6IGZhbHNlXG59O1xuTGluay5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBoaXN0b3J5OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgcHVzaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIHJlcGxhY2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBjcmVhdGVIcmVmOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgfSkuaXNSZXF1aXJlZFxuICB9KS5pc1JlcXVpcmVkXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IExpbms7IiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCBSb3V0ZSBmcm9tIFwiLi9Sb3V0ZVwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIi4vTGlua1wiO1xuXG4vKipcbiAqIEEgPExpbms+IHdyYXBwZXIgdGhhdCBrbm93cyBpZiBpdCdzIFwiYWN0aXZlXCIgb3Igbm90LlxuICovXG52YXIgTmF2TGluayA9IGZ1bmN0aW9uIE5hdkxpbmsoX3JlZikge1xuICB2YXIgdG8gPSBfcmVmLnRvLFxuICAgICAgZXhhY3QgPSBfcmVmLmV4YWN0LFxuICAgICAgc3RyaWN0ID0gX3JlZi5zdHJpY3QsXG4gICAgICBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG4gICAgICBhY3RpdmVDbGFzc05hbWUgPSBfcmVmLmFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgYWN0aXZlU3R5bGUgPSBfcmVmLmFjdGl2ZVN0eWxlLFxuICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgZ2V0SXNBY3RpdmUgPSBfcmVmLmlzQWN0aXZlLFxuICAgICAgYXJpYUN1cnJlbnQgPSBfcmVmW1wiYXJpYS1jdXJyZW50XCJdLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJ0b1wiLCBcImV4YWN0XCIsIFwic3RyaWN0XCIsIFwibG9jYXRpb25cIiwgXCJhY3RpdmVDbGFzc05hbWVcIiwgXCJjbGFzc05hbWVcIiwgXCJhY3RpdmVTdHlsZVwiLCBcInN0eWxlXCIsIFwiaXNBY3RpdmVcIiwgXCJhcmlhLWN1cnJlbnRcIl0pO1xuXG4gIHZhciBwYXRoID0gKHR5cGVvZiB0byA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHRvKSkgPT09IFwib2JqZWN0XCIgPyB0by5wYXRobmFtZSA6IHRvO1xuXG4gIC8vIFJlZ2V4IHRha2VuIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9waWxsYXJqcy9wYXRoLXRvLXJlZ2V4cC9ibG9iL21hc3Rlci9pbmRleC5qcyNMMjAyXG4gIHZhciBlc2NhcGVkUGF0aCA9IHBhdGggJiYgcGF0aC5yZXBsYWNlKC8oWy4rKj89XiE6JHt9KClbXFxdfC9cXFxcXSkvZywgXCJcXFxcJDFcIik7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICBwYXRoOiBlc2NhcGVkUGF0aCxcbiAgICBleGFjdDogZXhhY3QsXG4gICAgc3RyaWN0OiBzdHJpY3QsXG4gICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihfcmVmMikge1xuICAgICAgdmFyIGxvY2F0aW9uID0gX3JlZjIubG9jYXRpb24sXG4gICAgICAgICAgbWF0Y2ggPSBfcmVmMi5tYXRjaDtcblxuICAgICAgdmFyIGlzQWN0aXZlID0gISEoZ2V0SXNBY3RpdmUgPyBnZXRJc0FjdGl2ZShtYXRjaCwgbG9jYXRpb24pIDogbWF0Y2gpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCBfZXh0ZW5kcyh7XG4gICAgICAgIHRvOiB0byxcbiAgICAgICAgY2xhc3NOYW1lOiBpc0FjdGl2ZSA/IFtjbGFzc05hbWUsIGFjdGl2ZUNsYXNzTmFtZV0uZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0pLmpvaW4oXCIgXCIpIDogY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogaXNBY3RpdmUgPyBfZXh0ZW5kcyh7fSwgc3R5bGUsIGFjdGl2ZVN0eWxlKSA6IHN0eWxlLFxuICAgICAgICBcImFyaWEtY3VycmVudFwiOiBpc0FjdGl2ZSAmJiBhcmlhQ3VycmVudCB8fCBudWxsXG4gICAgICB9LCByZXN0KSk7XG4gICAgfVxuICB9KTtcbn07XG5cbk5hdkxpbmsucHJvcFR5cGVzID0ge1xuICB0bzogTGluay5wcm9wVHlwZXMudG8sXG4gIGV4YWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgc3RyaWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgbG9jYXRpb246IFByb3BUeXBlcy5vYmplY3QsXG4gIGFjdGl2ZUNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBhY3RpdmVTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGlzQWN0aXZlOiBQcm9wVHlwZXMuZnVuYyxcbiAgXCJhcmlhLWN1cnJlbnRcIjogUHJvcFR5cGVzLm9uZU9mKFtcInBhZ2VcIiwgXCJzdGVwXCIsIFwibG9jYXRpb25cIiwgXCJkYXRlXCIsIFwidGltZVwiLCBcInRydWVcIl0pXG59O1xuXG5OYXZMaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgYWN0aXZlQ2xhc3NOYW1lOiBcImFjdGl2ZVwiLFxuICBcImFyaWEtY3VycmVudFwiOiBcInBhZ2VcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgTmF2TGluazsiXSwic291cmNlUm9vdCI6IiJ9