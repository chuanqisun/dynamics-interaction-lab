(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{56:function(e,t,n){"use strict";n.r(t);var l,a=n(30),o=n(0),i=n(27),s=n.n(i),r=n(33),c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function l(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)}}(),m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},u={titleWidth:160,shellHeight:48,shellDividerSideMargin:8,shellDividerVerticalMargin:16,dividerStrokeWidth:1},h=function(e){function t(t){var n=e.call(this,t)||this;return n.updateDimensions=function(){n.reflowItems()},n.reflowItems=function(){for(var e,t,l={dynamicsDisplayStack:n.props.dynamicsDisplayStack.slice(),systemDisplayStack:n.props.systemDisplayStack.slice(),dynamicsOverflowStack:[],systemOverflowStack:[],customOverflowStack:n.props.customOverflowStack.slice()};n.canReduce(l)&&n.getRemainingSpace(l)<0;)l.dynamicsDisplayStack.length?(e=[l.dynamicsDisplayStack,[]],l.dynamicsOverflowStack=e[0],l.dynamicsDisplayStack=e[1]):(t=[l.systemDisplayStack,[]],l.systemOverflowStack=t[0],l.systemDisplayStack=t[1]);n.setState(l)},n.canReduce=function(e){return e.dynamicsDisplayStack.length+e.systemDisplayStack.length>0},n.editable=function(e){return e&&(e.contentEditable=!0)&&(e.spellcheck=!1)},n.getRemainingSpace=function(e){var t=u.shellHeight,n=u.titleWidth,l=u.shellHeight,a=u.shellHeight*e.dynamicsDisplayStack.length,o=1!==e.customOverflowStack.length||e.dynamicsOverflowStack.length||e.systemOverflowStack.length?0:u.shellHeight,i=e.customOverflowStack.length+e.dynamicsOverflowStack.length+e.systemOverflowStack.length>1?u.shellHeight:0,s=e.systemDisplayStack.length?2*u.shellDividerSideMargin+u.dividerStrokeWidth:0,r=u.shellHeight*e.systemDisplayStack.length,c=u.shellHeight;return window.innerWidth-(t+n+l+a+o+i+s+r+c)},n.getOverflowItems=function(e){return e.customOverflowStack.concat(e.dynamicsOverflowStack,e.systemOverflowStack)},n.toggleOverflowMenu=function(){n.setState({showOverflowMenu:!n.state.showOverflowMenu})},n.state={showOverflowMenu:!1,dynamicsDisplayStack:n.props.dynamicsDisplayStack.slice(),systemDisplayStack:n.props.systemDisplayStack.slice(),dynamicsOverflowStack:[],systemOverflowStack:[],customOverflowStack:n.props.customOverflowStack.slice()},n}return c(t,e),t.prototype.componentDidMount=function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions)},t.prototype.componentDidUpdate=function(e){e.customOverflowStack!==this.props.customOverflowStack&&this.updateDimensions()},t.prototype.render=function(){return o.createElement(p,null,o.createElement("button",{className:"shell-icon-button shell-icon-button--waffle"},r.a.WaffleOffice365),o.createElement("div",{className:"shell-title",ref:this.editable},"Sales"),o.createElement("button",{className:"shell-icon-button"},r.a.Search),this.state.dynamicsDisplayStack.map(function(e){return o.createElement("button",{key:e.label,className:"shell-icon-button"},e.icon)}),this.getOverflowItems(this.state).length>1?o.createElement("button",{onClick:this.toggleOverflowMenu,className:"shell-icon-button shell-icon-button--more"},r.a.More,this.state.showOverflowMenu?o.createElement("div",{className:"overflow-menu"},this.state.dynamicsOverflowStack.concat(this.state.customOverflowStack).map(function(e){return o.createElement("div",{key:e.label,className:"menu-row"},o.createElement("span",{className:"menu-row__icon"},e.icon),o.createElement("span",{className:"menu-row__text"},e.label))}),this.state.systemOverflowStack.length?o.createElement("div",{className:"menu-divider"}):null,this.state.systemOverflowStack.map(function(e){return o.createElement("div",{key:e.label,className:"menu-row"},o.createElement("span",{className:"menu-row__icon"},e.icon),o.createElement("span",{className:"menu-row__text"},e.label))})):null):this.getOverflowItems(this.state).length>0?o.createElement("button",{className:"shell-icon-button"},this.state.customOverflowStack[0].icon):null,this.state.systemDisplayStack.length?o.createElement("div",{className:"shell-divider"}):null,this.state.systemDisplayStack.map(function(e){return o.createElement("button",{key:e.label,className:"shell-icon-button"},e.icon)}),o.createElement("button",{className:"shell-icon-button shell-icon-button--avatar"},o.createElement("img",{className:"avatar",alt:"your avatar",src:this.props.avatarImgUrl})))},t}(o.Component),p=s.a.header(l||(l=m(["\n  color: white;\n  display: flex;\n  align-items: center;\n  height: ","px;\n  background-color: #002050;\n\n  .overflow-menu {\n    background-color: white;\n    color: black;\n    font-family: var(--ff-segoe-ui);\n    position: absolute;\n    top: ","px;\n    right: 0;\n    box-shadow: 0 3.2px 7.2px 0 rgba(0,0,0,.132), 0 0.6px 1.8px 0 rgba(0,0,0,.108);\n  }\n\n  .menu-row__text {\n    white-space: nowrap;\n  }\n\n  .menu-row {\n    display: flex;\n    margin: 16px 16px;\n    align-items: center;\n  }\n\n  .menu-row__icon {\n    font-family: var(--ff-mdl2);\n    flex: 0 0 16px;\n    margin-right: 16px;\n  }\n\n  .menu-divider {\n    height: 1px;\n    background-color: rgba(0,0,0,0.25);\n  }\n\n  .shell-divider {\n    align-self: stretch;\n    margin: ","px ","px;\n    width: ","px;\n    flex: 0 0 auto;\n    background-color: rgba(255,255,255,0.55);\n  }\n\n  .shell-title {\n    flex: 1 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    font-weight: 600;\n  }\n\n  .shell-icon-button {\n    background-color: transparent;\n    flex: 0 0 auto;\n    color: white;\n    border: none;\n    font-size: 16px;\n    font-family: var(--ff-mdl2);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: ","px;\n    width: ","px;\n  }\n\n  .shell-icon-button--avatar {\n    height: ","px;\n    width: ","px;\n    box-sizing: border-box;\n\n    .avatar {\n      border-radius: 50%;\n      height: calc(0.6*","px);\n      width: calc(0.6*","px);\n      box-sizing: border-box;\n    }\n  }\n\n  .shell-icon-button--more {\n    position: relative;\n  }\n"],["\n  color: white;\n  display: flex;\n  align-items: center;\n  height: ","px;\n  background-color: #002050;\n\n  .overflow-menu {\n    background-color: white;\n    color: black;\n    font-family: var(--ff-segoe-ui);\n    position: absolute;\n    top: ","px;\n    right: 0;\n    box-shadow: 0 3.2px 7.2px 0 rgba(0,0,0,.132), 0 0.6px 1.8px 0 rgba(0,0,0,.108);\n  }\n\n  .menu-row__text {\n    white-space: nowrap;\n  }\n\n  .menu-row {\n    display: flex;\n    margin: 16px 16px;\n    align-items: center;\n  }\n\n  .menu-row__icon {\n    font-family: var(--ff-mdl2);\n    flex: 0 0 16px;\n    margin-right: 16px;\n  }\n\n  .menu-divider {\n    height: 1px;\n    background-color: rgba(0,0,0,0.25);\n  }\n\n  .shell-divider {\n    align-self: stretch;\n    margin: ","px ","px;\n    width: ","px;\n    flex: 0 0 auto;\n    background-color: rgba(255,255,255,0.55);\n  }\n\n  .shell-title {\n    flex: 1 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    font-weight: 600;\n  }\n\n  .shell-icon-button {\n    background-color: transparent;\n    flex: 0 0 auto;\n    color: white;\n    border: none;\n    font-size: 16px;\n    font-family: var(--ff-mdl2);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: ","px;\n    width: ","px;\n  }\n\n  .shell-icon-button--avatar {\n    height: ","px;\n    width: ","px;\n    box-sizing: border-box;\n\n    .avatar {\n      border-radius: 50%;\n      height: calc(0.6*","px);\n      width: calc(0.6*","px);\n      box-sizing: border-box;\n    }\n  }\n\n  .shell-icon-button--more {\n    position: relative;\n  }\n"])),u.shellHeight,u.shellHeight,u.shellDividerVerticalMargin,u.shellDividerSideMargin,u.dividerStrokeWidth,u.shellHeight,u.shellHeight,u.shellHeight,u.shellHeight,u.shellHeight,u.shellHeight);n.d(t,"TopNavDemo",function(){return g});var f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function l(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(l.prototype=n.prototype,new l)}}(),d=[{icon:r.a.TBX,label:"Task flow"},{icon:r.a.ToolTip,label:"Relationship Assistant"},{icon:r.a.Add,label:"Create"}],w=[{icon:r.a.Settings,label:"Settings"},{icon:r.a.Help,label:"Help"}],g=function(e){function t(t){var n=e.call(this,t)||this;return n.addCustomItem=function(){var e=n.state.customOverflowStack.concat([{icon:r.a.Emoji2,label:"Custom "+n.state.customOverflowStack.length}]);n.setState({customOverflowStack:e})},n.removeCustomItem=function(){var e=n.state.customOverflowStack.slice();e.pop(),n.setState({customOverflowStack:e})},n.state={customOverflowStack:[{icon:r.a.Emoji2,label:"Custom 0"}]},n}return f(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement("section",null,a.createElement("h2",null,"Sample"),a.createElement(h,{avatarImgUrl:"https://api.adorable.io/avatars/285/abott@adorable.png",dynamicsDisplayStack:d,systemDisplayStack:w,customOverflowStack:this.state.customOverflowStack})),a.createElement("section",null,a.createElement("h2",null,"Usage"),a.createElement("section",{style:{marginTop:"16px"}},a.createElement("span",null,"Custom actions: "),a.createElement("button",{onClick:this.removeCustomItem},"-"),a.createElement("span",null," ",this.state.customOverflowStack.length," "),a.createElement("button",{onClick:this.addCustomItem},"+")),a.createElement("section",null,a.createElement("h3",null,"Design notes"),a.createElement("ul",null,a.createElement("li",null,"This prototype only shows browser behavior. Shim experience is out of scope"),a.createElement("li",null,"When viewport narrows, Dynamics actions (task flow, relationship assistance, create) collapse first, then System buttons (help, settings) next"),a.createElement("li",null,"Custom actions are always collapsed except when there is only one"),a.createElement("li",null,"The System buttons are either all collapsed or all expanded"),a.createElement("li",null,"The Dynamics actions are either all collapsed or all expanded")))))},t}(a.Component);t.default=g}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90b3AtbmF2L3RvcC1uYXYudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvcC1uYXYvdG9wLW5hdi5kZW1vLnRzeCJdLCJuYW1lcyI6WyJjb25zdGFudHMiLCJ0aXRsZVdpZHRoIiwic2hlbGxIZWlnaHQiLCJzaGVsbERpdmlkZXJTaWRlTWFyZ2luIiwic2hlbGxEaXZpZGVyVmVydGljYWxNYXJnaW4iLCJkaXZpZGVyU3Ryb2tlV2lkdGgiLCJ0b3BfbmF2X1RvcE5hdiIsIl9zdXBlciIsIlRvcE5hdiIsInByb3BzIiwiX3RoaXMiLCJjYWxsIiwidGhpcyIsInVwZGF0ZURpbWVuc2lvbnMiLCJyZWZsb3dJdGVtcyIsInBsYW4iLCJkeW5hbWljc0Rpc3BsYXlTdGFjayIsInNsaWNlIiwic3lzdGVtRGlzcGxheVN0YWNrIiwiZHluYW1pY3NPdmVyZmxvd1N0YWNrIiwic3lzdGVtT3ZlcmZsb3dTdGFjayIsImN1c3RvbU92ZXJmbG93U3RhY2siLCJjYW5SZWR1Y2UiLCJnZXRSZW1haW5pbmdTcGFjZSIsImxlbmd0aCIsIl9hIiwiX2IiLCJzZXRTdGF0ZSIsImVkaXRhYmxlIiwiZSIsImNvbnRlbnRFZGl0YWJsZSIsInNwZWxsY2hlY2siLCJ3YWZmbGUiLCJzZWFyY2giLCJkeW5hbWljc0FjdGlvbnMiLCJjdXN0b21BY3Rpb24iLCJvdmVyZmxvd01lbnUiLCJkaXZpZGVyIiwic3lzdGVtQWN0aW9ucyIsIm1lIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImdldE92ZXJmbG93SXRlbXMiLCJjdXJyZW50U3RhdGUiLCJjb25jYXQiLCJ0b2dnbGVPdmVyZmxvd01lbnUiLCJzaG93T3ZlcmZsb3dNZW51Iiwic3RhdGUiLCJfX2V4dGVuZHMiLCJwcm90b3R5cGUiLCJjb21wb25lbnREaWRNb3VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJyZW5kZXIiLCJleHRlcm5hbF9SZWFjdF8iLCJTdHlsZWRIZWFkZXIiLCJjbGFzc05hbWUiLCJmdWxsX21kbDIiLCJXYWZmbGVPZmZpY2UzNjUiLCJyZWYiLCJTZWFyY2giLCJtYXAiLCJpdGVtIiwia2V5IiwibGFiZWwiLCJpY29uIiwib25DbGljayIsIk1vcmUiLCJhbHQiLCJzcmMiLCJhdmF0YXJJbWdVcmwiLCJleHRlcm5hbF9zdHlsZWRfZGVmYXVsdCIsImEiLCJoZWFkZXIiLCJ0ZW1wbGF0ZU9iamVjdF8xIiwiX19tYWtlVGVtcGxhdGVPYmplY3QiLCJUQlgiLCJUb29sVGlwIiwiQWRkIiwiU2V0dGluZ3MiLCJIZWxwIiwidG9wX25hdl9kZW1vX1RvcE5hdkRlbW8iLCJUb3BOYXZEZW1vIiwiYWRkQ3VzdG9tSXRlbSIsIm5ld1N0YWNrIiwiRW1vamkyIiwicmVtb3ZlQ3VzdG9tSXRlbSIsInBvcCIsInRvcF9uYXZfZGVtb19leHRlbmRzIiwiUmVhY3QiLCJzdHlsZSIsIm1hcmdpblRvcCIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiIyakJBTU1BLEdBQ0pDLFdBQVksSUFDWkMsWUFBYSxHQUNiQyx1QkFBd0IsRUFDeEJDLDJCQUE0QixHQUM1QkMsbUJBQW9CLEdBZ0N0QkMsRUFBQSxTQUFBQyxHQUNFLFNBQUFDLEVBQVlDLEdBQVosSUFBQUMsRUFDRUgsRUFBQUksS0FBQUMsS0FBTUgsSUFBTUcsWUFZZEYsRUFBQUcsaUJBQW1CLFdBQ2pCSCxFQUFLSSxlQUdQSixFQUFBSSxZQUFjLFdBU1osWUFSTUMsR0FDSkMscUJBQTBCTixFQUFLRCxNQUFNTyxxQkFBb0JDLFFBQ3pEQyxtQkFBd0JSLEVBQUtELE1BQU1TLG1CQUFrQkQsUUFDckRFLHlCQUNBQyx1QkFDQUMsb0JBQXlCWCxFQUFLRCxNQUFNWSxvQkFBbUJKLFNBR2xEUCxFQUFLWSxVQUFVUCxJQUFTTCxFQUFLYSxrQkFBa0JSLEdBQVEsR0FDeERBLEVB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LEtBQ3RCQSxFQUFBLDZCQUNFQSxFQUFBLGtDQUNBQSxFQUFBLGNBQUN0RixHQUFPbUUsYUFBYSx5REFBeUR6RCxxQkFBc0JBLEVBQXNCRSxtQkFBb0JBLEVBQW9CRyxvQkFBcUJULEtBQUttQyxNQUFNMUIsdUJBRXBNdUUsRUFBQSw2QkFDRUEsRUFBQSxpQ0FDQUEsRUFBQSx5QkFBU0MsT0FBUUMsVUFBVyxTQUMxQkYsRUFBQSw4Q0FDQUEsRUFBQSx3QkFBUXZCLFFBQVN6RCxLQUFLNkUsa0JBQWdCLEtBQ3RDRyxFQUFBLDhCQUFRaEYsS0FBS21DLE1BQU0xQixvQkFBb0JHLFlBQ3ZDb0UsRUFBQSx3QkFBUXZCLFFBQVN6RCxLQUFLMEUsZUFBYSxNQUVyQ00sRUFBQSw2QkFDRUEsRUFBQSx3Q0FDQUEsRUFBQSx3QkFDRUEsRUFBQSx1R0FDQUEsRUFBQSwwS0FDQUEsRUFBQSw2RkFDQUEsRUFBQSx1RkFDQUEsRUFBQSw4RkFNVlAsRUE5Q0EsQ0FBZ0NPLEVBQUEsV0FnRGpCRyxFQUFBIiwiZmlsZSI6IjEyLjhlYjMwMzlhOWYxYjA0YTBkOWQxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcclxuaW1wb3J0IHtGdWxsTWRsMn0gZnJvbSAnLi4vLi4vc3R5bGVzL2ljb24vZnVsbC1tZGwyJztcclxuXHJcblxyXG4vLyBUb2RvLCBtb3ZlIHRvIHRoZSByaWdodCBwbGFjZVxyXG5jb25zdCBjb25zdGFudHMgPSB7XHJcbiAgdGl0bGVXaWR0aDogMTYwLFxyXG4gIHNoZWxsSGVpZ2h0OiA0OCxcclxuICBzaGVsbERpdmlkZXJTaWRlTWFyZ2luOiA4LFxyXG4gIHNoZWxsRGl2aWRlclZlcnRpY2FsTWFyZ2luOiAxNixcclxuICBkaXZpZGVyU3Ryb2tlV2lkdGg6IDEsXHJcbn07XHJcblxyXG5pbnRlcmZhY2UgSXRlbSB7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBpY29uOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBSZWZsb3dQbGFuIHtcclxuICBkeW5hbWljc0Rpc3BsYXlTdGFjazogSXRlbVtdO1xyXG4gIHN5c3RlbURpc3BsYXlTdGFjazogSXRlbVtdO1xyXG4gIGR5bmFtaWNzT3ZlcmZsb3dTdGFjazogSXRlbVtdO1xyXG4gIHN5c3RlbU92ZXJmbG93U3RhY2s6IEl0ZW1bXTtcclxuICBjdXN0b21PdmVyZmxvd1N0YWNrOiBJdGVtW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBUb3BOYXZTdGF0ZSB7XHJcbiAgc2hvd092ZXJmbG93TWVudTogYm9vbGVhbixcclxuICBkeW5hbWljc0Rpc3BsYXlTdGFjazogSXRlbVtdO1xyXG4gIHN5c3RlbURpc3BsYXlTdGFjazogSXRlbVtdO1xyXG4gIGR5bmFtaWNzT3ZlcmZsb3dTdGFjazogSXRlbVtdO1xyXG4gIHN5c3RlbU92ZXJmbG93U3RhY2s6IEl0ZW1bXTtcclxuICBjdXN0b21PdmVyZmxvd1N0YWNrOiBJdGVtW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBUb3BOYXZQcm9wcyB7XHJcbiAgYXZhdGFySW1nVXJsOiBzdHJpbmc7XHJcbiAgZHluYW1pY3NEaXNwbGF5U3RhY2s6IEl0ZW1bXTtcclxuICBzeXN0ZW1EaXNwbGF5U3RhY2s6IEl0ZW1bXTtcclxuICBjdXN0b21PdmVyZmxvd1N0YWNrOiBJdGVtW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb3BOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VG9wTmF2UHJvcHMsIFRvcE5hdlN0YXRlPiB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IFRvcE5hdlByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgc2hvd092ZXJmbG93TWVudTogZmFsc2UsXHJcbiAgICAgIGR5bmFtaWNzRGlzcGxheVN0YWNrOiBbLi4udGhpcy5wcm9wcy5keW5hbWljc0Rpc3BsYXlTdGFja10sXHJcbiAgICAgIHN5c3RlbURpc3BsYXlTdGFjazogWy4uLnRoaXMucHJvcHMuc3lzdGVtRGlzcGxheVN0YWNrXSxcclxuICAgICAgZHluYW1pY3NPdmVyZmxvd1N0YWNrOiBbXSxcclxuICAgICAgc3lzdGVtT3ZlcmZsb3dTdGFjazogW10sXHJcbiAgICAgIGN1c3RvbU92ZXJmbG93U3RhY2s6IFsuLi50aGlzLnByb3BzLmN1c3RvbU92ZXJmbG93U3RhY2tdLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnJlZmxvd0l0ZW1zKCk7XHJcbiAgfVxyXG5cclxuICByZWZsb3dJdGVtcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHBsYW46IFJlZmxvd1BsYW4gPSB7XHJcbiAgICAgIGR5bmFtaWNzRGlzcGxheVN0YWNrOiBbLi4udGhpcy5wcm9wcy5keW5hbWljc0Rpc3BsYXlTdGFja10sXHJcbiAgICAgIHN5c3RlbURpc3BsYXlTdGFjazogWy4uLnRoaXMucHJvcHMuc3lzdGVtRGlzcGxheVN0YWNrXSxcclxuICAgICAgZHluYW1pY3NPdmVyZmxvd1N0YWNrOiBbXSxcclxuICAgICAgc3lzdGVtT3ZlcmZsb3dTdGFjazogW10sXHJcbiAgICAgIGN1c3RvbU92ZXJmbG93U3RhY2s6IFsuLi50aGlzLnByb3BzLmN1c3RvbU92ZXJmbG93U3RhY2tdLFxyXG4gICAgfVxyXG5cclxuICAgIHdoaWxlICh0aGlzLmNhblJlZHVjZShwbGFuKSAmJiB0aGlzLmdldFJlbWFpbmluZ1NwYWNlKHBsYW4pIDwgMCkge1xyXG4gICAgICBpZiAocGxhbi5keW5hbWljc0Rpc3BsYXlTdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAvLyAxLiByZWZsb3cgZHluYW1pY3MgYWN0aW9uc1xyXG4gICAgICAgIFtwbGFuLmR5bmFtaWNzT3ZlcmZsb3dTdGFjaywgcGxhbi5keW5hbWljc0Rpc3BsYXlTdGFja10gPSBbcGxhbi5keW5hbWljc0Rpc3BsYXlTdGFjaywgW11dO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIDIuIHJlZmxvdyBzeXN0ZW0gYWN0aW9uc1xyXG4gICAgICAgIFtwbGFuLnN5c3RlbU92ZXJmbG93U3RhY2ssIHBsYW4uc3lzdGVtRGlzcGxheVN0YWNrXSA9IFtwbGFuLnN5c3RlbURpc3BsYXlTdGFjaywgW11dO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuc2V0U3RhdGUocGxhbik7XHJcbiAgfVxyXG5cclxuICBjYW5SZWR1Y2UgPSAocGxhbjogUmVmbG93UGxhbikgPT4ge1xyXG4gICAgcmV0dXJuIHBsYW4uZHluYW1pY3NEaXNwbGF5U3RhY2subGVuZ3RoICsgcGxhbi5zeXN0ZW1EaXNwbGF5U3RhY2subGVuZ3RoID4gMDtcclxuICB9XHJcblxyXG4gIGVkaXRhYmxlID0gKGU6IGFueSkgPT4gZSAmJiAoZS5jb250ZW50RWRpdGFibGU9dHJ1ZSkgJiYgKGUuc3BlbGxjaGVjaz1mYWxzZSk7XHJcblxyXG4gIGdldFJlbWFpbmluZ1NwYWNlID0gKHBsYW46IFJlZmxvd1BsYW4pID0+IHtcclxuICAgIGNvbnN0IHdhZmZsZSA9IGNvbnN0YW50cy5zaGVsbEhlaWdodDtcclxuICAgIGNvbnN0IHRpdGxlV2lkdGggPSBjb25zdGFudHMudGl0bGVXaWR0aDtcclxuICAgIGNvbnN0IHNlYXJjaCA9IGNvbnN0YW50cy5zaGVsbEhlaWdodDtcclxuICAgIGNvbnN0IGR5bmFtaWNzQWN0aW9ucyA9IGNvbnN0YW50cy5zaGVsbEhlaWdodCAqIHBsYW4uZHluYW1pY3NEaXNwbGF5U3RhY2subGVuZ3RoO1xyXG4gICAgY29uc3QgY3VzdG9tQWN0aW9uID0gKHBsYW4uY3VzdG9tT3ZlcmZsb3dTdGFjay5sZW5ndGggPT09IDEgJiYgIXBsYW4uZHluYW1pY3NPdmVyZmxvd1N0YWNrLmxlbmd0aCAmJiAhcGxhbi5zeXN0ZW1PdmVyZmxvd1N0YWNrLmxlbmd0aCkgPyBjb25zdGFudHMuc2hlbGxIZWlnaHQgOiAwO1xyXG4gICAgY29uc3Qgb3ZlcmZsb3dNZW51ID0gKHBsYW4uY3VzdG9tT3ZlcmZsb3dTdGFjay5sZW5ndGggKyBwbGFuLmR5bmFtaWNzT3ZlcmZsb3dTdGFjay5sZW5ndGggKyBwbGFuLnN5c3RlbU92ZXJmbG93U3RhY2subGVuZ3RoID4gMSkgPyBjb25zdGFudHMuc2hlbGxIZWlnaHQgOiAwO1xyXG4gICAgY29uc3QgZGl2aWRlciA9IHBsYW4uc3lzdGVtRGlzcGxheVN0YWNrLmxlbmd0aCA/IGNvbnN0YW50cy5zaGVsbERpdmlkZXJTaWRlTWFyZ2luICogMiArIGNvbnN0YW50cy5kaXZpZGVyU3Ryb2tlV2lkdGggOiAwO1xyXG4gICAgY29uc3Qgc3lzdGVtQWN0aW9ucyA9IGNvbnN0YW50cy5zaGVsbEhlaWdodCAqIHBsYW4uc3lzdGVtRGlzcGxheVN0YWNrLmxlbmd0aDtcclxuICAgIGNvbnN0IG1lID0gY29uc3RhbnRzLnNoZWxsSGVpZ2h0O1xyXG5cclxuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAtICh3YWZmbGUgKyB0aXRsZVdpZHRoICsgc2VhcmNoICsgZHluYW1pY3NBY3Rpb25zICsgY3VzdG9tQWN0aW9uICsgb3ZlcmZsb3dNZW51ICsgZGl2aWRlciArIHN5c3RlbUFjdGlvbnMgKyBtZSk7XHJcbiAgfVxyXG5cclxuICBnZXRPdmVyZmxvd0l0ZW1zID0gKGN1cnJlbnRTdGF0ZTogVG9wTmF2U3RhdGUpID0+IFsuLi5jdXJyZW50U3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFjaywgLi4uY3VycmVudFN0YXRlLmR5bmFtaWNzT3ZlcmZsb3dTdGFjaywgLi4uY3VycmVudFN0YXRlLnN5c3RlbU92ZXJmbG93U3RhY2tdO1xyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVEaW1lbnNpb25zKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVEaW1lbnNpb25zKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFRvcE5hdlByb3BzKSB7XHJcbiAgICBpZiAocHJldlByb3BzLmN1c3RvbU92ZXJmbG93U3RhY2sgIT09IHRoaXMucHJvcHMuY3VzdG9tT3ZlcmZsb3dTdGFjaykge1xyXG4gICAgICB0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZU92ZXJmbG93TWVudSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dPdmVyZmxvd01lbnU6ICF0aGlzLnN0YXRlLnNob3dPdmVyZmxvd01lbnV9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxTdHlsZWRIZWFkZXI+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzaGVsbC1pY29uLWJ1dHRvbiBzaGVsbC1pY29uLWJ1dHRvbi0td2FmZmxlXCI+e0Z1bGxNZGwyLldhZmZsZU9mZmljZTM2NX08L2J1dHRvbj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoZWxsLXRpdGxlXCIgcmVmPXt0aGlzLmVkaXRhYmxlfT5TYWxlczwvZGl2PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2hlbGwtaWNvbi1idXR0b25cIj57RnVsbE1kbDIuU2VhcmNofTwvYnV0dG9uPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmR5bmFtaWNzRGlzcGxheVN0YWNrLm1hcChpdGVtID0+IFxyXG4gICAgICAgICg8YnV0dG9uIGtleT17aXRlbS5sYWJlbH0gY2xhc3NOYW1lPVwic2hlbGwtaWNvbi1idXR0b25cIj5cclxuICAgICAgICB7aXRlbS5pY29ufVxyXG4gICAgICAgIDwvYnV0dG9uPilcclxuICAgICAgICApfVxyXG4gICAgICAgIHt0aGlzLmdldE92ZXJmbG93SXRlbXModGhpcy5zdGF0ZSkubGVuZ3RoID4gMSA/IFxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy50b2dnbGVPdmVyZmxvd01lbnV9IGNsYXNzTmFtZT1cInNoZWxsLWljb24tYnV0dG9uIHNoZWxsLWljb24tYnV0dG9uLS1tb3JlXCI+XHJcbiAgICAgICAgICB7RnVsbE1kbDIuTW9yZX1cclxuICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3dPdmVyZmxvd01lbnUgP1xyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy1tZW51XCI+XHJcbiAgICAgICAgICAgIHtbLi4udGhpcy5zdGF0ZS5keW5hbWljc092ZXJmbG93U3RhY2ssIC4uLnRoaXMuc3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFja10ubWFwKGl0ZW0gPT4gXHJcbiAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmxhYmVsfSBjbGFzc05hbWU9XCJtZW51LXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lbnUtcm93X19pY29uXCI+e2l0ZW0uaWNvbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWVudS1yb3dfX3RleHRcIj57aXRlbS5sYWJlbH08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2Pil9XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN5c3RlbU92ZXJmbG93U3RhY2subGVuZ3RoID8gPGRpdiBjbGFzc05hbWU9XCJtZW51LWRpdmlkZXJcIj48L2Rpdj4gOiBudWxsfVxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5zeXN0ZW1PdmVyZmxvd1N0YWNrLm1hcChpdGVtID0+IFxyXG4gICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5sYWJlbH0gY2xhc3NOYW1lPVwibWVudS1yb3dcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZW51LXJvd19faWNvblwiPntpdGVtLmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lbnUtcm93X190ZXh0XCI+e2l0ZW0ubGFiZWx9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj4pfVxyXG4gICAgICAgICAgPC9kaXY+IDogbnVsbH1cclxuICAgICAgICA8L2J1dHRvbj4gOiB0aGlzLmdldE92ZXJmbG93SXRlbXModGhpcy5zdGF0ZSkubGVuZ3RoID4gMCA/XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzaGVsbC1pY29uLWJ1dHRvblwiPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbU92ZXJmbG93U3RhY2tbMF0uaWNvbn1cclxuICAgICAgICA8L2J1dHRvbj4gOiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLnN5c3RlbURpc3BsYXlTdGFjay5sZW5ndGggPyA8ZGl2IGNsYXNzTmFtZT1cInNoZWxsLWRpdmlkZXJcIj48L2Rpdj4gOiBudWxsfVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLnN5c3RlbURpc3BsYXlTdGFjay5tYXAoaXRlbSA9PiBcclxuICAgICAgICAoPGJ1dHRvbiBrZXk9e2l0ZW0ubGFiZWx9IGNsYXNzTmFtZT1cInNoZWxsLWljb24tYnV0dG9uXCI+XHJcbiAgICAgICAge2l0ZW0uaWNvbn1cclxuICAgICAgICA8L2J1dHRvbj4pXHJcbiAgICAgICAgKX1cclxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNoZWxsLWljb24tYnV0dG9uIHNoZWxsLWljb24tYnV0dG9uLS1hdmF0YXJcIj5cclxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiYXZhdGFyXCIgYWx0PVwieW91ciBhdmF0YXJcIiBzcmM9e3RoaXMucHJvcHMuYXZhdGFySW1nVXJsfT48L2ltZz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9TdHlsZWRIZWFkZXI+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmNvbnN0IFN0eWxlZEhlYWRlciA9IHN0eWxlZC5oZWFkZXJgXHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBoZWlnaHQ6ICR7Y29uc3RhbnRzLnNoZWxsSGVpZ2h0fXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDIwNTA7XHJcblxyXG4gIC5vdmVyZmxvdy1tZW51IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLXNlZ29lLXVpKTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogJHtjb25zdGFudHMuc2hlbGxIZWlnaHR9cHg7XHJcbiAgICByaWdodDogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgMy4ycHggNy4ycHggMCByZ2JhKDAsMCwwLC4xMzIpLCAwIDAuNnB4IDEuOHB4IDAgcmdiYSgwLDAsMCwuMTA4KTtcclxuICB9XHJcblxyXG4gIC5tZW51LXJvd19fdGV4dCB7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIH1cclxuXHJcbiAgLm1lbnUtcm93IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBtYXJnaW46IDE2cHggMTZweDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAubWVudS1yb3dfX2ljb24ge1xyXG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLW1kbDIpO1xyXG4gICAgZmxleDogMCAwIDE2cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XHJcbiAgfVxyXG5cclxuICAubWVudS1kaXZpZGVyIHtcclxuICAgIGhlaWdodDogMXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjI1KTtcclxuICB9XHJcblxyXG4gIC5zaGVsbC1kaXZpZGVyIHtcclxuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XHJcbiAgICBtYXJnaW46ICR7Y29uc3RhbnRzLnNoZWxsRGl2aWRlclZlcnRpY2FsTWFyZ2lufXB4ICR7Y29uc3RhbnRzLnNoZWxsRGl2aWRlclNpZGVNYXJnaW59cHg7XHJcbiAgICB3aWR0aDogJHtjb25zdGFudHMuZGl2aWRlclN0cm9rZVdpZHRofXB4O1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNTUpO1xyXG4gIH1cclxuXHJcbiAgLnNoZWxsLXRpdGxlIHtcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfVxyXG5cclxuICAuc2hlbGwtaWNvbi1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mZi1tZGwyKTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6ICR7Y29uc3RhbnRzLnNoZWxsSGVpZ2h0fXB4O1xyXG4gICAgd2lkdGg6ICR7Y29uc3RhbnRzLnNoZWxsSGVpZ2h0fXB4O1xyXG4gIH1cclxuXHJcbiAgLnNoZWxsLWljb24tYnV0dG9uLS1hdmF0YXIge1xyXG4gICAgaGVpZ2h0OiAke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weDtcclxuICAgIHdpZHRoOiAke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcblxyXG4gICAgLmF2YXRhciB7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgaGVpZ2h0OiBjYWxjKDAuNioke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weCk7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDAuNioke2NvbnN0YW50cy5zaGVsbEhlaWdodH1weCk7XHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2hlbGwtaWNvbi1idXR0b24tLW1vcmUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIH1cclxuYDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdSZWFjdCc7XHJcbmltcG9ydCB7VG9wTmF2fSBmcm9tICcuL3RvcC1uYXYnO1xyXG5pbXBvcnQge0Z1bGxNZGwyfSBmcm9tICcuLi8uLi9zdHlsZXMvaWNvbi9mdWxsLW1kbDInO1xyXG5cclxuY29uc3QgZHluYW1pY3NEaXNwbGF5U3RhY2sgPSBbe2ljb246IEZ1bGxNZGwyLlRCWCwgbGFiZWw6IFwiVGFzayBmbG93XCJ9LCB7aWNvbjogRnVsbE1kbDIuVG9vbFRpcCwgbGFiZWw6IFwiUmVsYXRpb25zaGlwIEFzc2lzdGFudFwifSwge2ljb246IEZ1bGxNZGwyLkFkZCwgbGFiZWw6IFwiQ3JlYXRlXCJ9XTtcclxuY29uc3Qgc3lzdGVtRGlzcGxheVN0YWNrID0gW3tpY29uOiBGdWxsTWRsMi5TZXR0aW5ncywgbGFiZWw6IFwiU2V0dGluZ3NcIn0sIHtpY29uOiBGdWxsTWRsMi5IZWxwLCBsYWJlbDogXCJIZWxwXCJ9XTtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb3BOYXZEZW1vIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PGFueSwgYW55PiB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IGFueSkge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGN1c3RvbU92ZXJmbG93U3RhY2s6IFt7aWNvbjogRnVsbE1kbDIuRW1vamkyLCBsYWJlbDogXCJDdXN0b20gMFwifV0sXHJcbiAgICB9XHJcbiAgfVxyXG4gIGFkZEN1c3RvbUl0ZW0gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBuZXdTdGFjayA9IFsuLi50aGlzLnN0YXRlLmN1c3RvbU92ZXJmbG93U3RhY2ssIHtpY29uOiBGdWxsTWRsMi5FbW9qaTIsIGxhYmVsOiBgQ3VzdG9tICR7dGhpcy5zdGF0ZS5jdXN0b21PdmVyZmxvd1N0YWNrLmxlbmd0aH1gfV07XHJcbiAgICB0aGlzLnNldFN0YXRlKHtjdXN0b21PdmVyZmxvd1N0YWNrOiBuZXdTdGFja30pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ3VzdG9tSXRlbSA9ICgpID0+IHtcclxuICAgIGNvbnN0IG5ld1N0YWNrID0gWy4uLnRoaXMuc3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFja107XHJcbiAgICBuZXdTdGFjay5wb3AoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe2N1c3RvbU92ZXJmbG93U3RhY2s6IG5ld1N0YWNrfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgPHNlY3Rpb24+XHJcbiAgICAgIDxoMj5TYW1wbGU8L2gyPlxyXG4gICAgICA8VG9wTmF2IGF2YXRhckltZ1VybD1cImh0dHBzOi8vYXBpLmFkb3JhYmxlLmlvL2F2YXRhcnMvMjg1L2Fib3R0QGFkb3JhYmxlLnBuZ1wiIGR5bmFtaWNzRGlzcGxheVN0YWNrPXtkeW5hbWljc0Rpc3BsYXlTdGFja30gc3lzdGVtRGlzcGxheVN0YWNrPXtzeXN0ZW1EaXNwbGF5U3RhY2t9IGN1c3RvbU92ZXJmbG93U3RhY2s9e3RoaXMuc3RhdGUuY3VzdG9tT3ZlcmZsb3dTdGFja30+PC9Ub3BOYXY+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgICA8c2VjdGlvbj5cclxuICAgICAgPGgyPlVzYWdlPC9oMj5cclxuICAgICAgPHNlY3Rpb24gc3R5bGU9e3ttYXJnaW5Ub3A6IFwiMTZweFwifX0+XHJcbiAgICAgICAgPHNwYW4+Q3VzdG9tIGFjdGlvbnM6IDwvc3Bhbj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucmVtb3ZlQ3VzdG9tSXRlbX0+LTwvYnV0dG9uPlxyXG4gICAgICAgIDxzcGFuPiB7dGhpcy5zdGF0ZS5jdXN0b21PdmVyZmxvd1N0YWNrLmxlbmd0aH0gPC9zcGFuPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5hZGRDdXN0b21JdGVtfT4rPC9idXR0b24+XHJcbiAgICAgIDwvc2VjdGlvbj5cclxuICAgICAgPHNlY3Rpb24+XHJcbiAgICAgICAgPGgzPkRlc2lnbiBub3RlczwvaDM+XHJcbiAgICAgICAgPHVsPlxyXG4gICAgICAgICAgPGxpPlRoaXMgcHJvdG90eXBlIG9ubHkgc2hvd3MgYnJvd3NlciBiZWhhdmlvci4gU2hpbSBleHBlcmllbmNlIGlzIG91dCBvZiBzY29wZTwvbGk+XHJcbiAgICAgICAgICA8bGk+V2hlbiB2aWV3cG9ydCBuYXJyb3dzLCBEeW5hbWljcyBhY3Rpb25zICh0YXNrIGZsb3csIHJlbGF0aW9uc2hpcCBhc3Npc3RhbmNlLCBjcmVhdGUpIGNvbGxhcHNlIGZpcnN0LCB0aGVuIFN5c3RlbSBidXR0b25zIChoZWxwLCBzZXR0aW5ncykgbmV4dDwvbGk+XHJcbiAgICAgICAgICA8bGk+Q3VzdG9tIGFjdGlvbnMgYXJlIGFsd2F5cyBjb2xsYXBzZWQgZXhjZXB0IHdoZW4gdGhlcmUgaXMgb25seSBvbmU8L2xpPlxyXG4gICAgICAgICAgPGxpPlRoZSBTeXN0ZW0gYnV0dG9ucyBhcmUgZWl0aGVyIGFsbCBjb2xsYXBzZWQgb3IgYWxsIGV4cGFuZGVkPC9saT5cclxuICAgICAgICAgIDxsaT5UaGUgRHluYW1pY3MgYWN0aW9ucyBhcmUgZWl0aGVyIGFsbCBjb2xsYXBzZWQgb3IgYWxsIGV4cGFuZGVkPC9saT5cclxuICAgICAgICA8L3VsPlxyXG4gICAgICA8L3NlY3Rpb24+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVG9wTmF2RGVtbzsiXSwic291cmNlUm9vdCI6IiJ9